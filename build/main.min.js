(()=>{var A=Object.getPrototypeOf;var C=Reflect.get;var k=(e,a,f)=>C(A(e),f,a);var d=(e,a,f)=>new Promise((r,n)=>{var c=i=>{try{v(f.next(i))}catch(y){n(y)}},U=i=>{try{v(f.throw(i))}catch(y){n(y)}},v=i=>i.done?r(i.value):Promise.resolve(i.value).then(c,U);v((f=f.apply(e,a)).next())});var t=class e{constructor(a){this.obj=a,this.control=document.createElement(a),this.body=document.body,this.widgets=[],this.events_list=[]}hasClass(a){let f=this.control.classList;for(let r of f)if(r==a)return!0;return!1}getContainer(){return this.control}control(){return this.control}clear(){for(let a of this.widgets)typeof a.dispose=="function"&&a.dispose(),a.removeEvents(),a.clear(),a.control.remove(),a.widgets=[];return this.widgets=[],this}remove(a=0){typeof this.widgets[a]!="undefined"&&(this.widgets[a].clear(),this.widgets[a].control.remove()),this.widgets.splice(a,1),this.control.remove()}delete(){this.removeEvents(),this.clear(),this.control.remove()}style(a={},f=""){if(typeof a=="object")for(let r in a)this.control.style[r]=a[r];else typeof a=="string"&&(this.control.style[a]=f);return this}setStyle(a={},f=""){if(typeof a=="object")for(let r in a)this.control.style[r]=a[r];else typeof a=="string"&&(this.control.style[a]=f);return this}class(a=null){if(a!=null){if(typeof a=="string")this.control.classList.add(a);else if(a instanceof Array)for(let f of a)typeof f=="string"&&this.control.classList.add(f);return this}}addClass(a){if(typeof a=="string")this.control.classList.add(a);else if(a instanceof Array)for(let f of a)typeof f=="string"&&this.control.classList.add(f);return this}removeClass(a){if(typeof a=="string")this.control.classList.remove(a);else if(a instanceof Array)for(let f of a)typeof f=="string"&&this.control.classList.remove(f);return this}attr(a=null,f=""){if(a!=null){if(typeof a=="object")for(let r in a)this.control.setAttribute(r,a[r]);else typeof a=="string"&&this.control.setAttribute(a,f);return this}}removeAttr(a=null){if(typeof a=="string")this.control.removeAttribute(a);else if(a instanceof Array)for(let f of a)this.control.removeAttribute(f);return this}setAttr(a={},f=""){if(typeof a=="object")for(let r in a)this.control.setAttribute(r,a[r]);else typeof a=="string"&&this.control.setAttribute(a,f);return this}getAttr(a){return this.control.getAttribute(a)}setValue(a){return this.control.value=a,this}getValue(){return this.control.value}__escape(a){if(typeof a!="string")return a;let f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return a.replace(/[&<>"']/g,function(r){return f[r]})}value(a=null){if(this.obj==="input"||this.obj==="select"||this.obj=="textarea")return a!=null?(this.control.value=a,null):this.control.value;throw new TypeError(`${this.name} dont have value method`)}html(a=null){return a!=null?(this.control.innerHTML=a,this):this.control.innerHTML}text(a=null){return a!=null?(this.control.innerHTML=this.__escape(a),this):this.control.innerText}show(){return this.control.style.display="inline-block",this}hide(){return this.control.style.display="none",this}setHTML(a){return this.control.innerHTML=a,this}add(a){if(a instanceof e)this.widgets.push(a),this.control.appendChild(a.control);else if(a instanceof Array)for(let f of a)f instanceof e&&(this.widgets.push(f),this.control.appendChild(f.control));return this}prepend(a){if(a instanceof e)this.widgets.push(a),this.control.prepend(a.control);else if(a instanceof Array)for(let f of a)f instanceof e&&(this.widgets.push(f),this.control.prepend(f.control));return this}addEventListener(a,f){return this.control.addEventListener(a,f),this.events_list.push([a,f]),this}removeEvents(){for(let a of this.events_list)console.log(`Clean up: ${a[0]} - ${a[1]}`),this.control.removeEventListener(a[0],a[1]);return this.events_list=[],this}action(a,f){return this.control.addEventListener(a,f),this.events_list.push([a,f]),this}};var o=class extends t{constructor(){super("div")}};var p=class extends t{constructor(){super("label")}},b=class extends t{constructor(){super("input")}},m=class extends t{constructor(){super("button")}};var w=class extends t{constructor(a){if(super("div"),this.setStyle({width:"100%",height:"100%",position:"relative"}),typeof a=="object"){let{app:f=null,title:r="",width:n=null,height:c=null}=a}this.hide(),this.body.appendChild(this.control)}navigate(a){this.clear(),this.add(a)}run(){this.show()}};var s={Colors:{red:"red",pink:"pink",purple:"purple","deep-purple":"deep-purple",indigo:"indigo",blue:"blue","light-blue":"light-blue",cyan:"cyan",aqua:"aqua",teal:"teal",green:"green","light-green":"light-green",lime:"lime",sand:"sand",khaki:"khaki",yellow:"yellow",amber:"amber",orange:"orange","deep-orange":"deep-orange","blue-gray":"blue-gray",brown:"brown","light-gray":"light-gray",gray:"gray","dark-gray":"dark-gray","pale-red":"pale-red","pale-yellow":"pale-yellow","pale-green":"pale-green","pale-blue":"pale-blue"},Sizes:{tiny:"w3-tiny",small:"w3-small",large:"w3-large",xlarge:"w3-xlarge",xxlarge:"w3-xxlarge",xxxlarge:"w3-xxxlarge"},GetSize:function(e){if(typeof this.Sizes[e]!="undefined")return e;throw new TypeError("wrong sized!")},GetColor:function(e){if(typeof this.Colors[e]!="undefined")return e;throw new TypeError("wrong color!")}};var u=class extends o{constructor(a=null){super(),super.class(["w3-card"]),a!=null&&super.class(`w3-${s.GetColor(a)}`)}},l=class extends m{constructor(a=null,f=null){super(),super.class(["w3-btn"]),a instanceof t?super.add(a):super.html(a),f!=null&&super.class(`w3-${s.GetColor(f)}`)}size(a){return super.class(`w3-${s.GetSize(a)}`),this}circle(){return super.class("w3-circle"),this}block(){return super.class("w3-block"),this}button(){return super.class("w3-button"),this}ripple(){return super.class("w3-ripple"),this}border(){return super.class("w3-border"),this}};var h=class extends o{constructor(a=null,f="text",r=null){super(),this.label=new p,this.tf=new b().class(["w3-input"]),a!=null&&(a instanceof t?this.label.add(a):this.label.html(a),super.add(this.label)),this.tf.attr("type",f),r!=null&&this.tf.attr("placeholder",r),super.add([this.tf])}size(a){return this.tf.class(`w3-${s.GetSize(a)}`),this}labelColor(a=null){return this.label.class(`w3-text-${s.GetColor(a)}`),this}round(){return this.tf.class("w3-round"),this}border(){return this.tf.class("w3-border"),this}getValue(){return this.tf.value()}setValue(a){return this.tf.value(a),this}disabled(){return this.tf.attr("disabled",""),this}enabled(){return this.tf.removeAttr("disabled"),this}};var x=class e extends p{constructor(a=null){if(super(),a instanceof t)super.add(a);else if(a instanceof Array)for(let f of a)f instanceof t?super.add(f):super.add(new e(f));else super.text(a)}};var g=class e extends o{constructor(a=null,f=null,r=null){if(super(),super.class("w3-modal"),this.resolvefn=null,this.content=new o().class(["w3-modal-content","w3-card-4","w3-animate-top"]),f!=null&&this.content.style({maxWidth:f}),a!=null){let n=new u().add(new x(a)).style({padding:"15px"}),c=new l("X").style({float:"right"}).size("tiny");n.add(c),r!=null&&n.class(`w3-${s.GetColor(r)}`),this.content.add(new o().class(["w3-container"])),this.content.add(n),c.addEventListener("click",()=>{this.hide()})}super.add(this.content)}add(a=null){if(a instanceof t)this.content.add(a);else throw new TypeError("obj must instance of Widget")}show(){return d(this,null,function*(){return k(e.prototype,this,"show").call(this),this.body.appendChild(k(e.prototype,this,"control").call(this)),new Promise((f,r)=>{this.resolvefn=f})})}hide(a=null){this.resolvefn(a),super.hide()}};var q=class extends g{constructor(){super("Login Information","500px","orange");let a=new u().style({padding:"10px"}),f=new h("Usrename","text","Enter Username").border(),r=new h("Password","password","Enter Password").border(),n=new l("Sign In","blue").style({marginTop:"10px"});a.add([f,r,n]),super.add(a)}},F=class extends o{constructor(){super(),super.style({marginBottom:"50vh"});let a=new l("Open Modal","red");super.add(a),a.addEventListener("click",()=>d(this,null,function*(){let r=yield new q().show();console.log(r)}))}},z=new w;z.navigate(new F);z.run();var Fa=z;})();
