"use strict";(()=>{var vl=Object.create;var cr=Object.defineProperty,yl=Object.defineProperties,wl=Object.getOwnPropertyDescriptor,kl=Object.getOwnPropertyDescriptors,_l=Object.getOwnPropertyNames,to=Object.getOwnPropertySymbols,Al=Object.getPrototypeOf,hr=Object.prototype.hasOwnProperty,Fa=Object.prototype.propertyIsEnumerable;var dr=(O,M,R)=>M in O?cr(O,M,{enumerable:!0,configurable:!0,writable:!0,value:R}):O[M]=R,ot=(O,M)=>{for(var R in M||(M={}))hr.call(M,R)&&dr(O,R,M[R]);if(to)for(var R of to(M))Fa.call(M,R)&&dr(O,R,M[R]);return O},ft=(O,M)=>yl(O,kl(M));var Mt=(O,M)=>{var R={};for(var B in O)hr.call(O,B)&&M.indexOf(B)<0&&(R[B]=O[B]);if(O!=null&&to)for(var B of to(O))M.indexOf(B)<0&&Fa.call(O,B)&&(R[B]=O[B]);return R};var La=(O,M)=>()=>(M||O((M={exports:{}}).exports,M),M.exports);var Cl=(O,M,R,B)=>{if(M&&typeof M=="object"||typeof M=="function")for(let F of _l(M))!hr.call(O,F)&&F!==R&&cr(O,F,{get:()=>M[F],enumerable:!(B=wl(M,F))||B.enumerable});return O};var Oa=(O,M,R)=>(R=O!=null?vl(Al(O)):{},Cl(M||!O||!O.__esModule?cr(R,"default",{value:O,enumerable:!0}):R,O));var I=(O,M,R)=>dr(O,typeof M!="symbol"?M+"":M,R);var Pa=La((pr,ur)=>{"use strict";(function(O,M){typeof pr=="object"&&typeof ur!="undefined"?ur.exports=M():typeof define=="function"&&define.amd?define(M):(O=typeof globalThis!="undefined"?globalThis:O||self).Chart=M()})(pr,function(){"use strict";var ci,hi,pi,Qi,ui,mi,Ve,fi,gi,Gi,Ji;var O=Object.freeze({__proto__:null,get Colors(){return rl},get Decimation(){return nl},get Filler(){return pl},get Legend(){return ul},get SubTitle(){return fl},get Title(){return ml},get Tooltip(){return xl}});function M(){}let R=(()=>{let i=0;return()=>i++})();function B(i){return i==null}function F(i){if(Array.isArray&&Array.isArray(i))return!0;let t=Object.prototype.toString.call(i);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function K(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}function rt(i){return(typeof i=="number"||i instanceof Number)&&isFinite(+i)}function lt(i,t){return rt(i)?i:t}function Z(i,t){return i===void 0?t:i}let q=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100:+i/t,pt=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*t:+i;function G(i,t,e){if(i&&typeof i.call=="function")return i.apply(e,t)}function J(i,t,e,o){let r,n,a;if(F(i))if(n=i.length,o)for(r=n-1;r>=0;r--)t.call(e,i[r],r);else for(r=0;r<n;r++)t.call(e,i[r],r);else if(K(i))for(a=Object.keys(i),n=a.length,r=0;r<n;r++)t.call(e,i[a[r]],a[r])}function Ot(i,t){let e,o,r,n;if(!i||!t||i.length!==t.length)return!1;for(e=0,o=i.length;e<o;++e)if(r=i[e],n=t[e],r.datasetIndex!==n.datasetIndex||r.index!==n.index)return!1;return!0}function Pt(i){if(F(i))return i.map(Pt);if(K(i)){let t=Object.create(null),e=Object.keys(i),o=e.length,r=0;for(;r<o;++r)t[e[r]]=Pt(i[e[r]]);return t}return i}function vi(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function ne(i,t,e,o){if(!vi(i))return;let r=t[i],n=e[i];K(r)&&K(n)?ee(r,n,o):t[i]=Pt(n)}function ee(i,t,e){let o=F(t)?t:[t],r=o.length;if(!K(i))return i;let n=(e=e||{}).merger||ne,a;for(let s=0;s<r;++s){if(a=o[s],!K(a))continue;let d=Object.keys(a);for(let c=0,p=d.length;c<p;++c)n(d[c],i,a,e)}return i}function Xt(i,t){return ee(i,t,{merger:xe})}function xe(i,t,e){if(!vi(i))return;let o=t[i],r=e[i];K(o)&&K(r)?Xt(o,r):Object.prototype.hasOwnProperty.call(t,i)||(t[i]=Pt(r))}let je={"":i=>i,x:i=>i.x,y:i=>i.y};function tt(i){let t=i.split("."),e=[],o="";for(let r of t)o+=r,o.endsWith("\\")?o=o.slice(0,-1)+".":(e.push(o),o="");return e}function bt(i,t){return(je[t]||(je[t]=function(o){let r=tt(o);return n=>{for(let a of r){if(a==="")break;n=n&&n[a]}return n}}(t)))(i)}function gt(i){return i.charAt(0).toUpperCase()+i.slice(1)}let At=i=>i!==void 0,jt=i=>typeof i=="function",ve=(i,t)=>{if(i.size!==t.size)return!1;for(let e of i)if(!t.has(e))return!1;return!0};function ae(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}let st=Math.PI,et=2*st,se=et+st,ye=Number.POSITIVE_INFINITY,Tt=st/180,dt=st/2,St=st/4,De=2*st/3,Rt=Math.log10,ht=Math.sign;function Wt(i,t,e){return Math.abs(i-t)<e}function we(i){let t=Math.round(i);i=Wt(i,t,i/1e3)?t:i;let e=Math.pow(10,Math.floor(Rt(i))),o=i/e;return(o<=1?1:o<=2?2:o<=5?5:10)*e}function We(i){let t=[],e=Math.sqrt(i),o;for(o=1;o<e;o++)i%o==0&&(t.push(o),t.push(i/o));return e===(0|e)&&t.push(e),t.sort((r,n)=>r-n).pop(),t}function Kt(i){return!function(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}(i)&&!isNaN(parseFloat(i))&&isFinite(i)}function L(i,t){let e=Math.round(i);return e-t<=i&&e+t>=i}function l(i,t,e){let o,r,n;for(o=0,r=i.length;o<r;o++)n=i[o][e],isNaN(n)||(t.min=Math.min(t.min,n),t.max=Math.max(t.max,n))}function u(i){return i*(st/180)}function v(i){return i*(180/st)}function w(i){if(!rt(i))return;let t=1,e=0;for(;Math.round(i*t)/t!==i;)t*=10,e++;return e}function C(i,t){let e=t.x-i.x,o=t.y-i.y,r=Math.sqrt(e*e+o*o),n=Math.atan2(o,e);return n<-.5*st&&(n+=et),{angle:n,distance:r}}function S(i,t){return Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2))}function T(i,t){return(i-t+se)%et-st}function V(i){return(i%et+et)%et}function X(i,t,e,o){let r=V(i),n=V(t),a=V(e),s=V(n-r),d=V(a-r),c=V(r-n),p=V(r-a);return r===n||r===a||o&&n===a||s>d&&c<p}function it(i,t,e){return Math.max(t,Math.min(e,i))}function _t(i){return it(i,-32768,32767)}function ut(i,t,e,o=1e-6){return i>=Math.min(t,e)-o&&i<=Math.max(t,e)+o}function Zt(i,t,e){e=e||(a=>i[a]<t);let o,r=i.length-1,n=0;for(;r-n>1;)o=n+r>>1,e(o)?n=o:r=o;return{lo:n,hi:r}}let Ct=(i,t,e,o)=>Zt(i,e,o?r=>{let n=i[r][t];return n<e||n===e&&i[r+1][t]===e}:r=>i[r][t]<e),yi=(i,t,e)=>Zt(i,e,o=>i[o][t]>=e);function He(i,t,e){let o=0,r=i.length;for(;o<r&&i[o]<t;)o++;for(;r>o&&i[r-1]>e;)r--;return o>0||r<i.length?i.slice(o,r):i}let Te=["push","pop","shift","splice","unshift"];function fr(i,t){i._chartjs?i._chartjs.listeners.push(t):(Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Te.forEach(e=>{let o="_onData"+gt(e),r=i[e];Object.defineProperty(i,e,{configurable:!0,enumerable:!1,value(...n){let a=r.apply(this,n);return i._chartjs.listeners.forEach(s=>{typeof s[o]=="function"&&s[o](...n)}),a}})}))}function co(i,t){let e=i._chartjs;if(!e)return;let o=e.listeners,r=o.indexOf(t);r!==-1&&o.splice(r,1),o.length>0||(Te.forEach(n=>{delete i[n]}),delete i._chartjs)}function ho(i){let t=new Set(i);return t.size===i.length?i:Array.from(t)}let po=typeof window=="undefined"?function(i){return i()}:window.requestAnimationFrame;function uo(i,t){let e=[],o=!1;return function(...r){e=r,o||(o=!0,po.call(window,()=>{o=!1,i.apply(t,e)}))}}function gr(i,t){let e;return function(...o){return t?(clearTimeout(e),e=setTimeout(i,t,o)):i.apply(this,o),t}}let wi=i=>i==="start"?"left":i==="end"?"right":"center",vt=(i,t,e)=>i==="start"?t:i==="end"?e:(t+e)/2,br=(i,t,e,o)=>i===(o?"left":"right")?e:i==="center"?(t+e)/2:t;function mo(i,t,e){let o=t.length,r=0,n=o;if(i._sorted){let{iScale:a,vScale:s,_parsed:d}=i,c=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null,p=a.axis,{min:h,max:m,minDefined:f,maxDefined:x}=a.getUserBounds();if(f){if(r=Math.min(Ct(d,p,h).lo,e?o:Ct(t,p,a.getPixelForValue(h)).lo),c){let g=d.slice(0,r+1).reverse().findIndex(b=>!B(b[s.axis]));r-=Math.max(0,g)}r=it(r,0,o-1)}if(x){let g=Math.max(Ct(d,a.axis,m,!0).hi+1,e?0:Ct(t,p,a.getPixelForValue(m),!0).hi+1);if(c){let b=d.slice(g-1).findIndex(y=>!B(y[s.axis]));g+=Math.max(0,b)}n=it(g,r,o)-r}else n=o-r}return{start:r,count:n}}function fo(i){let{xScale:t,yScale:e,_scaleRanges:o}=i,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!o)return i._scaleRanges=r,!0;let n=o.xmin!==t.min||o.xmax!==t.max||o.ymin!==e.min||o.ymax!==e.max;return Object.assign(o,r),n}class Ia{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,o,r){let n=e.listeners[r],a=e.duration;n.forEach(s=>s({chart:t,initial:e.initial,numSteps:a,currentStep:Math.min(o-e.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=po.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((o,r)=>{if(!o.running||!o.items.length)return;let n=o.items,a,s=n.length-1,d=!1;for(;s>=0;--s)a=n[s],a._active?(a._total>o.duration&&(o.duration=a._total),a.tick(t),d=!0):(n[s]=n[n.length-1],n.pop());d&&(r.draw(),this._notify(r,o,t,"progress")),n.length||(o.running=!1,this._notify(r,o,t,"complete"),o.initial=!1),e+=n.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){let e=this._charts,o=e.get(t);return o||(o={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,o)),o}listen(t,e,o){this._getAnims(t).listeners[e].push(o)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){let e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((o,r)=>Math.max(o,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;let e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}stop(t){let e=this._charts.get(t);if(!e||!e.items.length)return;let o=e.items,r=o.length-1;for(;r>=0;--r)o[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Qt=new Ia;function Ne(i){return i+.5|0}let le=(i,t,e)=>Math.max(Math.min(i,e),t);function $e(i){return le(Ne(2.55*i),0,255)}function de(i){return le(Ne(255*i),0,255)}function ie(i){return le(Ne(i/2.55)/100,0,1)}function xr(i){return le(Ne(100*i),0,100)}let Bt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},go=[..."0123456789ABCDEF"],ja=i=>go[15&i],Wa=i=>go[(240&i)>>4]+go[15&i],ki=i=>(240&i)>>4==(15&i);function Ha(i){var t=(e=>ki(e.r)&&ki(e.g)&&ki(e.b)&&ki(e.a))(i)?ja:Wa;return i?"#"+t(i.r)+t(i.g)+t(i.b)+((e,o)=>e<255?o(e):"")(i.a,t):void 0}let Na=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function vr(i,t,e){let o=t*Math.min(e,1-e),r=(n,a=(n+i/30)%12)=>e-o*Math.max(Math.min(a-3,9-a,1),-1);return[r(0),r(8),r(4)]}function $a(i,t,e){let o=(r,n=(r+i/60)%6)=>e-e*t*Math.max(Math.min(n,4-n,1),0);return[o(5),o(3),o(1)]}function Ua(i,t,e){let o=vr(i,1,.5),r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)o[r]*=1-t-e,o[r]+=t;return o}function bo(i){let t=i.r/255,e=i.g/255,o=i.b/255,r=Math.max(t,e,o),n=Math.min(t,e,o),a=(r+n)/2,s,d,c;return r!==n&&(c=r-n,d=a>.5?c/(2-r-n):c/(r+n),s=function(p,h,m,f,x){return p===x?(h-m)/f+(h<m?6:0):h===x?(m-p)/f+2:(p-h)/f+4}(t,e,o,c,r),s=60*s+.5),[0|s,d||0,a]}function xo(i,t,e,o){return(Array.isArray(t)?i(t[0],t[1],t[2]):i(t,e,o)).map(de)}function vo(i,t,e){return xo(vr,i,t,e)}function yr(i){return(i%360+360)%360}function Ya(i){let t=Na.exec(i),e,o=255;if(!t)return;t[5]!==e&&(o=t[6]?$e(+t[5]):de(+t[5]));let r=yr(+t[2]),n=+t[3]/100,a=+t[4]/100;return e=t[1]==="hwb"?function(s,d,c){return xo(Ua,s,d,c)}(r,n,a):t[1]==="hsv"?function(s,d,c){return xo($a,s,d,c)}(r,n,a):vo(r,n,a),{r:e[0],g:e[1],b:e[2],a:o}}let wr={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},kr={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"},_i;function qa(i){_i||(_i=function(){let e={},o=Object.keys(kr),r=Object.keys(wr),n,a,s,d,c;for(n=0;n<o.length;n++){for(d=c=o[n],a=0;a<r.length;a++)s=r[a],c=c.replace(s,wr[s]);s=parseInt(kr[d],16),e[c]=[s>>16&255,s>>8&255,255&s]}return e}(),_i.transparent=[0,0,0,0]);let t=_i[i.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}let Xa=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,yo=i=>i<=.0031308?12.92*i:1.055*Math.pow(i,1/2.4)-.055,Fe=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function Ai(i,t,e){if(i){let o=bo(i);o[t]=Math.max(0,Math.min(o[t]+o[t]*e,t===0?360:1)),o=vo(o),i.r=o[0],i.g=o[1],i.b=o[2]}}function _r(i,t){return i&&Object.assign(t||{},i)}function Ar(i){var t={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(t={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(t.a=de(i[3]))):(t=_r(i,{r:0,g:0,b:0,a:1})).a=de(t.a),t}function Ka(i){return i.charAt(0)==="r"?function(t){let e=Xa.exec(t),o,r,n,a=255;if(e){if(e[7]!==o){let s=+e[7];a=e[8]?$e(s):le(255*s,0,255)}return o=+e[1],r=+e[3],n=+e[5],o=255&(e[2]?$e(o):le(o,0,255)),r=255&(e[4]?$e(r):le(r,0,255)),n=255&(e[6]?$e(n):le(n,0,255)),{r:o,g:r,b:n,a}}}(i):Ya(i)}class Ue{constructor(t){if(t instanceof Ue)return t;let e=typeof t,o;var r,n,a;e==="object"?o=Ar(t):e==="string"&&(a=(r=t).length,r[0]==="#"&&(a===4||a===5?n={r:255&17*Bt[r[1]],g:255&17*Bt[r[2]],b:255&17*Bt[r[3]],a:a===5?17*Bt[r[4]]:255}:a!==7&&a!==9||(n={r:Bt[r[1]]<<4|Bt[r[2]],g:Bt[r[3]]<<4|Bt[r[4]],b:Bt[r[5]]<<4|Bt[r[6]],a:a===9?Bt[r[7]]<<4|Bt[r[8]]:255})),o=n||qa(t)||Ka(t)),this._rgb=o,this._valid=!!o}get valid(){return this._valid}get rgb(){var t=_r(this._rgb);return t&&(t.a=ie(t.a)),t}set rgb(t){this._rgb=Ar(t)}rgbString(){return this._valid?(t=this._rgb)&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ie(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`):void 0;var t}hexString(){return this._valid?Ha(this._rgb):void 0}hslString(){return this._valid?function(t){if(!t)return;let e=bo(t),o=e[0],r=xr(e[1]),n=xr(e[2]);return t.a<255?`hsla(${o}, ${r}%, ${n}%, ${ie(t.a)})`:`hsl(${o}, ${r}%, ${n}%)`}(this._rgb):void 0}mix(t,e){if(t){let o=this.rgb,r=t.rgb,n,a=e===n?.5:e,s=2*a-1,d=o.a-r.a,c=((s*d==-1?s:(s+d)/(1+s*d))+1)/2;n=1-c,o.r=255&c*o.r+n*r.r+.5,o.g=255&c*o.g+n*r.g+.5,o.b=255&c*o.b+n*r.b+.5,o.a=a*o.a+(1-a)*r.a,this.rgb=o}return this}interpolate(t,e){return t&&(this._rgb=function(o,r,n){let a=Fe(ie(o.r)),s=Fe(ie(o.g)),d=Fe(ie(o.b));return{r:de(yo(a+n*(Fe(ie(r.r))-a))),g:de(yo(s+n*(Fe(ie(r.g))-s))),b:de(yo(d+n*(Fe(ie(r.b))-d))),a:o.a+n*(r.a-o.a)}}(this._rgb,t._rgb,e)),this}clone(){return new Ue(this.rgb)}alpha(t){return this._rgb.a=de(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){let t=this._rgb,e=Ne(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){let t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Ai(this._rgb,2,t),this}darken(t){return Ai(this._rgb,2,-t),this}saturate(t){return Ai(this._rgb,1,t),this}desaturate(t){return Ai(this._rgb,1,-t),this}rotate(t){return function(e,o){var r=bo(e);r[0]=yr(r[0]+o),r=vo(r),e.r=r[0],e.g=r[1],e.b=r[2]}(this._rgb,t),this}}function Ci(i){if(i&&typeof i=="object"){let t=i.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function wo(i){return Ci(i)?i:new Ue(i)}function Mi(i){return Ci(i)?i:new Ue(i).saturate(.5).darken(.1).hexString()}let Za=["x","y","borderWidth","radius","tension"],Qa=["color","borderColor","backgroundColor"],Cr=new Map;function Le(i,t,e){return function(o,r){r=r||{};let n=o+JSON.stringify(r),a=Cr.get(n);return a||(a=new Intl.NumberFormat(o,r),Cr.set(n,a)),a}(t,e).format(i)}let Mr={values:i=>F(i)?i:""+i,numeric(i,t,e){if(i===0)return"0";let o=this.chart.options.locale,r,n=i;if(e.length>1){let c=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),n=function(p,h){let m=h.length>3?h[2].value-h[1].value:h[1].value-h[0].value;return Math.abs(m)>=1&&p!==Math.floor(p)&&(m=p-Math.floor(p)),m}(i,e)}let a=Rt(Math.abs(n)),s=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),d={notation:r,minimumFractionDigits:s,maximumFractionDigits:s};return Object.assign(d,this.options.ticks.format),Le(i,o,d)},logarithmic(i,t,e){if(i===0)return"0";let o=e[t].significand||i/Math.pow(10,Math.floor(Rt(i)));return[1,2,3,5,10,15].includes(o)||t>.8*e.length?Mr.numeric.call(this,i,t,e):""}};var Ye={formatters:Mr};let ke=Object.create(null),ko=Object.create(null);function qe(i,t){if(!t)return i;let e=t.split(".");for(let o=0,r=e.length;o<r;++o){let n=e[o];i=i[n]||(i[n]=Object.create(null))}return i}function _o(i,t,e){return typeof t=="string"?ee(qe(i,t),e):ee(qe(i,""),t)}class Ga{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=o=>o.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(o,r)=>Mi(r.backgroundColor),this.hoverBorderColor=(o,r)=>Mi(r.borderColor),this.hoverColor=(o,r)=>Mi(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return _o(this,t,e)}get(t){return qe(this,t)}describe(t,e){return _o(ko,t,e)}override(t,e){return _o(ke,t,e)}route(t,e,o,r){let n=qe(this,t),a=qe(this,o),s="_"+e;Object.defineProperties(n,{[s]:{value:n[e],writable:!0},[e]:{enumerable:!0,get(){let d=this[s],c=a[r];return K(d)?Object.assign({},c,d):Z(d,c)},set(d){this[s]=d}}})}apply(t){t.forEach(e=>e(this))}}var mt=new Ga({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),i.set("animations",{colors:{type:"color",properties:Qa},numbers:{type:"number",properties:Za}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})},function(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ye.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}]);function Si(){return typeof window!="undefined"&&typeof document!="undefined"}function Ei(i){let t=i.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Di(i,t,e){let o;return typeof i=="string"?(o=parseInt(i,10),i.indexOf("%")!==-1&&(o=o/100*t.parentNode[e])):o=i,o}let Ti=i=>i.ownerDocument.defaultView.getComputedStyle(i,null);function Sr(i,t){return Ti(i).getPropertyValue(t)}let Ja=["top","right","bottom","left"];function _e(i,t,e){let o={};e=e?"-"+e:"";for(let r=0;r<4;r++){let n=Ja[r];o[n]=parseFloat(i[t+"-"+n+e])||0}return o.width=o.left+o.right,o.height=o.top+o.bottom,o}let ts=(i,t,e)=>(i>0||t>0)&&(!e||!e.shadowRoot);function ce(i,t){if("native"in i)return i;let{canvas:e,currentDevicePixelRatio:o}=t,r=Ti(e),n=r.boxSizing==="border-box",a=_e(r,"padding"),s=_e(r,"border","width"),{x:d,y:c,box:p}=function(g,b){let y=g.touches,_=y&&y.length?y[0]:g,{offsetX:k,offsetY:A}=_,E,D,P=!1;if(ts(k,A,g.target))E=k,D=A;else{let z=b.getBoundingClientRect();E=_.clientX-z.left,D=_.clientY-z.top,P=!0}return{x:E,y:D,box:P}}(i,e),h=a.left+(p&&s.left),m=a.top+(p&&s.top),{width:f,height:x}=t;return n&&(f-=a.width+s.width,x-=a.height+s.height),{x:Math.round((d-h)/f*e.width/o),y:Math.round((c-m)/x*e.height/o)}}let Fi=i=>Math.round(10*i)/10;function Er(i,t,e,o){let r=Ti(i),n=_e(r,"margin"),a=Di(r.maxWidth,i,"clientWidth")||ye,s=Di(r.maxHeight,i,"clientHeight")||ye,d=function(h,m,f){let x,g;if(m===void 0||f===void 0){let b=h&&Ei(h);if(b){let y=b.getBoundingClientRect(),_=Ti(b),k=_e(_,"border","width"),A=_e(_,"padding");m=y.width-A.width-k.width,f=y.height-A.height-k.height,x=Di(_.maxWidth,b,"clientWidth"),g=Di(_.maxHeight,b,"clientHeight")}else m=h.clientWidth,f=h.clientHeight}return{width:m,height:f,maxWidth:x||ye,maxHeight:g||ye}}(i,t,e),{width:c,height:p}=d;if(r.boxSizing==="content-box"){let h=_e(r,"border","width"),m=_e(r,"padding");c-=m.width+h.width,p-=m.height+h.height}return c=Math.max(0,c-n.width),p=Math.max(0,o?c/o:p-n.height),c=Fi(Math.min(c,a,d.maxWidth)),p=Fi(Math.min(p,s,d.maxHeight)),c&&!p&&(p=Fi(c/2)),(t!==void 0||e!==void 0)&&o&&d.height&&p>d.height&&(p=d.height,c=Fi(Math.floor(p*o))),{width:c,height:p}}function Ao(i,t,e){let o=t||1,r=Math.floor(i.height*o),n=Math.floor(i.width*o);i.height=Math.floor(i.height),i.width=Math.floor(i.width);let a=i.canvas;return a.style&&(e||!a.style.height&&!a.style.width)&&(a.style.height=`${i.height}px`,a.style.width=`${i.width}px`),(i.currentDevicePixelRatio!==o||a.height!==r||a.width!==n)&&(i.currentDevicePixelRatio=o,a.height=r,a.width=n,i.ctx.setTransform(o,0,0,o,0,0),!0)}let Dr=function(){let i=!1;try{let t={get passive(){return i=!0,!1}};Si()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(t){}return i}();function Co(i,t){let e=Sr(i,t),o=e&&e.match(/^(\d+)(\.\d+)?px$/);return o?+o[1]:void 0}function Tr(i){return!i||B(i.size)||B(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function Xe(i,t,e,o,r){let n=t[r];return n||(n=t[r]=i.measureText(r).width,e.push(r)),n>o&&(o=n),o}function Fr(i,t,e,o){let r=(o=o||{}).data=o.data||{},n=o.garbageCollect=o.garbageCollect||[];o.font!==t&&(r=o.data={},n=o.garbageCollect=[],o.font=t),i.save(),i.font=t;let a=0,s=e.length,d,c,p,h,m;for(d=0;d<s;d++)if(h=e[d],h==null||F(h)){if(F(h))for(c=0,p=h.length;c<p;c++)m=h[c],m==null||F(m)||(a=Xe(i,r,n,a,m))}else a=Xe(i,r,n,a,h);i.restore();let f=n.length/2;if(f>e.length){for(d=0;d<f;d++)delete r[n[d]];n.splice(0,f)}return a}function he(i,t,e){let o=i.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*o)/o+r}function Mo(i,t){(t||i)&&((t=t||i.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,i.width,i.height),t.restore())}function Li(i,t,e,o){So(i,t,e,o,null)}function So(i,t,e,o,r){let n,a,s,d,c,p,h,m,f=t.pointStyle,x=t.rotation,g=t.radius,b=(x||0)*Tt;if(f&&typeof f=="object"&&(n=f.toString(),n==="[object HTMLImageElement]"||n==="[object HTMLCanvasElement]"))return i.save(),i.translate(e,o),i.rotate(b),i.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void i.restore();if(!(isNaN(g)||g<=0)){switch(i.beginPath(),f){default:r?i.ellipse(e,o,r/2,g,0,0,et):i.arc(e,o,g,0,et),i.closePath();break;case"triangle":p=r?r/2:g,i.moveTo(e+Math.sin(b)*p,o-Math.cos(b)*g),b+=De,i.lineTo(e+Math.sin(b)*p,o-Math.cos(b)*g),b+=De,i.lineTo(e+Math.sin(b)*p,o-Math.cos(b)*g),i.closePath();break;case"rectRounded":c=.516*g,d=g-c,a=Math.cos(b+St)*d,h=Math.cos(b+St)*(r?r/2-c:d),s=Math.sin(b+St)*d,m=Math.sin(b+St)*(r?r/2-c:d),i.arc(e-h,o-s,c,b-st,b-dt),i.arc(e+m,o-a,c,b-dt,b),i.arc(e+h,o+s,c,b,b+dt),i.arc(e-m,o+a,c,b+dt,b+st),i.closePath();break;case"rect":if(!x){d=Math.SQRT1_2*g,p=r?r/2:d,i.rect(e-p,o-d,2*p,2*d);break}b+=St;case"rectRot":h=Math.cos(b)*(r?r/2:g),a=Math.cos(b)*g,s=Math.sin(b)*g,m=Math.sin(b)*(r?r/2:g),i.moveTo(e-h,o-s),i.lineTo(e+m,o-a),i.lineTo(e+h,o+s),i.lineTo(e-m,o+a),i.closePath();break;case"crossRot":b+=St;case"cross":h=Math.cos(b)*(r?r/2:g),a=Math.cos(b)*g,s=Math.sin(b)*g,m=Math.sin(b)*(r?r/2:g),i.moveTo(e-h,o-s),i.lineTo(e+h,o+s),i.moveTo(e+m,o-a),i.lineTo(e-m,o+a);break;case"star":h=Math.cos(b)*(r?r/2:g),a=Math.cos(b)*g,s=Math.sin(b)*g,m=Math.sin(b)*(r?r/2:g),i.moveTo(e-h,o-s),i.lineTo(e+h,o+s),i.moveTo(e+m,o-a),i.lineTo(e-m,o+a),b+=St,h=Math.cos(b)*(r?r/2:g),a=Math.cos(b)*g,s=Math.sin(b)*g,m=Math.sin(b)*(r?r/2:g),i.moveTo(e-h,o-s),i.lineTo(e+h,o+s),i.moveTo(e+m,o-a),i.lineTo(e-m,o+a);break;case"line":a=r?r/2:Math.cos(b)*g,s=Math.sin(b)*g,i.moveTo(e-a,o-s),i.lineTo(e+a,o+s);break;case"dash":i.moveTo(e,o),i.lineTo(e+Math.cos(b)*(r?r/2:g),o+Math.sin(b)*g);break;case!1:i.closePath()}i.fill(),t.borderWidth>0&&i.stroke()}}function Gt(i,t,e){return e=e||.5,!t||i&&i.x>t.left-e&&i.x<t.right+e&&i.y>t.top-e&&i.y<t.bottom+e}function Ke(i,t){i.save(),i.beginPath(),i.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),i.clip()}function Ze(i){i.restore()}function Lr(i,t,e,o,r){if(!t)return i.lineTo(e.x,e.y);if(r==="middle"){let n=(t.x+e.x)/2;i.lineTo(n,t.y),i.lineTo(n,e.y)}else r==="after"!=!!o?i.lineTo(t.x,e.y):i.lineTo(e.x,t.y);i.lineTo(e.x,e.y)}function Or(i,t,e,o){if(!t)return i.lineTo(e.x,e.y);i.bezierCurveTo(o?t.cp1x:t.cp2x,o?t.cp1y:t.cp2y,o?e.cp2x:e.cp1x,o?e.cp2y:e.cp1y,e.x,e.y)}function es(i,t,e,o,r){if(r.strikethrough||r.underline){let n=i.measureText(o),a=t-n.actualBoundingBoxLeft,s=t+n.actualBoundingBoxRight,d=e-n.actualBoundingBoxAscent,c=e+n.actualBoundingBoxDescent,p=r.strikethrough?(d+c)/2:c;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=r.decorationWidth||2,i.moveTo(a,p),i.lineTo(s,p),i.stroke()}}function is(i,t){let e=i.fillStyle;i.fillStyle=t.color,i.fillRect(t.left,t.top,t.width,t.height),i.fillStyle=e}function pe(i,t,e,o,r,n={}){let a=F(t)?t:[t],s=n.strokeWidth>0&&n.strokeColor!=="",d,c;for(i.save(),i.font=r.string,function(p,h){h.translation&&p.translate(h.translation[0],h.translation[1]),B(h.rotation)||p.rotate(h.rotation),h.color&&(p.fillStyle=h.color),h.textAlign&&(p.textAlign=h.textAlign),h.textBaseline&&(p.textBaseline=h.textBaseline)}(i,n),d=0;d<a.length;++d)c=a[d],n.backdrop&&is(i,n.backdrop),s&&(n.strokeColor&&(i.strokeStyle=n.strokeColor),B(n.strokeWidth)||(i.lineWidth=n.strokeWidth),i.strokeText(c,e,o,n.maxWidth)),i.fillText(c,e,o,n.maxWidth),es(i,e,o,c,n),o+=Number(r.lineHeight);i.restore()}function Oe(i,t){let{x:e,y:o,w:r,h:n,radius:a}=t;i.arc(e+a.topLeft,o+a.topLeft,a.topLeft,1.5*st,st,!0),i.lineTo(e,o+n-a.bottomLeft),i.arc(e+a.bottomLeft,o+n-a.bottomLeft,a.bottomLeft,st,dt,!0),i.lineTo(e+r-a.bottomRight,o+n),i.arc(e+r-a.bottomRight,o+n-a.bottomRight,a.bottomRight,dt,0,!0),i.lineTo(e+r,o+a.topRight),i.arc(e+r-a.topRight,o+a.topRight,a.topRight,0,-dt,!0),i.lineTo(e+a.topLeft,o)}function Oi(i,t=[""],e,o,r=()=>i[0]){let n=e||i;o===void 0&&(o=zr("_fallback",i));let a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:n,_fallback:o,_getTarget:r,override:s=>Oi([s,...i],t,n,o)};return new Proxy(a,{deleteProperty:(s,d)=>(delete s[d],delete s._keys,delete i[0][d],!0),get:(s,d)=>Pr(s,d,()=>function(c,p,h,m){let f;for(let x of p)if(f=zr(os(x,c),h),f!==void 0)return Do(c,f)?To(h,m,c,f):f}(d,t,i,s)),getOwnPropertyDescriptor:(s,d)=>Reflect.getOwnPropertyDescriptor(s._scopes[0],d),getPrototypeOf:()=>Reflect.getPrototypeOf(i[0]),has:(s,d)=>Vr(s).includes(d),ownKeys:s=>Vr(s),set(s,d,c){let p=s._storage||(s._storage=r());return s[d]=p[d]=c,delete s._keys,!0}})}function Ae(i,t,e,o){let r={_cacheable:!1,_proxy:i,_context:t,_subProxy:e,_stack:new Set,_descriptors:Eo(i,o),setContext:n=>Ae(i,n,e,o),override:n=>Ae(i.override(n),t,e,o)};return new Proxy(r,{deleteProperty:(n,a)=>(delete n[a],delete i[a],!0),get:(n,a,s)=>Pr(n,a,()=>function(d,c,p){let{_proxy:h,_context:m,_subProxy:f,_descriptors:x}=d,g=h[c];return jt(g)&&x.isScriptable(c)&&(g=function(b,y,_,k){let{_proxy:A,_context:E,_subProxy:D,_stack:P}=_;if(P.has(b))throw new Error("Recursion detected: "+Array.from(P).join("->")+"->"+b);P.add(b);let z=y(E,D||k);return P.delete(b),Do(b,z)&&(z=To(A._scopes,A,b,z)),z}(c,g,d,p)),F(g)&&g.length&&(g=function(b,y,_,k){let{_proxy:A,_context:E,_subProxy:D,_descriptors:P}=_;if(E.index!==void 0&&k(b))return y[E.index%y.length];if(K(y[0])){let z=y,j=A._scopes.filter(W=>W!==z);y=[];for(let W of z){let Y=To(j,A,b,W);y.push(Ae(Y,E,D&&D[b],P))}}return y}(c,g,d,x.isIndexable)),Do(c,g)&&(g=Ae(g,m,f&&f[c],x)),g}(n,a,s)),getOwnPropertyDescriptor:(n,a)=>n._descriptors.allKeys?Reflect.has(i,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,a),getPrototypeOf:()=>Reflect.getPrototypeOf(i),has:(n,a)=>Reflect.has(i,a),ownKeys:()=>Reflect.ownKeys(i),set:(n,a,s)=>(i[a]=s,delete n[a],!0)})}function Eo(i,t={scriptable:!0,indexable:!0}){let{_scriptable:e=t.scriptable,_indexable:o=t.indexable,_allKeys:r=t.allKeys}=i;return{allKeys:r,scriptable:e,indexable:o,isScriptable:jt(e)?e:()=>e,isIndexable:jt(o)?o:()=>o}}let os=(i,t)=>i?i+gt(t):t,Do=(i,t)=>K(t)&&i!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Pr(i,t,e){if(Object.prototype.hasOwnProperty.call(i,t)||t==="constructor")return i[t];let o=e();return i[t]=o,o}function Rr(i,t,e){return jt(i)?i(t,e):i}let rs=(i,t)=>i===!0?t:typeof i=="string"?bt(t,i):void 0;function ns(i,t,e,o,r){for(let n of t){let a=rs(e,n);if(a){i.add(a);let s=Rr(a._fallback,e,r);if(s!==void 0&&s!==e&&s!==o)return s}else if(a===!1&&o!==void 0&&e!==o)return null}return!1}function To(i,t,e,o){let r=t._rootScopes,n=Rr(t._fallback,e,o),a=[...i,...r],s=new Set;s.add(o);let d=Br(s,a,e,n||e,o);return d!==null&&(n===void 0||n===e||(d=Br(s,a,n,d,o),d!==null))&&Oi(Array.from(s),[""],r,n,()=>function(c,p,h){let m=c._getTarget();p in m||(m[p]={});let f=m[p];return F(f)&&K(h)?h:f||{}}(t,e,o))}function Br(i,t,e,o,r){for(;e;)e=ns(i,t,e,o,r);return e}function zr(i,t){for(let e of t){if(!e)continue;let o=e[i];if(o!==void 0)return o}}function Vr(i){let t=i._keys;return t||(t=i._keys=function(e){let o=new Set;for(let r of e)for(let n of Object.keys(r).filter(a=>!a.startsWith("_")))o.add(n);return Array.from(o)}(i._scopes)),t}function Fo(i,t,e,o){let{iScale:r}=i,{key:n="r"}=this._parsing,a=new Array(o),s,d,c,p;for(s=0,d=o;s<d;++s)c=s+e,p=t[c],a[s]={r:r.parse(bt(p,n),c)};return a}let as=Number.EPSILON||1e-14,Pe=(i,t)=>t<i.length&&!i[t].skip&&i[t],Ir=i=>i==="x"?"y":"x";function jr(i,t,e,o){let r=i.skip?t:i,n=t,a=e.skip?t:e,s=S(n,r),d=S(a,n),c=s/(s+d),p=d/(s+d);c=isNaN(c)?0:c,p=isNaN(p)?0:p;let h=o*c,m=o*p;return{previous:{x:n.x-h*(a.x-r.x),y:n.y-h*(a.y-r.y)},next:{x:n.x+m*(a.x-r.x),y:n.y+m*(a.y-r.y)}}}function Wr(i,t="x"){let e=Ir(t),o=i.length,r=Array(o).fill(0),n=Array(o),a,s,d,c=Pe(i,0);for(a=0;a<o;++a)if(s=d,d=c,c=Pe(i,a+1),d){if(c){let p=c[t]-d[t];r[a]=p!==0?(c[e]-d[e])/p:0}n[a]=s?c?ht(r[a-1])!==ht(r[a])?0:(r[a-1]+r[a])/2:r[a-1]:r[a]}(function(p,h,m){let f=p.length,x,g,b,y,_,k=Pe(p,0);for(let A=0;A<f-1;++A)_=k,k=Pe(p,A+1),_&&k&&(Wt(h[A],0,as)?m[A]=m[A+1]=0:(x=m[A]/h[A],g=m[A+1]/h[A],y=Math.pow(x,2)+Math.pow(g,2),y<=9||(b=3/Math.sqrt(y),m[A]=x*b*h[A],m[A+1]=g*b*h[A])))})(i,r,n),function(p,h,m="x"){let f=Ir(m),x=p.length,g,b,y,_=Pe(p,0);for(let k=0;k<x;++k){if(b=y,y=_,_=Pe(p,k+1),!y)continue;let A=y[m],E=y[f];b&&(g=(A-b[m])/3,y[`cp1${m}`]=A-g,y[`cp1${f}`]=E-g*h[k]),_&&(g=(_[m]-A)/3,y[`cp2${m}`]=A+g,y[`cp2${f}`]=E+g*h[k])}}(i,n,t)}function Pi(i,t,e){return Math.max(Math.min(i,e),t)}function Hr(i,t,e,o,r){let n,a,s,d;if(t.spanGaps&&(i=i.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")Wr(i,r);else{let c=o?i[i.length-1]:i[0];for(n=0,a=i.length;n<a;++n)s=i[n],d=jr(c,s,i[Math.min(n+1,a-(o?0:1))%a],t.tension),s.cp1x=d.previous.x,s.cp1y=d.previous.y,s.cp2x=d.next.x,s.cp2y=d.next.y,c=s}t.capBezierPoints&&function(c,p){let h,m,f,x,g,b=Gt(c[0],p);for(h=0,m=c.length;h<m;++h)g=x,x=b,b=h<m-1&&Gt(c[h+1],p),x&&(f=c[h],g&&(f.cp1x=Pi(f.cp1x,p.left,p.right),f.cp1y=Pi(f.cp1y,p.top,p.bottom)),b&&(f.cp2x=Pi(f.cp2x,p.left,p.right),f.cp2y=Pi(f.cp2y,p.top,p.bottom)))}(i,e)}let Ri=i=>i===0||i===1,Nr=(i,t,e)=>-Math.pow(2,10*(i-=1))*Math.sin((i-t)*et/e),$r=(i,t,e)=>Math.pow(2,-10*i)*Math.sin((i-t)*et/e)+1,Re={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>1-Math.cos(i*dt),easeOutSine:i=>Math.sin(i*dt),easeInOutSine:i=>-.5*(Math.cos(st*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:1-Math.pow(2,-10*i),easeInOutExpo:i=>Ri(i)?i:i<.5?.5*Math.pow(2,10*(2*i-1)):.5*(2-Math.pow(2,-10*(2*i-1))),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>Ri(i)?i:Nr(i,.075,.3),easeOutElastic:i=>Ri(i)?i:$r(i,.075,.3),easeInOutElastic(i){return Ri(i)?i:i<.5?.5*Nr(2*i,.1125,.45):.5+.5*$r(2*i-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let t=1.70158;return(i/=.5)<1?i*i*((1+(t*=1.525))*i-t)*.5:.5*((i-=2)*i*((1+(t*=1.525))*i+t)+2)},easeInBounce:i=>1-Re.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?.5*Re.easeInBounce(2*i):.5*Re.easeOutBounce(2*i-1)+.5};function ue(i,t,e,o){return{x:i.x+e*(t.x-i.x),y:i.y+e*(t.y-i.y)}}function Ur(i,t,e,o){return{x:i.x+e*(t.x-i.x),y:o==="middle"?e<.5?i.y:t.y:o==="after"?e<1?i.y:t.y:e>0?t.y:i.y}}function Yr(i,t,e,o){let r={x:i.cp2x,y:i.cp2y},n={x:t.cp1x,y:t.cp1y},a=ue(i,r,e),s=ue(r,n,e),d=ue(n,t,e),c=ue(a,s,e),p=ue(s,d,e);return ue(c,p,e)}let ss=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,ls=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function qr(i,t){let e=(""+i).match(ss);if(!e||e[1]==="normal")return 1.2*t;switch(i=+e[2],e[3]){case"px":return i;case"%":i/=100}return t*i}let ds=i=>+i||0;function Bi(i,t){let e={},o=K(t),r=o?Object.keys(t):t,n=K(i)?o?a=>Z(i[a],i[t[a]]):a=>i[a]:()=>i;for(let a of r)e[a]=ds(n(a));return e}function Lo(i){return Bi(i,{top:"y",right:"x",bottom:"y",left:"x"})}function me(i){return Bi(i,["topLeft","topRight","bottomLeft","bottomRight"])}function yt(i){let t=Lo(i);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function xt(i,t){i=i||{},t=t||mt.font;let e=Z(i.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let o=Z(i.style,t.style);o&&!(""+o).match(ls)&&(console.warn('Invalid font style specified: "'+o+'"'),o=void 0);let r={family:Z(i.family,t.family),lineHeight:qr(Z(i.lineHeight,t.lineHeight),e),size:e,style:o,weight:Z(i.weight,t.weight),string:""};return r.string=Tr(r),r}function Be(i,t,e,o){let r,n,a,s=!0;for(r=0,n=i.length;r<n;++r)if(a=i[r],a!==void 0&&(t!==void 0&&typeof a=="function"&&(a=a(t),s=!1),e!==void 0&&F(a)&&(a=a[e%a.length],s=!1),a!==void 0))return o&&!s&&(o.cacheable=!1),a}function Xr(i,t,e){let{min:o,max:r}=i,n=pt(t,(r-o)/2),a=(s,d)=>e&&s===0?0:s+d;return{min:a(o,-Math.abs(n)),max:a(r,n)}}function oe(i,t){return Object.assign(Object.create(i),t)}function Ce(i,t,e){return i?function(o,r){return{x:n=>o+o+r-n,setWidth(n){r=n},textAlign:n=>n==="center"?n:n==="right"?"left":"right",xPlus:(n,a)=>n-a,leftForLtr:(n,a)=>n-a}}(t,e):{x:o=>o,setWidth(o){},textAlign:o=>o,xPlus:(o,r)=>o+r,leftForLtr:(o,r)=>o}}function Oo(i,t){let e,o;t!=="ltr"&&t!=="rtl"||(e=i.canvas.style,o=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),i.prevTextDirection=o)}function Po(i,t){t!==void 0&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",t[0],t[1]))}function Kr(i){return i==="angle"?{between:X,compare:T,normalize:V}:{between:ut,compare:(t,e)=>t-e,normalize:t=>t}}function Zr({start:i,end:t,count:e,loop:o,style:r}){return{start:i%e,end:t%e,loop:o&&(t-i+1)%e==0,style:r}}function Ro(i,t,e){if(!e)return[i];let{property:o,start:r,end:n}=e,a=t.length,{compare:s,between:d,normalize:c}=Kr(o),{start:p,end:h,loop:m,style:f}=function(D,P,z){let{property:j,start:W,end:Y}=z,{between:U,normalize:H}=Kr(j),$=P.length,N,Q,{start:at,end:nt,loop:kt}=D;if(kt){for(at+=$,nt+=$,N=0,Q=$;N<Q&&U(H(P[at%$][j]),W,Y);++N)at--,nt--;at%=$,nt%=$}return nt<at&&(nt+=$),{start:at,end:nt,loop:kt,style:D.style}}(i,t,e),x=[],g,b,y,_=!1,k=null,A=()=>_||d(r,y,g)&&s(r,y)!==0,E=()=>!_||s(n,g)===0||d(n,y,g);for(let D=p,P=p;D<=h;++D)b=t[D%a],b.skip||(g=c(b[o]),g!==y&&(_=d(g,r,n),k===null&&A()&&(k=s(g,r)===0?D:P),k!==null&&E()&&(x.push(Zr({start:k,end:D,loop:m,count:a,style:f})),k=null),P=D,y=g));return k!==null&&x.push(Zr({start:k,end:h,loop:m,count:a,style:f})),x}function Bo(i,t){let e=[],o=i.segments;for(let r=0;r<o.length;r++){let n=Ro(o[r],i.points,t);n.length&&e.push(...n)}return e}function Qr(i,t){let e=i.points,o=i.options.spanGaps,r=e.length;if(!r)return[];let n=!!i._loop,{start:a,end:s}=function(d,c,p,h){let m=0,f=c-1;if(p&&!h)for(;m<c&&!d[m].skip;)m++;for(;m<c&&d[m].skip;)m++;for(m%=c,p&&(f+=m);f>m&&d[f%c].skip;)f--;return f%=c,{start:m,end:f}}(e,r,n,o);return o===!0?Gr(i,[{start:a,end:s,loop:n}],e,t):Gr(i,function(d,c,p,h){let m=d.length,f=[],x,g=c,b=d[c];for(x=c+1;x<=p;++x){let y=d[x%m];y.skip||y.stop?b.skip||(h=!1,f.push({start:c%m,end:(x-1)%m,loop:h}),c=g=y.stop?x:null):(g=x,b.skip&&(c=x)),b=y}return g!==null&&f.push({start:c%m,end:g%m,loop:h}),f}(e,a,s<a?s+r:s,!!i._fullLoop&&a===0&&s===r-1),e,t)}function Gr(i,t,e,o){return o&&o.setContext&&e?function(r,n,a,s){let d=r._chart.getContext(),c=Jr(r.options),{_datasetIndex:p,options:{spanGaps:h}}=r,m=a.length,f=[],x=c,g=n[0].start,b=g;function y(_,k,A,E){let D=h?-1:1;if(_!==k){for(_+=m;a[_%m].skip;)_-=D;for(;a[k%m].skip;)k+=D;_%m!=k%m&&(f.push({start:_%m,end:k%m,loop:A,style:E}),x=E,g=k%m)}}for(let _ of n){g=h?g:_.start;let k,A=a[g%m];for(b=g+1;b<=_.end;b++){let E=a[b%m];k=Jr(s.setContext(oe(d,{type:"segment",p0:A,p1:E,p0DataIndex:(b-1)%m,p1DataIndex:b%m,datasetIndex:p}))),cs(k,x)&&y(g,b-1,_.loop,x),A=E,x=k}g<b-1&&y(g,b-1,_.loop,x)}return f}(i,t,e,o):t}function Jr(i){return{backgroundColor:i.backgroundColor,borderCapStyle:i.borderCapStyle,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderJoinStyle:i.borderJoinStyle,borderWidth:i.borderWidth,borderColor:i.borderColor}}function cs(i,t){if(!t)return!1;let e=[],o=function(r,n){return Ci(n)?(e.includes(n)||e.push(n),e.indexOf(n)):n};return JSON.stringify(i,o)!==JSON.stringify(t,o)}function zi(i,t,e){return i.options.clip?i[e]:t[e]}function zo(i,t){let e=t._clip;if(e.disabled)return!1;let o=function(r,n){let{xScale:a,yScale:s}=r;return a&&s?{left:zi(a,n,"left"),right:zi(a,n,"right"),top:zi(s,n,"top"),bottom:zi(s,n,"bottom")}:n}(t,i.chartArea);return{left:e.left===!1?0:o.left-(e.left===!0?0:e.left),right:e.right===!1?i.width:o.right+(e.right===!0?0:e.right),top:e.top===!1?0:o.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?i.height:o.bottom+(e.bottom===!0?0:e.bottom)}}var hs=Object.freeze({__proto__:null,HALF_PI:dt,INFINITY:ye,PI:st,PITAU:se,QUARTER_PI:St,RAD_PER_DEG:Tt,TAU:et,TWO_THIRDS_PI:De,_addGrace:Xr,_alignPixel:he,_alignStartEnd:vt,_angleBetween:X,_angleDiff:T,_arrayUnique:ho,_attachContext:Ae,_bezierCurveTo:Or,_bezierInterpolation:Yr,_boundSegment:Ro,_boundSegments:Bo,_capitalize:gt,_computeSegments:Qr,_createResolver:Oi,_decimalPlaces:w,_deprecated:function(i,t,e,o){t!==void 0&&console.warn(i+': "'+e+'" is deprecated. Please use "'+o+'" instead')},_descriptors:Eo,_elementsEqual:Ot,_factorize:We,_filterBetween:He,_getParentNode:Ei,_getStartAndCountOfVisiblePoints:mo,_int16Range:_t,_isBetween:ut,_isClickEvent:ae,_isDomSupported:Si,_isPointInArea:Gt,_limitValue:it,_longestText:Fr,_lookup:Zt,_lookupByKey:Ct,_measureText:Xe,_merger:ne,_mergerIf:xe,_normalizeAngle:V,_parseObjectDataRadialScale:Fo,_pointInLine:ue,_readValueToProps:Bi,_rlookupByKey:yi,_scaleRangesChanged:fo,_setMinAndMaxByKey:l,_splitKey:tt,_steppedInterpolation:Ur,_steppedLineTo:Lr,_textX:br,_toLeftRightCenter:wi,_updateBezierControlPoints:Hr,addRoundedRectPath:Oe,almostEquals:Wt,almostWhole:L,callback:G,clearCanvas:Mo,clipArea:Ke,clone:Pt,color:wo,createContext:oe,debounce:gr,defined:At,distanceBetweenPoints:S,drawPoint:Li,drawPointLegend:So,each:J,easingEffects:Re,finiteOrDefault:lt,fontString:function(i,t,e){return t+" "+i+"px "+e},formatNumber:Le,getAngleFromPoint:C,getDatasetClipArea:zo,getHoverColor:Mi,getMaximumSize:Er,getRelativePosition:ce,getRtlAdapter:Ce,getStyle:Sr,isArray:F,isFinite:rt,isFunction:jt,isNullOrUndef:B,isNumber:Kt,isObject:K,isPatternOrGradient:Ci,listenArrayEvents:fr,log10:Rt,merge:ee,mergeIf:Xt,niceNum:we,noop:M,overrideTextDirection:Oo,readUsedSize:Co,renderText:pe,requestAnimFrame:po,resolve:Be,resolveObjectKey:bt,restoreTextDirection:Po,retinaScale:Ao,setsEqual:ve,sign:ht,splineCurve:jr,splineCurveMonotone:Wr,supportsEventListenerOptions:Dr,throttled:uo,toDegrees:v,toDimension:pt,toFont:xt,toFontString:Tr,toLineHeight:qr,toPadding:yt,toPercentage:q,toRadians:u,toTRBL:Lo,toTRBLCorners:me,uid:R,unclipArea:Ze,unlistenArrayEvents:co,valueOrDefault:Z});function ps(i,t,e,o){let{controller:r,data:n,_sorted:a}=i,s=r._cachedMeta.iScale,d=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null;if(s&&t===s.axis&&t!=="r"&&a&&n.length){let c=s._reversePixels?yi:Ct;if(!o){let p=c(n,t,e);if(d){let{vScale:h}=r._cachedMeta,{_parsed:m}=i,f=m.slice(0,p.lo+1).reverse().findIndex(g=>!B(g[h.axis]));p.lo-=Math.max(0,f);let x=m.slice(p.hi).findIndex(g=>!B(g[h.axis]));p.hi+=Math.max(0,x)}return p}if(r._sharedOptions){let p=n[0],h=typeof p.getRange=="function"&&p.getRange(t);if(h){let m=c(n,t,e-h),f=c(n,t,e+h);return{lo:m.lo,hi:f.hi}}}}return{lo:0,hi:n.length-1}}function Qe(i,t,e,o,r){let n=i.getSortedVisibleDatasetMetas(),a=e[t];for(let s=0,d=n.length;s<d;++s){let{index:c,data:p}=n[s],{lo:h,hi:m}=ps(n[s],t,a,r);for(let f=h;f<=m;++f){let x=p[f];x.skip||o(x,c,f)}}}function Vo(i,t,e,o,r){let n=[];return!r&&!i.isPointInArea(t)||Qe(i,e,t,function(a,s,d){(r||Gt(a,i.chartArea,0))&&a.inRange(t.x,t.y,o)&&n.push({element:a,datasetIndex:s,index:d})},!0),n}function us(i,t,e,o,r,n){let a=[],s=function(c){let p=c.indexOf("x")!==-1,h=c.indexOf("y")!==-1;return function(m,f){let x=p?Math.abs(m.x-f.x):0,g=h?Math.abs(m.y-f.y):0;return Math.sqrt(Math.pow(x,2)+Math.pow(g,2))}}(e),d=Number.POSITIVE_INFINITY;return Qe(i,e,t,function(c,p,h){let m=c.inRange(t.x,t.y,r);if(o&&!m)return;let f=c.getCenterPoint(r);if(!(n||i.isPointInArea(f))&&!m)return;let x=s(t,f);x<d?(a=[{element:c,datasetIndex:p,index:h}],d=x):x===d&&a.push({element:c,datasetIndex:p,index:h})}),a}function Io(i,t,e,o,r,n){return n||i.isPointInArea(t)?e!=="r"||o?us(i,t,e,o,r,n):function(a,s,d,c){let p=[];return Qe(a,d,s,function(h,m,f){let{startAngle:x,endAngle:g}=h.getProps(["startAngle","endAngle"],c),{angle:b}=C(h,{x:s.x,y:s.y});X(b,x,g)&&p.push({element:h,datasetIndex:m,index:f})}),p}(i,t,e,r):[]}function tn(i,t,e,o,r){let n=[],a=e==="x"?"inXRange":"inYRange",s=!1;return Qe(i,e,t,(d,c,p)=>{d[a]&&d[a](t[e],r)&&(n.push({element:d,datasetIndex:c,index:p}),s=s||d.inRange(t.x,t.y,r))}),o&&!s?[]:n}var en={evaluateInteractionItems:Qe,modes:{index(i,t,e,o){let r=ce(t,i),n=e.axis||"x",a=e.includeInvisible||!1,s=e.intersect?Vo(i,r,n,o,a):Io(i,r,n,!1,o,a),d=[];return s.length?(i.getSortedVisibleDatasetMetas().forEach(c=>{let p=s[0].index,h=c.data[p];h&&!h.skip&&d.push({element:h,datasetIndex:c.index,index:p})}),d):[]},dataset(i,t,e,o){let r=ce(t,i),n=e.axis||"xy",a=e.includeInvisible||!1,s=e.intersect?Vo(i,r,n,o,a):Io(i,r,n,!1,o,a);if(s.length>0){let d=s[0].datasetIndex,c=i.getDatasetMeta(d).data;s=[];for(let p=0;p<c.length;++p)s.push({element:c[p],datasetIndex:d,index:p})}return s},point:(i,t,e,o)=>Vo(i,ce(t,i),e.axis||"xy",o,e.includeInvisible||!1),nearest(i,t,e,o){let r=ce(t,i),n=e.axis||"xy",a=e.includeInvisible||!1;return Io(i,r,n,e.intersect,o,a)},x:(i,t,e,o)=>tn(i,ce(t,i),"x",e.intersect,o),y:(i,t,e,o)=>tn(i,ce(t,i),"y",e.intersect,o)}};let on=["left","top","right","bottom"];function Ge(i,t){return i.filter(e=>e.pos===t)}function rn(i,t){return i.filter(e=>on.indexOf(e.pos)===-1&&e.box.axis===t)}function Je(i,t){return i.sort((e,o)=>{let r=t?o:e,n=t?e:o;return r.weight===n.weight?r.index-n.index:r.weight-n.weight})}function ms(i,t){let e=function(d){let c={};for(let p of d){let{stack:h,pos:m,stackWeight:f}=p;if(!h||!on.includes(m))continue;let x=c[h]||(c[h]={count:0,placed:0,weight:0,size:0});x.count++,x.weight+=f}return c}(i),{vBoxMaxWidth:o,hBoxMaxHeight:r}=t,n,a,s;for(n=0,a=i.length;n<a;++n){s=i[n];let{fullSize:d}=s.box,c=e[s.stack],p=c&&s.stackWeight/c.weight;s.horizontal?(s.width=p?p*o:d&&t.availableWidth,s.height=r):(s.width=o,s.height=p?p*r:d&&t.availableHeight)}return e}function nn(i,t,e,o){return Math.max(i[e],t[e])+Math.max(i[o],t[o])}function an(i,t){i.top=Math.max(i.top,t.top),i.left=Math.max(i.left,t.left),i.bottom=Math.max(i.bottom,t.bottom),i.right=Math.max(i.right,t.right)}function fs(i,t,e,o){let{pos:r,box:n}=e,a=i.maxPadding;if(!K(r)){e.size&&(i[r]-=e.size);let h=o[e.stack]||{size:0,count:1};h.size=Math.max(h.size,e.horizontal?n.height:n.width),e.size=h.size/h.count,i[r]+=e.size}n.getPadding&&an(a,n.getPadding());let s=Math.max(0,t.outerWidth-nn(a,i,"left","right")),d=Math.max(0,t.outerHeight-nn(a,i,"top","bottom")),c=s!==i.w,p=d!==i.h;return i.w=s,i.h=d,e.horizontal?{same:c,other:p}:{same:p,other:c}}function gs(i,t){let e=t.maxPadding;function o(r){let n={left:0,top:0,right:0,bottom:0};return r.forEach(a=>{n[a]=Math.max(t[a],e[a])}),n}return o(i?["left","right"]:["top","bottom"])}function ti(i,t,e,o){let r=[],n,a,s,d,c,p;for(n=0,a=i.length,c=0;n<a;++n){s=i[n],d=s.box,d.update(s.width||t.w,s.height||t.h,gs(s.horizontal,t));let{same:h,other:m}=fs(t,e,s,o);c|=h&&r.length,p=p||m,d.fullSize||r.push(s)}return c&&ti(r,t,e,o)||p}function Vi(i,t,e,o,r){i.top=e,i.left=t,i.right=t+o,i.bottom=e+r,i.width=o,i.height=r}function sn(i,t,e,o){let r=e.padding,{x:n,y:a}=t;for(let s of i){let d=s.box,c=o[s.stack]||{count:1,placed:0,weight:1},p=s.stackWeight/c.weight||1;if(s.horizontal){let h=t.w*p,m=c.size||d.height;At(c.start)&&(a=c.start),d.fullSize?Vi(d,r.left,a,e.outerWidth-r.right-r.left,m):Vi(d,t.left+c.placed,a,h,m),c.start=a,c.placed+=h,a=d.bottom}else{let h=t.h*p,m=c.size||d.width;At(c.start)&&(n=c.start),d.fullSize?Vi(d,n,r.top,m,e.outerHeight-r.bottom-r.top):Vi(d,n,t.top+c.placed,m,h),c.start=n,c.placed+=h,n=d.right}}t.x=n,t.y=a}var wt={addBox(i,t){i.boxes||(i.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},i.boxes.push(t)},removeBox(i,t){let e=i.boxes?i.boxes.indexOf(t):-1;e!==-1&&i.boxes.splice(e,1)},configure(i,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(i,t,e,o){if(!i)return;let r=yt(i.options.layout.padding),n=Math.max(t-r.width,0),a=Math.max(e-r.height,0),s=function(g){let b=function(z){let j=[],W,Y,U,H,$,N;for(W=0,Y=(z||[]).length;W<Y;++W)U=z[W],{position:H,options:{stack:$,stackWeight:N=1}}=U,j.push({index:W,box:U,pos:H,horizontal:U.isHorizontal(),weight:U.weight,stack:$&&H+$,stackWeight:N});return j}(g),y=Je(b.filter(z=>z.box.fullSize),!0),_=Je(Ge(b,"left"),!0),k=Je(Ge(b,"right")),A=Je(Ge(b,"top"),!0),E=Je(Ge(b,"bottom")),D=rn(b,"x"),P=rn(b,"y");return{fullSize:y,leftAndTop:_.concat(A),rightAndBottom:k.concat(P).concat(E).concat(D),chartArea:Ge(b,"chartArea"),vertical:_.concat(k).concat(P),horizontal:A.concat(E).concat(D)}}(i.boxes),d=s.vertical,c=s.horizontal;J(i.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});let p=d.reduce((g,b)=>b.box.options&&b.box.options.display===!1?g:g+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:n,availableHeight:a,vBoxMaxWidth:n/2/p,hBoxMaxHeight:a/2}),m=Object.assign({},r);an(m,yt(o));let f=Object.assign({maxPadding:m,w:n,h:a,x:r.left,y:r.top},r),x=ms(d.concat(c),h);ti(s.fullSize,f,h,x),ti(d,f,h,x),ti(c,f,h,x)&&ti(d,f,h,x),function(g){let b=g.maxPadding;function y(_){let k=Math.max(b[_]-g[_],0);return g[_]+=k,k}g.y+=y("top"),g.x+=y("left"),y("right"),y("bottom")}(f),sn(s.leftAndTop,f,h,x),f.x+=f.w,f.y+=f.h,sn(s.rightAndBottom,f,h,x),i.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},J(s.chartArea,g=>{let b=g.box;Object.assign(b,i.chartArea),b.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class jo{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,o){}removeEventListener(t,e,o){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,o,r){return e=Math.max(0,e||t.width),o=o||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):o)}}isAttached(t){return!0}updateConfig(t){}}class ln extends jo{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}let Ii="$chartjs",bs={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},dn=i=>i===null||i==="",cn=!!Dr&&{passive:!0};function xs(i,t,e){i&&i.canvas&&i.canvas.removeEventListener(t,e,cn)}function ji(i,t){for(let e of i)if(e===t||e.contains(t))return!0}function vs(i,t,e){let o=i.canvas,r=new MutationObserver(n=>{let a=!1;for(let s of n)a=a||ji(s.addedNodes,o),a=a&&!ji(s.removedNodes,o);a&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function ys(i,t,e){let o=i.canvas,r=new MutationObserver(n=>{let a=!1;for(let s of n)a=a||ji(s.removedNodes,o),a=a&&!ji(s.addedNodes,o);a&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}let ei=new Map,hn=0;function pn(){let i=window.devicePixelRatio;i!==hn&&(hn=i,ei.forEach((t,e)=>{e.currentDevicePixelRatio!==i&&t()}))}function ws(i,t,e){let o=i.canvas,r=o&&Ei(o);if(!r)return;let n=uo((s,d)=>{let c=r.clientWidth;e(s,d),c<r.clientWidth&&e()},window),a=new ResizeObserver(s=>{let d=s[0],c=d.contentRect.width,p=d.contentRect.height;c===0&&p===0||n(c,p)});return a.observe(r),function(s,d){ei.size||window.addEventListener("resize",pn),ei.set(s,d)}(i,n),a}function Wo(i,t,e){e&&e.disconnect(),t==="resize"&&function(o){ei.delete(o),ei.size||window.removeEventListener("resize",pn)}(i)}function ks(i,t,e){let o=i.canvas,r=uo(n=>{i.ctx!==null&&e(function(a,s){let d=bs[a.type]||a.type,{x:c,y:p}=ce(a,s);return{type:d,chart:s,native:a,x:c!==void 0?c:null,y:p!==void 0?p:null}}(n,i))},i);return function(n,a,s){n&&n.addEventListener(a,s,cn)}(o,t,r),r}class un extends jo{acquireContext(t,e){let o=t&&t.getContext&&t.getContext("2d");return o&&o.canvas===t?(function(r,n){let a=r.style,s=r.getAttribute("height"),d=r.getAttribute("width");if(r[Ii]={initial:{height:s,width:d,style:{display:a.display,height:a.height,width:a.width}}},a.display=a.display||"block",a.boxSizing=a.boxSizing||"border-box",dn(d)){let c=Co(r,"width");c!==void 0&&(r.width=c)}if(dn(s))if(r.style.height==="")r.height=r.width/(n||2);else{let c=Co(r,"height");c!==void 0&&(r.height=c)}}(t,e),o):null}releaseContext(t){let e=t.canvas;if(!e[Ii])return!1;let o=e[Ii].initial;["height","width"].forEach(n=>{let a=o[n];B(a)?e.removeAttribute(n):e.setAttribute(n,a)});let r=o.style||{};return Object.keys(r).forEach(n=>{e.style[n]=r[n]}),e.width=e.width,delete e[Ii],!0}addEventListener(t,e,o){this.removeEventListener(t,e);let r=t.$proxies||(t.$proxies={}),n={attach:vs,detach:ys,resize:ws}[e]||ks;r[e]=n(t,e,o)}removeEventListener(t,e){let o=t.$proxies||(t.$proxies={}),r=o[e];r&&(({attach:Wo,detach:Wo,resize:Wo}[e]||xs)(t,e,r),o[e]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,o,r){return Er(t,e,o,r)}isAttached(t){let e=t&&Ei(t);return!(!e||!e.isConnected)}}function mn(i){return!Si()||typeof OffscreenCanvas!="undefined"&&i instanceof OffscreenCanvas?ln:un}var fn=Object.freeze({__proto__:null,BasePlatform:jo,BasicPlatform:ln,DomPlatform:un,_detectPlatform:mn});let gn="transparent",_s={boolean:(i,t,e)=>e>.5?t:i,color(i,t,e){let o=wo(i||gn),r=o.valid&&wo(t||gn);return r&&r.valid?r.mix(o,e).hexString():t},number:(i,t,e)=>i+(t-i)*e};class bn{constructor(t,e,o,r){let n=e[o];r=Be([t.to,r,n,t.from]);let a=Be([t.from,n,r]);this._active=!0,this._fn=t.fn||_s[t.type||typeof a],this._easing=Re[t.easing]||Re.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=o,this._from=a,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,o){if(this._active){this._notify(!1);let r=this._target[this._prop],n=o-this._start,a=this._duration-n;this._start=o,this._duration=Math.floor(Math.max(a,t.duration)),this._total+=n,this._loop=!!t.loop,this._to=Be([t.to,e,r,t.from]),this._from=Be([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){let e=t-this._start,o=this._duration,r=this._prop,n=this._from,a=this._loop,s=this._to,d;if(this._active=n!==s&&(a||e<o),!this._active)return this._target[r]=s,void this._notify(!0);e<0?this._target[r]=n:(d=e/o%2,d=a&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[r]=this._fn(n,s,d))}wait(){let t=this._promises||(this._promises=[]);return new Promise((e,o)=>{t.push({res:e,rej:o})})}_notify(t){let e=t?"res":"rej",o=this._promises||[];for(let r=0;r<o.length;r++)o[r][e]()}}class Ho{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!K(t))return;let e=Object.keys(mt.animation),o=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{let n=t[r];if(!K(n))return;let a={};for(let s of e)a[s]=n[s];(F(n.properties)&&n.properties||[r]).forEach(s=>{s!==r&&o.has(s)||o.set(s,a)})})}_animateOptions(t,e){let o=e.options,r=function(a,s){if(!s)return;let d=a.options;return d?(d.$shared&&(a.options=d=Object.assign({},d,{$shared:!1,$animations:{}})),d):void(a.options=s)}(t,o);if(!r)return[];let n=this._createAnimations(r,o);return o.$shared&&function(a,s){let d=[],c=Object.keys(s);for(let p=0;p<c.length;p++){let h=a[c[p]];h&&h.active()&&d.push(h.wait())}return Promise.all(d)}(t.options.$animations,o).then(()=>{t.options=o},()=>{}),n}_createAnimations(t,e){let o=this._properties,r=[],n=t.$animations||(t.$animations={}),a=Object.keys(e),s=Date.now(),d;for(d=a.length-1;d>=0;--d){let c=a[d];if(c.charAt(0)==="$")continue;if(c==="options"){r.push(...this._animateOptions(t,e));continue}let p=e[c],h=n[c],m=o.get(c);if(h){if(m&&h.active()){h.update(m,p,s);continue}h.cancel()}m&&m.duration?(n[c]=h=new bn(m,t,c,p),r.push(h)):t[c]=p}return r}update(t,e){if(this._properties.size===0)return void Object.assign(t,e);let o=this._createAnimations(t,e);return o.length?(Qt.add(this._chart,o),!0):void 0}}function xn(i,t){let e=i&&i.options||{},o=e.reverse,r=e.min===void 0?t:0,n=e.max===void 0?t:0;return{start:o?n:r,end:o?r:n}}function vn(i,t){let e=[],o=i._getSortedDatasetMetas(t),r,n;for(r=0,n=o.length;r<n;++r)e.push(o[r].index);return e}function yn(i,t,e,o={}){let r=i.keys,n=o.mode==="single",a,s,d,c;if(t===null)return;let p=!1;for(a=0,s=r.length;a<s;++a){if(d=+r[a],d===e){if(p=!0,o.all)continue;break}c=i.values[d],rt(c)&&(n||t===0||ht(t)===ht(c))&&(t+=c)}return p||o.all?t:0}function No(i,t){let e=i&&i.options.stacked;return e||e===void 0&&t.stack!==void 0}function As(i,t,e){let o=i[t]||(i[t]={});return o[e]||(o[e]={})}function wn(i,t,e,o){for(let r of t.getMatchingVisibleMetas(o).reverse()){let n=i[r.index];if(e&&n>0||!e&&n<0)return r.index}return null}function kn(i,t){let{chart:e,_cachedMeta:o}=i,r=e._stacks||(e._stacks={}),{iScale:n,vScale:a,index:s}=o,d=n.axis,c=a.axis,p=function(f,x,g){return`${f.id}.${x.id}.${g.stack||g.type}`}(n,a,o),h=t.length,m;for(let f=0;f<h;++f){let x=t[f],{[d]:g,[c]:b}=x;m=(x._stacks||(x._stacks={}))[c]=As(r,p,g),m[s]=b,m._top=wn(m,a,!0,o.type),m._bottom=wn(m,a,!1,o.type),(m._visualValues||(m._visualValues={}))[s]=b}}function $o(i,t){let e=i.scales;return Object.keys(e).filter(o=>e[o].axis===t).shift()}function ii(i,t){let e=i.controller.index,o=i.vScale&&i.vScale.axis;if(o){t=t||i._parsed;for(let r of t){let n=r._stacks;if(!n||n[o]===void 0||n[o][e]===void 0)return;delete n[o][e],n[o]._visualValues!==void 0&&n[o]._visualValues[e]!==void 0&&delete n[o]._visualValues[e]}}}let Uo=i=>i==="reset"||i==="none",_n=(i,t)=>t?i:Object.assign({},i);class zt{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=No(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&ii(this._cachedMeta),this.index=t}linkScales(){let t=this.chart,e=this._cachedMeta,o=this.getDataset(),r=(h,m,f,x)=>h==="x"?m:h==="r"?x:f,n=e.xAxisID=Z(o.xAxisID,$o(t,"x")),a=e.yAxisID=Z(o.yAxisID,$o(t,"y")),s=e.rAxisID=Z(o.rAxisID,$o(t,"r")),d=e.indexAxis,c=e.iAxisID=r(d,n,a,s),p=e.vAxisID=r(d,a,n,s);e.xScale=this.getScaleForId(n),e.yScale=this.getScaleForId(a),e.rScale=this.getScaleForId(s),e.iScale=this.getScaleForId(c),e.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){let e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){let t=this._cachedMeta;this._data&&co(this._data,this),t._stacked&&ii(t)}_dataCheck(){let t=this.getDataset(),e=t.data||(t.data=[]),o=this._data;if(K(e)){let r=this._cachedMeta;this._data=function(n,a){let{iScale:s,vScale:d}=a,c=s.axis==="x"?"x":"y",p=d.axis==="x"?"x":"y",h=Object.keys(n),m=new Array(h.length),f,x,g;for(f=0,x=h.length;f<x;++f)g=h[f],m[f]={[c]:g,[p]:n[g]};return m}(e,r)}else if(o!==e){if(o){co(o,this);let r=this._cachedMeta;ii(r),r._parsed=[]}e&&Object.isExtensible(e)&&fr(e,this),this._syncList=[],this._data=e}}addElements(){let t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){let e=this._cachedMeta,o=this.getDataset(),r=!1;this._dataCheck();let n=e._stacked;e._stacked=No(e.vScale,e),e.stack!==o.stack&&(r=!0,ii(e),e.stack=o.stack),this._resyncElements(t),(r||n!==e._stacked)&&(kn(this,e._parsed),e._stacked=No(e.vScale,e))}configure(){let t=this.chart.config,e=t.datasetScopeKeys(this._type),o=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(o,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){let{_cachedMeta:o,_data:r}=this,{iScale:n,_stacked:a}=o,s=n.axis,d,c,p,h=t===0&&e===r.length||o._sorted,m=t>0&&o._parsed[t-1];if(this._parsing===!1)o._parsed=r,o._sorted=!0,p=r;else{p=F(r[t])?this.parseArrayData(o,r,t,e):K(r[t])?this.parseObjectData(o,r,t,e):this.parsePrimitiveData(o,r,t,e);let f=()=>c[s]===null||m&&c[s]<m[s];for(d=0;d<e;++d)o._parsed[d+t]=c=p[d],h&&(f()&&(h=!1),m=c);o._sorted=h}a&&kn(this,p)}parsePrimitiveData(t,e,o,r){let{iScale:n,vScale:a}=t,s=n.axis,d=a.axis,c=n.getLabels(),p=n===a,h=new Array(r),m,f,x;for(m=0,f=r;m<f;++m)x=m+o,h[m]={[s]:p||n.parse(c[x],x),[d]:a.parse(e[x],x)};return h}parseArrayData(t,e,o,r){let{xScale:n,yScale:a}=t,s=new Array(r),d,c,p,h;for(d=0,c=r;d<c;++d)p=d+o,h=e[p],s[d]={x:n.parse(h[0],p),y:a.parse(h[1],p)};return s}parseObjectData(t,e,o,r){let{xScale:n,yScale:a}=t,{xAxisKey:s="x",yAxisKey:d="y"}=this._parsing,c=new Array(r),p,h,m,f;for(p=0,h=r;p<h;++p)m=p+o,f=e[m],c[p]={x:n.parse(bt(f,s),m),y:a.parse(bt(f,d),m)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,o){let r=this.chart,n=this._cachedMeta,a=e[t.axis];return yn({keys:vn(r,!0),values:e._stacks[t.axis]._visualValues},a,n.index,{mode:o})}updateRangeFromParsed(t,e,o,r){let n=o[e.axis],a=n===null?NaN:n,s=r&&o._stacks[e.axis];r&&s&&(r.values=s,a=yn(r,n,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,e){let o=this._cachedMeta,r=o._parsed,n=o._sorted&&t===o.iScale,a=r.length,s=this._getOtherScale(t),d=((g,b,y)=>g&&!b.hidden&&b._stacked&&{keys:vn(y,!0),values:null})(e,o,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:h}=function(g){let{min:b,max:y,minDefined:_,maxDefined:k}=g.getUserBounds();return{min:_?b:Number.NEGATIVE_INFINITY,max:k?y:Number.POSITIVE_INFINITY}}(s),m,f;function x(){f=r[m];let g=f[s.axis];return!rt(f[t.axis])||p>g||h<g}for(m=0;m<a&&(x()||(this.updateRangeFromParsed(c,t,f,d),!n));++m);if(n){for(m=a-1;m>=0;--m)if(!x()){this.updateRangeFromParsed(c,t,f,d);break}}return c}getAllParsedValues(t){let e=this._cachedMeta._parsed,o=[],r,n,a;for(r=0,n=e.length;r<n;++r)a=e[r][t.axis],rt(a)&&o.push(a);return o}getMaxOverflow(){return!1}getLabelAndValue(t){let e=this._cachedMeta,o=e.iScale,r=e.vScale,n=this.getParsed(t);return{label:o?""+o.getLabelForValue(n[o.axis]):"",value:r?""+r.getLabelForValue(n[r.axis]):""}}_update(t){let e=this._cachedMeta;this.update(t||"default"),e._clip=function(o){let r,n,a,s;return K(o)?(r=o.top,n=o.right,a=o.bottom,s=o.left):r=n=a=s=o,{top:r,right:n,bottom:a,left:s,disabled:o===!1}}(Z(this.options.clip,function(o,r,n){if(n===!1)return!1;let a=xn(o,n),s=xn(r,n);return{top:s.end,right:a.end,bottom:s.start,left:a.start}}(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){let t=this._ctx,e=this.chart,o=this._cachedMeta,r=o.data||[],n=e.chartArea,a=[],s=this._drawStart||0,d=this._drawCount||r.length-s,c=this.options.drawActiveElementsOnTop,p;for(o.dataset&&o.dataset.draw(t,n,s,d),p=s;p<s+d;++p){let h=r[p];h.hidden||(h.active&&c?a.push(h):h.draw(t,n))}for(p=0;p<a.length;++p)a[p].draw(t,n)}getStyle(t,e){let o=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(o):this.resolveDataElementOptions(t||0,o)}getContext(t,e,o){let r=this.getDataset(),n;if(t>=0&&t<this._cachedMeta.data.length){let a=this._cachedMeta.data[t];n=a.$context||(a.$context=function(s,d,c){return oe(s,{active:!1,dataIndex:d,parsed:void 0,raw:void 0,element:c,index:d,mode:"default",type:"data"})}(this.getContext(),t,a)),n.parsed=this.getParsed(t),n.raw=r.data[t],n.index=n.dataIndex=t}else n=this.$context||(this.$context=function(a,s){return oe(a,{active:!1,dataset:void 0,datasetIndex:s,index:s,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),n.dataset=r,n.index=n.datasetIndex=this.index;return n.active=!!e,n.mode=o,n}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",o){let r=e==="active",n=this._cachedDataOpts,a=t+"-"+e,s=n[a],d=this.enableOptionSharing&&At(o);if(s)return _n(s,d);let c=this.chart.config,p=c.datasetElementScopeKeys(this._type,t),h=r?[`${t}Hover`,"hover",t,""]:[t,""],m=c.getOptionScopes(this.getDataset(),p),f=Object.keys(mt.elements[t]),x=c.resolveNamedOptions(m,f,()=>this.getContext(o,r,e),h);return x.$shared&&(x.$shared=d,n[a]=Object.freeze(_n(x,d))),x}_resolveAnimations(t,e,o){let r=this.chart,n=this._cachedDataOpts,a=`animation-${e}`,s=n[a];if(s)return s;let d;if(r.options.animation!==!1){let p=this.chart.config,h=p.datasetAnimationScopeKeys(this._type,e),m=p.getOptionScopes(this.getDataset(),h);d=p.createResolver(m,this.getContext(t,o,e))}let c=new Ho(r,d&&d.animations);return d&&d._cacheable&&(n[a]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Uo(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){let o=this.resolveDataElementOptions(t,e),r=this._sharedOptions,n=this.getSharedOptions(o),a=this.includeOptions(e,n)||n!==r;return this.updateSharedOptions(n,e,o),{sharedOptions:n,includeOptions:a}}updateElement(t,e,o,r){Uo(r)?Object.assign(t,o):this._resolveAnimations(e,r).update(t,o)}updateSharedOptions(t,e,o){t&&!Uo(e)&&this._resolveAnimations(void 0,e).update(t,o)}_setStyle(t,e,o,r){t.active=r;let n=this.getStyle(e,r);this._resolveAnimations(e,o,r).update(t,{options:!r&&this.getSharedOptions(n)||n})}removeHoverStyle(t,e,o){this._setStyle(t,o,"active",!1)}setHoverStyle(t,e,o){this._setStyle(t,o,"active",!0)}_removeDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){let e=this._data,o=this._cachedMeta.data;for(let[s,d,c]of this._syncList)this[s](d,c);this._syncList=[];let r=o.length,n=e.length,a=Math.min(n,r);a&&this.parse(0,a),n>r?this._insertElements(r,n-r,t):n<r&&this._removeElements(n,r-n)}_insertElements(t,e,o=!0){let r=this._cachedMeta,n=r.data,a=t+e,s,d=c=>{for(c.length+=e,s=c.length-1;s>=a;s--)c[s]=c[s-e]};for(d(n),s=t;s<a;++s)n[s]=new this.dataElementType;this._parsing&&d(r._parsed),this.parse(t,e),o&&this.updateElements(n,t,e,"reset")}updateElements(t,e,o,r){}_removeElements(t,e){let o=this._cachedMeta;if(this._parsing){let r=o._parsed.splice(t,e);o._stacked&&ii(o,r)}o.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{let[e,o,r]=t;this[e](o,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){let t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);let o=arguments.length-2;o&&this._sync(["_insertElements",t,o])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}I(zt,"defaults",{}),I(zt,"datasetElementType",null),I(zt,"dataElementType",null);class Vt{constructor(){I(this,"x");I(this,"y");I(this,"active",!1);I(this,"options");I(this,"$animations")}tooltipPosition(t){let{x:e,y:o}=this.getProps(["x","y"],t);return{x:e,y:o}}hasValue(){return Kt(this.x)&&Kt(this.y)}getProps(t,e){let o=this.$animations;if(!e||!o)return this;let r={};return t.forEach(n=>{r[n]=o[n]&&o[n].active()?o[n]._to:this[n]}),r}}I(Vt,"defaults",{}),I(Vt,"defaultRoutes");function Cs(i,t){let e=i.options.ticks,o=function(h){let m=h.options.offset,f=h._tickSize(),x=h._length/f+(m?0:1),g=h._maxLength/f;return Math.floor(Math.min(x,g))}(i),r=Math.min(e.maxTicksLimit||o,o),n=e.major.enabled?function(h){let m=[],f,x;for(f=0,x=h.length;f<x;f++)h[f].major&&m.push(f);return m}(t):[],a=n.length,s=n[0],d=n[a-1],c=[];if(a>r)return function(h,m,f,x){let g,b=0,y=f[0];for(x=Math.ceil(x),g=0;g<h.length;g++)g===y&&(m.push(h[g]),b++,y=f[b*x])}(t,c,n,a/r),c;let p=function(h,m,f){let x=function(y){let _=y.length,k,A;if(_<2)return!1;for(A=y[0],k=1;k<_;++k)if(y[k]-y[k-1]!==A)return!1;return A}(h),g=m.length/f;if(!x)return Math.max(g,1);let b=We(x);for(let y=0,_=b.length-1;y<_;y++){let k=b[y];if(k>g)return k}return Math.max(g,1)}(n,t,r);if(a>0){let h,m,f=a>1?Math.round((d-s)/(a-1)):null;for(Wi(t,c,p,B(f)?0:s-f,s),h=0,m=a-1;h<m;h++)Wi(t,c,p,n[h],n[h+1]);return Wi(t,c,p,d,B(f)?t.length:d+f),c}return Wi(t,c,p),c}function Wi(i,t,e,o,r){let n=Z(o,0),a=Math.min(Z(r,i.length),i.length),s,d,c,p=0;for(e=Math.ceil(e),r&&(s=r-o,e=s/Math.floor(s/e)),c=n;c<0;)p++,c=Math.round(n+p*e);for(d=Math.max(n,0);d<a;d++)d===c&&(t.push(i[d]),p++,c=Math.round(n+p*e))}let An=(i,t,e)=>t==="top"||t==="left"?i[t]+e:i[t]-e,Cn=(i,t)=>Math.min(t||i,i);function Mn(i,t){let e=[],o=i.length/t,r=i.length,n=0;for(;n<r;n+=o)e.push(i[Math.floor(n)]);return e}function Ms(i,t,e){let o=i.ticks.length,r=Math.min(t,o-1),n=i._startPixel,a=i._endPixel,s=1e-6,d,c=i.getPixelForTick(r);if(!(e&&(d=o===1?Math.max(c-n,a-c):t===0?(i.getPixelForTick(1)-c)/2:(c-i.getPixelForTick(r-1))/2,c+=r<t?d:-d,c<n-s||c>a+s)))return c}function oi(i){return i.drawTicks?i.tickLength:0}function Sn(i,t){if(!i.display)return 0;let e=xt(i.font,t),o=yt(i.padding);return(F(i.text)?i.text.length:1)*e.lineHeight+o.height}function Ss(i,t,e){let o=wi(i);return(e&&t!=="right"||!e&&t==="right")&&(o=(r=>r==="left"?"right":r==="right"?"left":r)(o)),o}class fe extends Vt{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:o,_suggestedMax:r}=this;return t=lt(t,Number.POSITIVE_INFINITY),e=lt(e,Number.NEGATIVE_INFINITY),o=lt(o,Number.POSITIVE_INFINITY),r=lt(r,Number.NEGATIVE_INFINITY),{min:lt(t,o),max:lt(e,r),minDefined:rt(t),maxDefined:rt(e)}}getMinMax(t){let e,{min:o,max:r,minDefined:n,maxDefined:a}=this.getUserBounds();if(n&&a)return{min:o,max:r};let s=this.getMatchingVisibleMetas();for(let d=0,c=s.length;d<c;++d)e=s[d].controller.getMinMax(this,t),n||(o=Math.min(o,e.min)),a||(r=Math.max(r,e.max));return o=a&&o>r?r:o,r=n&&o>r?o:r,{min:lt(o,lt(r,o)),max:lt(r,lt(o,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){G(this.options.beforeUpdate,[this])}update(t,e,o){let{beginAtZero:r,grace:n,ticks:a}=this.options,s=a.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=o=Object.assign({left:0,right:0,top:0,bottom:0},o),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+o.left+o.right:this.height+o.top+o.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Xr(this,n,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let d=s<this.ticks.length;this._convertTicksToLabels(d?Mn(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=Cs(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,e,o=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,o=!o),this._startPixel=t,this._endPixel=e,this._reversePixels=o,this._length=e-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){G(this.options.afterUpdate,[this])}beforeSetDimensions(){G(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){G(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),G(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){G(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){let e=this.options.ticks,o,r,n;for(o=0,r=t.length;o<r;o++)n=t[o],n.label=G(e.callback,[n.value,o,t],this)}afterTickToLabelConversion(){G(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){G(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let t=this.options,e=t.ticks,o=Cn(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,n=e.maxRotation,a,s,d,c=r;if(!this._isVisible()||!e.display||r>=n||o<=1||!this.isHorizontal())return void(this.labelRotation=r);let p=this._getLabelSizes(),h=p.widest.width,m=p.highest.height,f=it(this.chart.width-h,0,this.maxWidth);a=t.offset?this.maxWidth/o:f/(o-1),h+6>a&&(a=f/(o-(t.offset?.5:1)),s=this.maxHeight-oi(t.grid)-e.padding-Sn(t.title,this.chart.options.font),d=Math.sqrt(h*h+m*m),c=v(Math.min(Math.asin(it((p.highest.height+6)/a,-1,1)),Math.asin(it(s/d,-1,1))-Math.asin(it(m/d,-1,1)))),c=Math.max(r,Math.min(n,c))),this.labelRotation=c}afterCalculateLabelRotation(){G(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){G(this.options.beforeFit,[this])}fit(){let t={width:0,height:0},{chart:e,options:{ticks:o,title:r,grid:n}}=this,a=this._isVisible(),s=this.isHorizontal();if(a){let d=Sn(r,e.options.font);if(s?(t.width=this.maxWidth,t.height=oi(n)+d):(t.height=this.maxHeight,t.width=oi(n)+d),o.display&&this.ticks.length){let{first:c,last:p,widest:h,highest:m}=this._getLabelSizes(),f=2*o.padding,x=u(this.labelRotation),g=Math.cos(x),b=Math.sin(x);if(s){let y=o.mirror?0:b*h.width+g*m.height;t.height=Math.min(this.maxHeight,t.height+y+f)}else{let y=o.mirror?0:g*h.width+b*m.height;t.width=Math.min(this.maxWidth,t.width+y+f)}this._calculatePadding(c,p,b,g)}}this._handleMargins(),s?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,o,r){let{ticks:{align:n,padding:a},position:s}=this.options,d=this.labelRotation!==0,c=s!=="top"&&this.axis==="x";if(this.isHorizontal()){let p=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1),m=0,f=0;d?c?(m=r*t.width,f=o*e.height):(m=o*t.height,f=r*e.width):n==="start"?f=e.width:n==="end"?m=t.width:n!=="inner"&&(m=t.width/2,f=e.width/2),this.paddingLeft=Math.max((m-p+a)*this.width/(this.width-p),0),this.paddingRight=Math.max((f-h+a)*this.width/(this.width-h),0)}else{let p=e.height/2,h=t.height/2;n==="start"?(p=0,h=t.height):n==="end"&&(p=e.height,h=0),this.paddingTop=p+a,this.paddingBottom=h+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){G(this.options.afterFit,[this])}isHorizontal(){let{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,o;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,o=t.length;e<o;e++)B(t[e].label)&&(t.splice(e,1),o--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){let e=this.options.ticks.sampleSize,o=this.ticks;e<o.length&&(o=Mn(o,e)),this._labelSizes=t=this._computeLabelSizes(o,o.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,o){let{ctx:r,_longestTextCache:n}=this,a=[],s=[],d=Math.floor(e/Cn(e,o)),c,p,h,m,f,x,g,b,y,_,k,A=0,E=0;for(c=0;c<e;c+=d){if(m=t[c].label,f=this._resolveTickFontOptions(c),r.font=x=f.string,g=n[x]=n[x]||{data:{},gc:[]},b=f.lineHeight,y=_=0,B(m)||F(m)){if(F(m))for(p=0,h=m.length;p<h;++p)k=m[p],B(k)||F(k)||(y=Xe(r,g.data,g.gc,y,k),_+=b)}else y=Xe(r,g.data,g.gc,y,m),_=b;a.push(y),s.push(_),A=Math.max(y,A),E=Math.max(_,E)}(function(j,W){J(j,Y=>{let U=Y.gc,H=U.length/2,$;if(H>W){for($=0;$<H;++$)delete Y.data[U[$]];U.splice(0,H)}})})(n,e);let D=a.indexOf(A),P=s.indexOf(E),z=j=>({width:a[j]||0,height:s[j]||0});return{first:z(0),last:z(e-1),widest:z(D),highest:z(P),widths:a,heights:s}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){let e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);let e=this._startPixel+t*this._length;return _t(this._alignToPixels?he(this.chart,e,0):e)}getDecimalForPixel(t){let e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){let e=this.ticks||[];if(t>=0&&t<e.length){let o=e[t];return o.$context||(o.$context=function(r,n,a){return oe(r,{tick:a,index:n,type:"tick"})}(this.getContext(),t,o))}return this.$context||(this.$context=oe(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){let t=this.options.ticks,e=u(this.labelRotation),o=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),n=this._getLabelSizes(),a=t.autoSkipPadding||0,s=n?n.widest.width+a:0,d=n?n.highest.height+a:0;return this.isHorizontal()?d*o>s*r?s/o:d/r:d*r<s*o?d/o:s/r}_isVisible(){let t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){let e=this.axis,o=this.chart,r=this.options,{grid:n,position:a,border:s}=r,d=n.offset,c=this.isHorizontal(),p=this.ticks.length+(d?1:0),h=oi(n),m=[],f=s.setContext(this.getContext()),x=f.display?f.width:0,g=x/2,b=function(N){return he(o,N,x)},y,_,k,A,E,D,P,z,j,W,Y,U;if(a==="top")y=b(this.bottom),D=this.bottom-h,z=y-g,W=b(t.top)+g,U=t.bottom;else if(a==="bottom")y=b(this.top),W=t.top,U=b(t.bottom)-g,D=y+g,z=this.top+h;else if(a==="left")y=b(this.right),E=this.right-h,P=y-g,j=b(t.left)+g,Y=t.right;else if(a==="right")y=b(this.left),j=t.left,Y=b(t.right)-g,E=y+g,P=this.left+h;else if(e==="x"){if(a==="center")y=b((t.top+t.bottom)/2+.5);else if(K(a)){let N=Object.keys(a)[0],Q=a[N];y=b(this.chart.scales[N].getPixelForValue(Q))}W=t.top,U=t.bottom,D=y+g,z=D+h}else if(e==="y"){if(a==="center")y=b((t.left+t.right)/2);else if(K(a)){let N=Object.keys(a)[0],Q=a[N];y=b(this.chart.scales[N].getPixelForValue(Q))}E=y-g,P=E-h,j=t.left,Y=t.right}let H=Z(r.ticks.maxTicksLimit,p),$=Math.max(1,Math.ceil(p/H));for(_=0;_<p;_+=$){let N=this.getContext(_),Q=n.setContext(N),at=s.setContext(N),nt=Q.lineWidth,kt=Q.color,Ft=at.dash||[],Lt=at.dashOffset,It=Q.tickWidth,Nt=Q.tickColor,$t=Q.tickBorderDash||[],Ut=Q.tickBorderDashOffset;k=Ms(this,_,d),k!==void 0&&(A=he(o,k,nt),c?E=P=j=Y=A:D=z=W=U=A,m.push({tx1:E,ty1:D,tx2:P,ty2:z,x1:j,y1:W,x2:Y,y2:U,width:nt,color:kt,borderDash:Ft,borderDashOffset:Lt,tickWidth:It,tickColor:Nt,tickBorderDash:$t,tickBorderDashOffset:Ut}))}return this._ticksLength=p,this._borderValue=y,m}_computeLabelItems(t){let e=this.axis,o=this.options,{position:r,ticks:n}=o,a=this.isHorizontal(),s=this.ticks,{align:d,crossAlign:c,padding:p,mirror:h}=n,m=oi(o.grid),f=m+p,x=h?-p:f,g=-u(this.labelRotation),b=[],y,_,k,A,E,D,P,z,j,W,Y,U,H="middle";if(r==="top")D=this.bottom-x,P=this._getXAxisLabelAlignment();else if(r==="bottom")D=this.top+x,P=this._getXAxisLabelAlignment();else if(r==="left"){let N=this._getYAxisLabelAlignment(m);P=N.textAlign,E=N.x}else if(r==="right"){let N=this._getYAxisLabelAlignment(m);P=N.textAlign,E=N.x}else if(e==="x"){if(r==="center")D=(t.top+t.bottom)/2+f;else if(K(r)){let N=Object.keys(r)[0],Q=r[N];D=this.chart.scales[N].getPixelForValue(Q)+f}P=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")E=(t.left+t.right)/2-f;else if(K(r)){let N=Object.keys(r)[0],Q=r[N];E=this.chart.scales[N].getPixelForValue(Q)}P=this._getYAxisLabelAlignment(m).textAlign}e==="y"&&(d==="start"?H="top":d==="end"&&(H="bottom"));let $=this._getLabelSizes();for(y=0,_=s.length;y<_;++y){k=s[y],A=k.label;let N=n.setContext(this.getContext(y));z=this.getPixelForTick(y)+n.labelOffset,j=this._resolveTickFontOptions(y),W=j.lineHeight,Y=F(A)?A.length:1;let Q=Y/2,at=N.color,nt=N.textStrokeColor,kt=N.textStrokeWidth,Ft,Lt=P;if(a?(E=z,P==="inner"&&(Lt=y===_-1?this.options.reverse?"left":"right":y===0?this.options.reverse?"right":"left":"center"),U=r==="top"?c==="near"||g!==0?-Y*W+W/2:c==="center"?-$.highest.height/2-Q*W+W:-$.highest.height+W/2:c==="near"||g!==0?W/2:c==="center"?$.highest.height/2-Q*W:$.highest.height-Y*W,h&&(U*=-1),g===0||N.showLabelBackdrop||(E+=W/2*Math.sin(g))):(D=z,U=(1-Y)*W/2),N.showLabelBackdrop){let It=yt(N.backdropPadding),Nt=$.heights[y],$t=$.widths[y],Ut=U-It.top,Yt=0-It.left;switch(H){case"middle":Ut-=Nt/2;break;case"bottom":Ut-=Nt}switch(P){case"center":Yt-=$t/2;break;case"right":Yt-=$t;break;case"inner":y===_-1?Yt-=$t:y>0&&(Yt-=$t/2)}Ft={left:Yt,top:Ut,width:$t+It.width,height:Nt+It.height,color:N.backdropColor}}b.push({label:A,font:j,textOffset:U,options:{rotation:g,color:at,strokeColor:nt,strokeWidth:kt,textAlign:Lt,textBaseline:H,translation:[E,D],backdrop:Ft}})}return b}_getXAxisLabelAlignment(){let{position:t,ticks:e}=this.options;if(-u(this.labelRotation))return t==="top"?"left":"right";let o="center";return e.align==="start"?o="left":e.align==="end"?o="right":e.align==="inner"&&(o="inner"),o}_getYAxisLabelAlignment(t){let{position:e,ticks:{crossAlign:o,mirror:r,padding:n}}=this.options,a=t+n,s=this._getLabelSizes().widest.width,d,c;return e==="left"?r?(c=this.right+n,o==="near"?d="left":o==="center"?(d="center",c+=s/2):(d="right",c+=s)):(c=this.right-a,o==="near"?d="right":o==="center"?(d="center",c-=s/2):(d="left",c=this.left)):e==="right"?r?(c=this.left+n,o==="near"?d="right":o==="center"?(d="center",c-=s/2):(d="left",c-=s)):(c=this.left+a,o==="near"?d="left":o==="center"?(d="center",c+=s/2):(d="right",c=this.right)):d="right",{textAlign:d,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;let t=this.chart,e=this.options.position;return e==="left"||e==="right"?{top:0,left:this.left,bottom:t.height,right:this.right}:e==="top"||e==="bottom"?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){let{ctx:t,options:{backgroundColor:e},left:o,top:r,width:n,height:a}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(o,r,n,a),t.restore())}getLineWidthForValue(t){let e=this.options.grid;if(!this._isVisible()||!e.display)return 0;let o=this.ticks.findIndex(r=>r.value===t);return o>=0?e.setContext(this.getContext(o)).lineWidth:0}drawGrid(t){let e=this.options.grid,o=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t)),n,a,s=(d,c,p)=>{p.width&&p.color&&(o.save(),o.lineWidth=p.width,o.strokeStyle=p.color,o.setLineDash(p.borderDash||[]),o.lineDashOffset=p.borderDashOffset,o.beginPath(),o.moveTo(d.x,d.y),o.lineTo(c.x,c.y),o.stroke(),o.restore())};if(e.display)for(n=0,a=r.length;n<a;++n){let d=r[n];e.drawOnChartArea&&s({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),e.drawTicks&&s({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){let{chart:t,ctx:e,options:{border:o,grid:r}}=this,n=o.setContext(this.getContext()),a=o.display?n.width:0;if(!a)return;let s=r.setContext(this.getContext(0)).lineWidth,d=this._borderValue,c,p,h,m;this.isHorizontal()?(c=he(t,this.left,a)-a/2,p=he(t,this.right,s)+s/2,h=m=d):(h=he(t,this.top,a)-a/2,m=he(t,this.bottom,s)+s/2,c=p=d),e.save(),e.lineWidth=n.width,e.strokeStyle=n.color,e.beginPath(),e.moveTo(c,h),e.lineTo(p,m),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;let e=this.ctx,o=this._computeLabelArea();o&&Ke(e,o);let r=this.getLabelItems(t);for(let n of r){let a=n.options,s=n.font;pe(e,n.label,0,n.textOffset,s,a)}o&&Ze(e)}drawTitle(){let{ctx:t,options:{position:e,title:o,reverse:r}}=this;if(!o.display)return;let n=xt(o.font),a=yt(o.padding),s=o.align,d=n.lineHeight/2;e==="bottom"||e==="center"||K(e)?(d+=a.bottom,F(o.text)&&(d+=n.lineHeight*(o.text.length-1))):d+=a.top;let{titleX:c,titleY:p,maxWidth:h,rotation:m}=function(f,x,g,b){let{top:y,left:_,bottom:k,right:A,chart:E}=f,{chartArea:D,scales:P}=E,z,j,W,Y=0,U=k-y,H=A-_;if(f.isHorizontal()){if(j=vt(b,_,A),K(g)){let $=Object.keys(g)[0],N=g[$];W=P[$].getPixelForValue(N)+U-x}else W=g==="center"?(D.bottom+D.top)/2+U-x:An(f,g,x);z=A-_}else{if(K(g)){let $=Object.keys(g)[0],N=g[$];j=P[$].getPixelForValue(N)-H+x}else j=g==="center"?(D.left+D.right)/2-H+x:An(f,g,x);W=vt(b,k,y),Y=g==="left"?-dt:dt}return{titleX:j,titleY:W,maxWidth:z,rotation:Y}}(this,d,e,s);pe(t,o.text,0,0,n,{color:o.color,maxWidth:h,rotation:m,textAlign:Ss(s,e,r),textBaseline:"middle",translation:[c,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){let t=this.options,e=t.ticks&&t.ticks.z||0,o=Z(t.grid&&t.grid.z,-1),r=Z(t.border&&t.border.z,0);return this._isVisible()&&this.draw===fe.prototype.draw?[{z:o,draw:n=>{this.drawBackground(),this.drawGrid(n),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:n=>{this.drawLabels(n)}}]:[{z:e,draw:n=>{this.draw(n)}}]}getMatchingVisibleMetas(t){let e=this.chart.getSortedVisibleDatasetMetas(),o=this.axis+"AxisID",r=[],n,a;for(n=0,a=e.length;n<a;++n){let s=e[n];s[o]!==this.id||t&&s.type!==t||r.push(s)}return r}_resolveTickFontOptions(t){return xt(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){let t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Hi{constructor(t,e,o){this.type=t,this.scope=e,this.override=o,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){let e=Object.getPrototypeOf(t),o;(function(s){return"id"in s&&"defaults"in s})(e)&&(o=this.register(e));let r=this.items,n=t.id,a=this.scope+"."+n;if(!n)throw new Error("class does not have id: "+t);return n in r||(r[n]=t,function(s,d,c){let p=ee(Object.create(null),[c?mt.get(c):{},mt.get(d),s.defaults]);mt.set(d,p),s.defaultRoutes&&function(h,m){Object.keys(m).forEach(f=>{let x=f.split("."),g=x.pop(),b=[h].concat(x).join("."),y=m[f].split("."),_=y.pop(),k=y.join(".");mt.route(b,g,k,_)})}(d,s.defaultRoutes),s.descriptors&&mt.describe(d,s.descriptors)}(t,a,o),this.override&&mt.override(t.id,t.overrides)),a}get(t){return this.items[t]}unregister(t){let e=this.items,o=t.id,r=this.scope;o in e&&delete e[o],r&&o in mt[r]&&(delete mt[r][o],this.override&&delete ke[o])}}class Es{constructor(){this.controllers=new Hi(zt,"datasets",!0),this.elements=new Hi(Vt,"elements"),this.plugins=new Hi(Object,"plugins"),this.scales=new Hi(fe,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,o){[...e].forEach(r=>{let n=o||this._getRegistryForType(r);o||n.isForType(r)||n===this.plugins&&r.id?this._exec(t,n,r):J(r,a=>{let s=o||this._getRegistryForType(a);this._exec(t,s,a)})})}_exec(t,e,o){let r=gt(t);G(o["before"+r],[],o),e[t](o),G(o["after"+r],[],o)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){let o=this._typedRegistries[e];if(o.isForType(t))return o}return this.plugins}_get(t,e,o){let r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+o+".");return r}}var Ht=new Es;class Ds{constructor(){this._init=[]}notify(t,e,o,r){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));let n=r?this._descriptors(t).filter(r):this._descriptors(t),a=this._notify(n,t,e,o);return e==="afterDestroy"&&(this._notify(n,t,"stop"),this._notify(this._init,t,"uninstall")),a}_notify(t,e,o,r){r=r||{};for(let n of t){let a=n.plugin;if(G(a[o],[e,r,n.options],a)===!1&&r.cancelable)return!1}return!0}invalidate(){B(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;let e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){let o=t&&t.config,r=Z(o.options&&o.options.plugins,{}),n=function(a){let s={},d=[],c=Object.keys(Ht.plugins.items);for(let h=0;h<c.length;h++)d.push(Ht.getPlugin(c[h]));let p=a.plugins||[];for(let h=0;h<p.length;h++){let m=p[h];d.indexOf(m)===-1&&(d.push(m),s[m.id]=!0)}return{plugins:d,localIds:s}}(o);return r!==!1||e?function(a,{plugins:s,localIds:d},c,p){let h=[],m=a.getContext();for(let f of s){let x=f.id,g=Ts(c[x],p);g!==null&&h.push({plugin:f,options:Fs(a.config,{plugin:f,local:d[x]},g,m)})}return h}(t,n,r,e):[]}_notifyStateChanges(t){let e=this._oldCache||[],o=this._cache,r=(n,a)=>n.filter(s=>!a.some(d=>s.plugin.id===d.plugin.id));this._notify(r(e,o),t,"stop"),this._notify(r(o,e),t,"start")}}function Ts(i,t){return t||i!==!1?i===!0?{}:i:null}function Fs(i,{plugin:t,local:e},o,r){let n=i.pluginScopeKeys(t),a=i.getOptionScopes(o,n);return e&&t.defaults&&a.push(t.defaults),i.createResolver(a,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Yo(i,t){let e=mt.datasets[i]||{};return((t.datasets||{})[i]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function En(i){if(i==="x"||i==="y"||i==="r")return i}function qo(i,...t){if(En(i))return i;for(let o of t){let r=o.axis||((e=o.position)==="top"||e==="bottom"?"x":e==="left"||e==="right"?"y":void 0)||i.length>1&&En(i[0].toLowerCase());if(r)return r}var e;throw new Error(`Cannot determine type of '${i}' axis. Please provide 'axis' or 'position' option.`)}function Dn(i,t,e){if(e[t+"AxisID"]===i)return{axis:t}}function Ls(i,t){let e=ke[i.type]||{scales:{}},o=t.scales||{},r=Yo(i.type,t),n=Object.create(null);return Object.keys(o).forEach(a=>{let s=o[a];if(!K(s))return console.error(`Invalid scale configuration for scale: ${a}`);if(s._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);let d=qo(a,s,function(h,m){if(m.data&&m.data.datasets){let f=m.data.datasets.filter(x=>x.xAxisID===h||x.yAxisID===h);if(f.length)return Dn(h,"x",f[0])||Dn(h,"y",f[0])}return{}}(a,i),mt.scales[s.type]),c=function(h,m){return h===m?"_index_":"_value_"}(d,r),p=e.scales||{};n[a]=Xt(Object.create(null),[{axis:d},s,p[d],p[c]])}),i.data.datasets.forEach(a=>{let s=a.type||i.type,d=a.indexAxis||Yo(s,t),c=(ke[s]||{}).scales||{};Object.keys(c).forEach(p=>{let h=function(f,x){let g=f;return f==="_index_"?g=x:f==="_value_"&&(g=x==="x"?"y":"x"),g}(p,d),m=a[h+"AxisID"]||h;n[m]=n[m]||Object.create(null),Xt(n[m],[{axis:h},o[m],c[p]])})}),Object.keys(n).forEach(a=>{let s=n[a];Xt(s,[mt.scales[s.type],mt.scale])}),n}function Tn(i){let t=i.options||(i.options={});t.plugins=Z(t.plugins,{}),t.scales=Ls(i,t)}function Fn(i){return(i=i||{}).datasets=i.datasets||[],i.labels=i.labels||[],i}let Ln=new Map,On=new Set;function Ni(i,t){let e=Ln.get(i);return e||(e=t(),Ln.set(i,e),On.add(e)),e}let ri=(i,t,e)=>{let o=bt(t,e);o!==void 0&&i.add(o)};class Os{constructor(t){this._config=function(e){return(e=e||{}).data=Fn(e.data),Tn(e),e}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Fn(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){let t=this._config;this.clearCache(),Tn(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Ni(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Ni(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Ni(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){let e=t.id;return Ni(`${this.type}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){let o=this._scopeCache,r=o.get(t);return r&&!e||(r=new Map,o.set(t,r)),r}getOptionScopes(t,e,o){let{options:r,type:n}=this,a=this._cachedScopes(t,o),s=a.get(e);if(s)return s;let d=new Set;e.forEach(p=>{t&&(d.add(t),p.forEach(h=>ri(d,t,h))),p.forEach(h=>ri(d,r,h)),p.forEach(h=>ri(d,ke[n]||{},h)),p.forEach(h=>ri(d,mt,h)),p.forEach(h=>ri(d,ko,h))});let c=Array.from(d);return c.length===0&&c.push(Object.create(null)),On.has(e)&&a.set(e,c),c}chartOptionScopes(){let{options:t,type:e}=this;return[t,ke[e]||{},mt.datasets[e]||{},{type:e},mt,ko]}resolveNamedOptions(t,e,o,r=[""]){let n={$shared:!0},{resolver:a,subPrefixes:s}=Pn(this._resolverCache,t,r),d=a;(function(c,p){let{isScriptable:h,isIndexable:m}=Eo(c);for(let f of p){let x=h(f),g=m(f),b=(g||x)&&c[f];if(x&&(jt(b)||Ps(b))||g&&F(b))return!0}return!1})(a,e)&&(n.$shared=!1,d=Ae(a,o=jt(o)?o():o,this.createResolver(t,o,s)));for(let c of e)n[c]=d[c];return n}createResolver(t,e,o=[""],r){let{resolver:n}=Pn(this._resolverCache,t,o);return K(e)?Ae(n,e,void 0,r):n}}function Pn(i,t,e){let o=i.get(t);o||(o=new Map,i.set(t,o));let r=e.join(),n=o.get(r);return n||(n={resolver:Oi(t,e),subPrefixes:e.filter(a=>!a.toLowerCase().includes("hover"))},o.set(r,n)),n}let Ps=i=>K(i)&&Object.getOwnPropertyNames(i).some(t=>jt(i[t])),Rs=["top","bottom","left","right","chartArea"];function Rn(i,t){return i==="top"||i==="bottom"||Rs.indexOf(i)===-1&&t==="x"}function Bn(i,t){return function(e,o){return e[i]===o[i]?e[t]-o[t]:e[i]-o[i]}}function zn(i){let t=i.chart,e=t.options.animation;t.notifyPlugins("afterRender"),G(e&&e.onComplete,[i],t)}function Bs(i){let t=i.chart,e=t.options.animation;G(e&&e.onProgress,[i],t)}function Vn(i){return Si()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}let $i={},In=i=>{let t=Vn(i);return Object.values($i).filter(e=>e.canvas===t).pop()};function zs(i,t,e){let o=Object.keys(i);for(let r of o){let n=+r;if(n>=t){let a=i[r];delete i[r],(e>0||n>t)&&(i[n+e]=a)}}}class ct{static register(...t){Ht.add(...t),jn()}static unregister(...t){Ht.remove(...t),jn()}constructor(t,e){let o=this.config=new Os(e),r=Vn(t),n=In(r);if(n)throw new Error("Canvas is already in use. Chart with ID '"+n.id+"' must be destroyed before the canvas with ID '"+n.canvas.id+"' can be reused.");let a=o.createResolver(o.chartOptionScopes(),this.getContext());this.platform=new(o.platform||mn(r)),this.platform.updateConfig(o);let s=this.platform.acquireContext(r,a.aspectRatio),d=s&&s.canvas,c=d&&d.height,p=d&&d.width;this.id=R(),this.ctx=s,this.canvas=d,this.width=p,this.height=c,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Ds,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=gr(h=>this.update(h),a.resizeDelay||0),this._dataChanges=[],$i[this.id]=this,s&&d?(Qt.listen(this,"complete",zn),Qt.listen(this,"progress",Bs),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){let{options:{aspectRatio:t,maintainAspectRatio:e},width:o,height:r,_aspectRatio:n}=this;return B(t)?e&&n?n:r?o/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Ht}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ao(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Mo(this.canvas,this.ctx),this}stop(){return Qt.stop(this),this}resize(t,e){Qt.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){let o=this.options,r=this.canvas,n=o.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(r,t,e,n),s=o.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Ao(this,s,!0)&&(this.notifyPlugins("resize",{size:a}),G(o.onResize,[this,a],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){J(this.options.scales||{},(t,e)=>{t.id=e})}buildOrUpdateScales(){let t=this.options,e=t.scales,o=this.scales,r=Object.keys(o).reduce((a,s)=>(a[s]=!1,a),{}),n=[];e&&(n=n.concat(Object.keys(e).map(a=>{let s=e[a],d=qo(a,s),c=d==="r",p=d==="x";return{options:s,dposition:c?"chartArea":p?"bottom":"left",dtype:c?"radialLinear":p?"category":"linear"}}))),J(n,a=>{let s=a.options,d=s.id,c=qo(d,s),p=Z(s.type,a.dtype);s.position!==void 0&&Rn(s.position,c)===Rn(a.dposition)||(s.position=a.dposition),r[d]=!0;let h=null;d in o&&o[d].type===p?h=o[d]:(h=new(Ht.getScale(p))({id:d,type:p,ctx:this.ctx,chart:this}),o[h.id]=h),h.init(s,t)}),J(r,(a,s)=>{a||delete o[s]}),J(o,a=>{wt.configure(this,a,a.options),wt.addBox(this,a)})}_updateMetasets(){let t=this._metasets,e=this.data.datasets.length,o=t.length;if(t.sort((r,n)=>r.index-n.index),o>e){for(let r=e;r<o;++r)this._destroyDatasetMeta(r);t.splice(e,o-e)}this._sortedMetasets=t.slice(0).sort(Bn("order","index"))}_removeUnreferencedMetasets(){let{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((o,r)=>{e.filter(n=>n===o._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){let t=[],e=this.data.datasets,o,r;for(this._removeUnreferencedMetasets(),o=0,r=e.length;o<r;o++){let n=e[o],a=this.getDatasetMeta(o),s=n.type||this.config.type;if(a.type&&a.type!==s&&(this._destroyDatasetMeta(o),a=this.getDatasetMeta(o)),a.type=s,a.indexAxis=n.indexAxis||Yo(s,this.options),a.order=n.order||0,a.index=o,a.label=""+n.label,a.visible=this.isDatasetVisible(o),a.controller)a.controller.updateIndex(o),a.controller.linkScales();else{let d=Ht.getController(s),{datasetElementType:c,dataElementType:p}=mt.datasets[s];Object.assign(d,{dataElementType:Ht.getElement(p),datasetElementType:c&&Ht.getElement(c)}),a.controller=new d(this,o),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){J(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){let e=this.config;e.update();let o=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!o.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;let n=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let c=0,p=this.data.datasets.length;c<p;c++){let{controller:h}=this.getDatasetMeta(c),m=!r&&n.indexOf(h)===-1;h.buildOrUpdateElements(m),a=Math.max(+h.getMaxOverflow(),a)}a=this._minPadding=o.layout.autoPadding?a:0,this._updateLayout(a),r||J(n,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Bn("z","_idx"));let{_active:s,_lastEvent:d}=this;d?this._eventHandler(d,!0):s.length&&this._updateHoverStyles(s,s,!0),this.render()}_updateScales(){J(this.scales,t=>{wt.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let t=this.options,e=new Set(Object.keys(this._listeners)),o=new Set(t.events);ve(e,o)&&!!this._responsiveListeners===t.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(let{method:o,start:r,count:n}of e)zs(t,r,o==="_removeElements"?-n:n)}_getUniformDataChanges(){let t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];let e=this.data.datasets.length,o=n=>new Set(t.filter(a=>a[0]===n).map((a,s)=>s+","+a.splice(1).join(","))),r=o(0);for(let n=1;n<e;n++)if(!ve(r,o(n)))return;return Array.from(r).map(n=>n.split(",")).map(n=>({method:n[1],start:+n[2],count:+n[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;wt.update(this,this.width,this.height,t);let e=this.chartArea,o=e.width<=0||e.height<=0;this._layers=[],J(this.boxes,r=>{o&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,n)=>{r._idx=n}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,o=this.data.datasets.length;e<o;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,o=this.data.datasets.length;e<o;++e)this._updateDataset(e,jt(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){let o=this.getDatasetMeta(t),r={meta:o,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(o.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Qt.has(this)?this.attached&&!Qt.running(this)&&Qt.start(this):(this.draw(),zn({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){let{width:o,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(o,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){let e=this._sortedMetasets,o=[],r,n;for(r=0,n=e.length;r<n;++r){let a=e[r];t&&!a.visible||o.push(a)}return o}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){let e=this.ctx,o={meta:t,index:t.index,cancelable:!0},r=zo(this,t);this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(r&&Ke(e,r),t.controller.draw(),r&&Ze(e),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return Gt(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,o,r){let n=en.modes[e];return typeof n=="function"?n(this,t,o,r):[]}getDatasetMeta(t){let e=this.data.datasets[t],o=this._metasets,r=o.filter(n=>n&&n._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},o.push(r)),r}getContext(){return this.$context||(this.$context=oe(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){let e=this.data.datasets[t];if(!e)return!1;let o=this.getDatasetMeta(t);return typeof o.hidden=="boolean"?!o.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,o){let r=o?"show":"hide",n=this.getDatasetMeta(t),a=n.controller._resolveAnimations(void 0,r);At(e)?(n.data[e].hidden=!o,this.update()):(this.setDatasetVisibility(t,o),a.update(n,{visible:o}),this.update(s=>s.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){let e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Qt.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Mo(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete $i[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let t=this._listeners,e=this.platform,o=(n,a)=>{e.addEventListener(this,n,a),t[n]=a},r=(n,a,s)=>{n.offsetX=a,n.offsetY=s,this._eventHandler(n)};J(this.options.events,n=>o(n,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let t=this._responsiveListeners,e=this.platform,o=(d,c)=>{e.addEventListener(this,d,c),t[d]=c},r=(d,c)=>{t[d]&&(e.removeEventListener(this,d,c),delete t[d])},n=(d,c)=>{this.canvas&&this.resize(d,c)},a,s=()=>{r("attach",s),this.attached=!0,this.resize(),o("resize",n),o("detach",a)};a=()=>{this.attached=!1,r("resize",n),this._stop(),this._resize(0,0),o("attach",s)},e.isAttached(this.canvas)?s():a()}unbindEvents(){J(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},J(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,o){let r=o?"set":"remove",n,a,s,d;for(e==="dataset"&&(n=this.getDatasetMeta(t[0].datasetIndex),n.controller["_"+r+"DatasetHoverStyle"]()),s=0,d=t.length;s<d;++s){a=t[s];let c=a&&this.getDatasetMeta(a.datasetIndex).controller;c&&c[r+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){let e=this._active||[],o=t.map(({datasetIndex:r,index:n})=>{let a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[n],index:n}});!Ot(o,e)&&(this._active=o,this._lastEvent=null,this._updateHoverStyles(o,e))}notifyPlugins(t,e,o){return this._plugins.notify(this,t,e,o)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,o){let r=this.options.hover,n=(d,c)=>d.filter(p=>!c.some(h=>p.datasetIndex===h.datasetIndex&&p.index===h.index)),a=n(e,t),s=o?t:n(t,e);a.length&&this.updateHoverStyle(a,r.mode,!1),s.length&&r.mode&&this.updateHoverStyle(s,r.mode,!0)}_eventHandler(t,e){let o={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=a=>(a.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",o,r)===!1)return;let n=this._handleEvent(t,e,o.inChartArea);return o.cancelable=!1,this.notifyPlugins("afterEvent",o,r),(n||o.changed)&&this.render(),this}_handleEvent(t,e,o){let{_active:r=[],options:n}=this,a=e,s=this._getActiveElements(t,r,o,a),d=ae(t),c=function(h,m,f,x){return f&&h.type!=="mouseout"?x?m:h:null}(t,this._lastEvent,o,d);o&&(this._lastEvent=null,G(n.onHover,[t,s,this],this),d&&G(n.onClick,[t,s,this],this));let p=!Ot(s,r);return(p||e)&&(this._active=s,this._updateHoverStyles(s,r,e)),this._lastEvent=c,p}_getActiveElements(t,e,o,r){if(t.type==="mouseout")return[];if(!o)return e;let n=this.options.hover;return this.getElementsAtEventForMode(t,n.mode,n,r)}}I(ct,"defaults",mt),I(ct,"instances",$i),I(ct,"overrides",ke),I(ct,"registry",Ht),I(ct,"version","4.4.9"),I(ct,"getChart",In);function jn(){return J(ct.instances,i=>i._plugins.invalidate())}function Me(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Xo{constructor(t){I(this,"options");this.options=t||{}}static override(t){Object.assign(Xo.prototype,t)}init(){}formats(){return Me()}parse(){return Me()}format(){return Me()}add(){return Me()}diff(){return Me()}startOf(){return Me()}endOf(){return Me()}}var Wn={_date:Xo};function Vs(i){let t=i.iScale,e=function(c,p){if(!c._cache.$bar){let h=c.getMatchingVisibleMetas(p),m=[];for(let f=0,x=h.length;f<x;f++)m=m.concat(h[f].controller.getAllParsedValues(c));c._cache.$bar=ho(m.sort((f,x)=>f-x))}return c._cache.$bar}(t,i.type),o,r,n,a,s=t._length,d=()=>{n!==32767&&n!==-32768&&(At(a)&&(s=Math.min(s,Math.abs(n-a)||s)),a=n)};for(o=0,r=e.length;o<r;++o)n=t.getPixelForValue(e[o]),d();for(a=void 0,o=0,r=t.ticks.length;o<r;++o)n=t.getPixelForTick(o),d();return s}function Hn(i,t,e,o){return F(i)?function(r,n,a,s){let d=a.parse(r[0],s),c=a.parse(r[1],s),p=Math.min(d,c),h=Math.max(d,c),m=p,f=h;Math.abs(p)>Math.abs(h)&&(m=h,f=p),n[a.axis]=f,n._custom={barStart:m,barEnd:f,start:d,end:c,min:p,max:h}}(i,t,e,o):t[e.axis]=e.parse(i,o),t}function Nn(i,t,e,o){let r=i.iScale,n=i.vScale,a=r.getLabels(),s=r===n,d=[],c,p,h,m;for(c=e,p=e+o;c<p;++c)m=t[c],h={},h[r.axis]=s||r.parse(a[c],c),d.push(Hn(m,h,n,c));return d}function Ko(i){return i&&i.barStart!==void 0&&i.barEnd!==void 0}function Is(i,t,e,o){let r=t.borderSkipped,n={};if(!r)return void(i.borderSkipped=n);if(r===!0)return void(i.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});let{start:a,end:s,reverse:d,top:c,bottom:p}=function(h){let m,f,x,g,b;return h.horizontal?(m=h.base>h.x,f="left",x="right"):(m=h.base<h.y,f="bottom",x="top"),m?(g="end",b="start"):(g="start",b="end"),{start:f,end:x,reverse:m,top:g,bottom:b}}(i);r==="middle"&&e&&(i.enableBorderRadius=!0,(e._top||0)===o?r=c:(e._bottom||0)===o?r=p:(n[$n(p,a,s,d)]=!0,r=c)),n[$n(r,a,s,d)]=!0,i.borderSkipped=n}function $n(i,t,e,o){var r,n,a;return o?(a=e,i=Un(i=(r=i)===(n=t)?a:r===a?n:r,e,t)):i=Un(i,t,e),i}function Un(i,t,e){return i==="start"?t:i==="end"?e:i}function js(i,{inflateAmount:t},e){i.inflateAmount=t==="auto"?e===1?.33:0:t}class Se extends zt{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){let o=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=o;else{let n,a,s=d=>+o[d];if(K(o[t])){let{key:d="value"}=this._parsing;s=c=>+bt(o[c],d)}for(n=t,a=t+e;n<a;++n)r._parsed[n]=s(n)}}_getRotation(){return u(this.options.rotation-90)}_getCircumference(){return u(this.options.circumference)}_getRotationExtents(){let t=et,e=-et;for(let o=0;o<this.chart.data.datasets.length;++o)if(this.chart.isDatasetVisible(o)&&this.chart.getDatasetMeta(o).type===this._type){let r=this.chart.getDatasetMeta(o).controller,n=r._getRotation(),a=r._getCircumference();t=Math.min(t,n),e=Math.max(e,n+a)}return{rotation:t,circumference:e-t}}update(t){let e=this.chart,{chartArea:o}=e,r=this._cachedMeta,n=r.data,a=this.getMaxBorderWidth()+this.getMaxOffset(n)+this.options.spacing,s=Math.max((Math.min(o.width,o.height)-a)/2,0),d=Math.min(q(this.options.cutout,s),1),c=this._getRingWeight(this.index),{circumference:p,rotation:h}=this._getRotationExtents(),{ratioX:m,ratioY:f,offsetX:x,offsetY:g}=function(E,D,P){let z=1,j=1,W=0,Y=0;if(D<et){let U=E,H=U+D,$=Math.cos(U),N=Math.sin(U),Q=Math.cos(H),at=Math.sin(H),nt=($t,Ut,Yt)=>X($t,U,H,!0)?1:Math.max(Ut,Ut*P,Yt,Yt*P),kt=($t,Ut,Yt)=>X($t,U,H,!0)?-1:Math.min(Ut,Ut*P,Yt,Yt*P),Ft=nt(0,$,Q),Lt=nt(dt,N,at),It=kt(st,$,Q),Nt=kt(st+dt,N,at);z=(Ft-It)/2,j=(Lt-Nt)/2,W=-(Ft+It)/2,Y=-(Lt+Nt)/2}return{ratioX:z,ratioY:j,offsetX:W,offsetY:Y}}(h,p,d),b=(o.width-a)/m,y=(o.height-a)/f,_=Math.max(Math.min(b,y)/2,0),k=pt(this.options.radius,_),A=(k-Math.max(k*d,0))/this._getVisibleDatasetWeightTotal();this.offsetX=x*k,this.offsetY=g*k,r.total=this.calculateTotal(),this.outerRadius=k-A*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-A*c,0),this.updateElements(n,0,n.length,t)}_circumference(t,e){let o=this.options,r=this._cachedMeta,n=this._getCircumference();return e&&o.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*n/et)}updateElements(t,e,o,r){let n=r==="reset",a=this.chart,s=a.chartArea,d=a.options.animation,c=(s.left+s.right)/2,p=(s.top+s.bottom)/2,h=n&&d.animateScale,m=h?0:this.innerRadius,f=h?0:this.outerRadius,{sharedOptions:x,includeOptions:g}=this._getSharedOptions(e,r),b,y=this._getRotation();for(b=0;b<e;++b)y+=this._circumference(b,n);for(b=e;b<e+o;++b){let _=this._circumference(b,n),k=t[b],A={x:c+this.offsetX,y:p+this.offsetY,startAngle:y,endAngle:y+_,circumference:_,outerRadius:f,innerRadius:m};g&&(A.options=x||this.resolveDataElementOptions(b,k.active?"active":r)),y+=_,this.updateElement(k,b,A,r)}}calculateTotal(){let t=this._cachedMeta,e=t.data,o,r=0;for(o=0;o<e.length;o++){let n=t._parsed[o];n===null||isNaN(n)||!this.chart.getDataVisibility(o)||e[o].hidden||(r+=Math.abs(n))}return r}calculateCircumference(t){let e=this._cachedMeta.total;return e>0&&!isNaN(t)?et*(Math.abs(t)/e):0}getLabelAndValue(t){let e=this._cachedMeta,o=this.chart,r=o.data.labels||[],n=Le(e._parsed[t],o.options.locale);return{label:r[t]||"",value:n}}getMaxBorderWidth(t){let e=0,o=this.chart,r,n,a,s,d;if(!t){for(r=0,n=o.data.datasets.length;r<n;++r)if(o.isDatasetVisible(r)){a=o.getDatasetMeta(r),t=a.data,s=a.controller;break}}if(!t)return 0;for(r=0,n=t.length;r<n;++r)d=s.resolveDataElementOptions(r),d.borderAlign!=="inner"&&(e=Math.max(e,d.borderWidth||0,d.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let o=0,r=t.length;o<r;++o){let n=this.resolveDataElementOptions(o);e=Math.max(e,n.offset||0,n.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let o=0;o<t;++o)this.chart.isDatasetVisible(o)&&(e+=this._getRingWeight(o));return e}_getRingWeight(t){return Math.max(Z(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}I(Se,"id","doughnut"),I(Se,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),I(Se,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),I(Se,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let e=t.data;if(e.labels.length&&e.datasets.length){let{labels:{pointStyle:o,color:r}}=t.legend.options;return e.labels.map((n,a)=>{let s=t.getDatasetMeta(0).controller.getStyle(a);return{text:n,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:r,lineWidth:s.borderWidth,pointStyle:o,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,e,o){o.chart.toggleDataVisibility(e.index),o.chart.update()}}}});class ni extends zt{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){let e=this._cachedMeta,o=this.chart,r=o.data.labels||[],n=Le(e._parsed[t].r,o.options.locale);return{label:r[t]||"",value:n}}parseObjectData(t,e,o,r){return Fo.bind(this)(t,e,o,r)}update(t){let e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){let t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((o,r)=>{let n=this.getParsed(r).r;!isNaN(n)&&this.chart.getDataVisibility(r)&&(n<e.min&&(e.min=n),n>e.max&&(e.max=n))}),e}_updateRadius(){let t=this.chart,e=t.chartArea,o=t.options,r=Math.min(e.right-e.left,e.bottom-e.top),n=Math.max(r/2,0),a=(n-Math.max(o.cutoutPercentage?n/100*o.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=n-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,e,o,r){let n=r==="reset",a=this.chart,s=a.options.animation,d=this._cachedMeta.rScale,c=d.xCenter,p=d.yCenter,h=d.getIndexAngle(0)-.5*st,m,f=h,x=360/this.countVisibleElements();for(m=0;m<e;++m)f+=this._computeAngle(m,r,x);for(m=e;m<e+o;m++){let g=t[m],b=f,y=f+this._computeAngle(m,r,x),_=a.getDataVisibility(m)?d.getDistanceFromCenterForValue(this.getParsed(m).r):0;f=y,n&&(s.animateScale&&(_=0),s.animateRotate&&(b=y=h));let k={x:c,y:p,innerRadius:0,outerRadius:_,startAngle:b,endAngle:y,options:this.resolveDataElementOptions(m,g.active?"active":r)};this.updateElement(g,m,k,r)}}countVisibleElements(){let t=this._cachedMeta,e=0;return t.data.forEach((o,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&e++}),e}_computeAngle(t,e,o){return this.chart.getDataVisibility(t)?u(this.resolveDataElementOptions(t,e).angle||o):0}}I(ni,"id","polarArea"),I(ni,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),I(ni,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let e=t.data;if(e.labels.length&&e.datasets.length){let{labels:{pointStyle:o,color:r}}=t.legend.options;return e.labels.map((n,a)=>{let s=t.getDatasetMeta(0).controller.getStyle(a);return{text:n,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:r,lineWidth:s.borderWidth,pointStyle:o,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,e,o){o.chart.toggleDataVisibility(e.index),o.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});var Yn=Object.freeze({__proto__:null,BarController:(ci=class extends zt{parsePrimitiveData(i,t,e,o){return Nn(i,t,e,o)}parseArrayData(i,t,e,o){return Nn(i,t,e,o)}parseObjectData(i,t,e,o){let{iScale:r,vScale:n}=i,{xAxisKey:a="x",yAxisKey:s="y"}=this._parsing,d=r.axis==="x"?a:s,c=n.axis==="x"?a:s,p=[],h,m,f,x;for(h=e,m=e+o;h<m;++h)x=t[h],f={},f[r.axis]=r.parse(bt(x,d),h),p.push(Hn(bt(x,c),f,n,h));return p}updateRangeFromParsed(i,t,e,o){super.updateRangeFromParsed(i,t,e,o);let r=e._custom;r&&t===this._cachedMeta.vScale&&(i.min=Math.min(i.min,r.min),i.max=Math.max(i.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(i){let t=this._cachedMeta,{iScale:e,vScale:o}=t,r=this.getParsed(i),n=r._custom,a=Ko(n)?"["+n.start+", "+n.end+"]":""+o.getLabelForValue(r[o.axis]);return{label:""+e.getLabelForValue(r[e.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(i){let t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,i)}updateElements(i,t,e,o){let r=o==="reset",{index:n,_cachedMeta:{vScale:a}}=this,s=a.getBasePixel(),d=a.isHorizontal(),c=this._getRuler(),{sharedOptions:p,includeOptions:h}=this._getSharedOptions(t,o);for(let m=t;m<t+e;m++){let f=this.getParsed(m),x=r||B(f[a.axis])?{base:s,head:s}:this._calculateBarValuePixels(m),g=this._calculateBarIndexPixels(m,c),b=(f._stacks||{})[a.axis],y={horizontal:d,base:x.base,enableBorderRadius:!b||Ko(f._custom)||n===b._top||n===b._bottom,x:d?x.head:g.center,y:d?g.center:x.head,height:d?g.size:Math.abs(x.size),width:d?Math.abs(x.size):g.size};h&&(y.options=p||this.resolveDataElementOptions(m,i[m].active?"active":o));let _=y.options||i[m].options;Is(y,_,b,n),js(y,_,c.ratio),this.updateElement(i[m],m,y,o)}}_getStacks(i,t){let{iScale:e}=this._cachedMeta,o=e.getMatchingVisibleMetas(this._type).filter(c=>c.controller.options.grouped),r=e.options.stacked,n=[],a=this._cachedMeta.controller.getParsed(t),s=a&&a[e.axis],d=c=>{let p=c._parsed.find(m=>m[e.axis]===s),h=p&&p[c.vScale.axis];if(B(h)||isNaN(h))return!0};for(let c of o)if((t===void 0||!d(c))&&((r===!1||n.indexOf(c.stack)===-1||r===void 0&&c.stack===void 0)&&n.push(c.stack),c.index===i))break;return n.length||n.push(void 0),n}_getStackCount(i){return this._getStacks(void 0,i).length}_getStackIndex(i,t,e){let o=this._getStacks(i,e),r=t!==void 0?o.indexOf(t):-1;return r===-1?o.length-1:r}_getRuler(){let i=this.options,t=this._cachedMeta,e=t.iScale,o=[],r,n;for(r=0,n=t.data.length;r<n;++r)o.push(e.getPixelForValue(this.getParsed(r)[e.axis],r));let a=i.barThickness;return{min:a||Vs(t),pixels:o,start:e._startPixel,end:e._endPixel,stackCount:this._getStackCount(),scale:e,grouped:i.grouped,ratio:a?1:i.categoryPercentage*i.barPercentage}}_calculateBarValuePixels(i){let{_cachedMeta:{vScale:t,_stacked:e,index:o},options:{base:r,minBarLength:n}}=this,a=r||0,s=this.getParsed(i),d=s._custom,c=Ko(d),p,h,m=s[t.axis],f=0,x=e?this.applyStack(t,s,e):m;x!==m&&(f=x-m,x=m),c&&(m=d.barStart,x=d.barEnd-d.barStart,m!==0&&ht(m)!==ht(d.barEnd)&&(f=0),f+=m);let g=B(r)||c?f:r,b=t.getPixelForValue(g);if(p=this.chart.getDataVisibility(i)?t.getPixelForValue(f+x):b,h=p-b,Math.abs(h)<n){h=function(E,D,P){return E!==0?ht(E):(D.isHorizontal()?1:-1)*(D.min>=P?1:-1)}(h,t,a)*n,m===a&&(b-=h/2);let y=t.getPixelForDecimal(0),_=t.getPixelForDecimal(1),k=Math.min(y,_),A=Math.max(y,_);b=Math.max(Math.min(b,A),k),p=b+h,e&&!c&&(s._stacks[t.axis]._visualValues[o]=t.getValueForPixel(p)-t.getValueForPixel(b))}if(b===t.getPixelForValue(a)){let y=ht(h)*t.getLineWidthForValue(a)/2;b+=y,h-=y}return{size:h,base:b,head:p,center:p+h/2}}_calculateBarIndexPixels(i,t){let e=t.scale,o=this.options,r=o.skipNull,n=Z(o.maxBarThickness,1/0),a,s;if(t.grouped){let d=r?this._getStackCount(i):t.stackCount,c=o.barThickness==="flex"?function(h,m,f,x){let g=m.pixels,b=g[h],y=h>0?g[h-1]:null,_=h<g.length-1?g[h+1]:null,k=f.categoryPercentage;y===null&&(y=b-(_===null?m.end-m.start:_-b)),_===null&&(_=b+b-y);let A=b-(b-Math.min(y,_))/2*k;return{chunk:Math.abs(_-y)/2*k/x,ratio:f.barPercentage,start:A}}(i,t,o,d):function(h,m,f,x){let g=f.barThickness,b,y;return B(g)?(b=m.min*f.categoryPercentage,y=f.barPercentage):(b=g*x,y=1),{chunk:b/x,ratio:y,start:m.pixels[h]-b/2}}(i,t,o,d),p=this._getStackIndex(this.index,this._cachedMeta.stack,r?i:void 0);a=c.start+c.chunk*p+c.chunk/2,s=Math.min(n,c.chunk*c.ratio)}else a=e.getPixelForValue(this.getParsed(i)[e.axis],i),s=Math.min(n,t.min*t.ratio);return{base:a-s/2,head:a+s/2,center:a,size:s}}draw(){let i=this._cachedMeta,t=i.vScale,e=i.data,o=e.length,r=0;for(;r<o;++r)this.getParsed(r)[t.axis]===null||e[r].hidden||e[r].draw(this._ctx)}},I(ci,"id","bar"),I(ci,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),I(ci,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}}),ci),BubbleController:(hi=class extends zt{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(i,t,e,o){let r=super.parsePrimitiveData(i,t,e,o);for(let n=0;n<r.length;n++)r[n]._custom=this.resolveDataElementOptions(n+e).radius;return r}parseArrayData(i,t,e,o){let r=super.parseArrayData(i,t,e,o);for(let n=0;n<r.length;n++){let a=t[e+n];r[n]._custom=Z(a[2],this.resolveDataElementOptions(n+e).radius)}return r}parseObjectData(i,t,e,o){let r=super.parseObjectData(i,t,e,o);for(let n=0;n<r.length;n++){let a=t[e+n];r[n]._custom=Z(a&&a.r&&+a.r,this.resolveDataElementOptions(n+e).radius)}return r}getMaxOverflow(){let i=this._cachedMeta.data,t=0;for(let e=i.length-1;e>=0;--e)t=Math.max(t,i[e].size(this.resolveDataElementOptions(e))/2);return t>0&&t}getLabelAndValue(i){let t=this._cachedMeta,e=this.chart.data.labels||[],{xScale:o,yScale:r}=t,n=this.getParsed(i),a=o.getLabelForValue(n.x),s=r.getLabelForValue(n.y),d=n._custom;return{label:e[i]||"",value:"("+a+", "+s+(d?", "+d:"")+")"}}update(i){let t=this._cachedMeta.data;this.updateElements(t,0,t.length,i)}updateElements(i,t,e,o){let r=o==="reset",{iScale:n,vScale:a}=this._cachedMeta,{sharedOptions:s,includeOptions:d}=this._getSharedOptions(t,o),c=n.axis,p=a.axis;for(let h=t;h<t+e;h++){let m=i[h],f=!r&&this.getParsed(h),x={},g=x[c]=r?n.getPixelForDecimal(.5):n.getPixelForValue(f[c]),b=x[p]=r?a.getBasePixel():a.getPixelForValue(f[p]);x.skip=isNaN(g)||isNaN(b),d&&(x.options=s||this.resolveDataElementOptions(h,m.active?"active":o),r&&(x.options.radius=0)),this.updateElement(m,h,x,o)}}resolveDataElementOptions(i,t){let e=this.getParsed(i),o=super.resolveDataElementOptions(i,t);o.$shared&&(o=Object.assign({},o,{$shared:!1}));let r=o.radius;return t!=="active"&&(o.radius=0),o.radius+=Z(e&&e._custom,r),o}},I(hi,"id","bubble"),I(hi,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),I(hi,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}}),hi),DoughnutController:Se,LineController:(pi=class extends zt{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(i){let t=this._cachedMeta,{dataset:e,data:o=[],_dataset:r}=t,n=this.chart._animationsDisabled,{start:a,count:s}=mo(t,o,n);this._drawStart=a,this._drawCount=s,fo(t)&&(a=0,s=o.length),e._chart=this.chart,e._datasetIndex=this.index,e._decimated=!!r._decimated,e.points=o;let d=this.resolveDatasetElementOptions(i);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(e,void 0,{animated:!n,options:d},i),this.updateElements(o,a,s,i)}updateElements(i,t,e,o){let r=o==="reset",{iScale:n,vScale:a,_stacked:s,_dataset:d}=this._cachedMeta,{sharedOptions:c,includeOptions:p}=this._getSharedOptions(t,o),h=n.axis,m=a.axis,{spanGaps:f,segment:x}=this.options,g=Kt(f)?f:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||r||o==="none",y=t+e,_=i.length,k=t>0&&this.getParsed(t-1);for(let A=0;A<_;++A){let E=i[A],D=b?E:{};if(A<t||A>=y){D.skip=!0;continue}let P=this.getParsed(A),z=B(P[m]),j=D[h]=n.getPixelForValue(P[h],A),W=D[m]=r||z?a.getBasePixel():a.getPixelForValue(s?this.applyStack(a,P,s):P[m],A);D.skip=isNaN(j)||isNaN(W)||z,D.stop=A>0&&Math.abs(P[h]-k[h])>g,x&&(D.parsed=P,D.raw=d.data[A]),p&&(D.options=c||this.resolveDataElementOptions(A,E.active?"active":o)),b||this.updateElement(E,A,D,o),k=P}}getMaxOverflow(){let i=this._cachedMeta,t=i.dataset,e=t.options&&t.options.borderWidth||0,o=i.data||[];if(!o.length)return e;let r=o[0].size(this.resolveDataElementOptions(0)),n=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(e,r,n)/2}draw(){let i=this._cachedMeta;i.dataset.updateControlPoints(this.chart.chartArea,i.iScale.axis),super.draw()}},I(pi,"id","line"),I(pi,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),I(pi,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}}),pi),PieController:(Qi=class extends Se{},I(Qi,"id","pie"),I(Qi,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"}),Qi),PolarAreaController:ni,RadarController:(ui=class extends zt{getLabelAndValue(i){let t=this._cachedMeta.vScale,e=this.getParsed(i);return{label:t.getLabels()[i],value:""+t.getLabelForValue(e[t.axis])}}parseObjectData(i,t,e,o){return Fo.bind(this)(i,t,e,o)}update(i){let t=this._cachedMeta,e=t.dataset,o=t.data||[],r=t.iScale.getLabels();if(e.points=o,i!=="resize"){let n=this.resolveDatasetElementOptions(i);this.options.showLine||(n.borderWidth=0);let a={_loop:!0,_fullLoop:r.length===o.length,options:n};this.updateElement(e,void 0,a,i)}this.updateElements(o,0,o.length,i)}updateElements(i,t,e,o){let r=this._cachedMeta.rScale,n=o==="reset";for(let a=t;a<t+e;a++){let s=i[a],d=this.resolveDataElementOptions(a,s.active?"active":o),c=r.getPointPositionForValue(a,this.getParsed(a).r),p=n?r.xCenter:c.x,h=n?r.yCenter:c.y,m={x:p,y:h,angle:c.angle,skip:isNaN(p)||isNaN(h),options:d};this.updateElement(s,a,m,o)}}},I(ui,"id","radar"),I(ui,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),I(ui,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}}),ui),ScatterController:(mi=class extends zt{getLabelAndValue(i){let t=this._cachedMeta,e=this.chart.data.labels||[],{xScale:o,yScale:r}=t,n=this.getParsed(i),a=o.getLabelForValue(n.x),s=r.getLabelForValue(n.y);return{label:e[i]||"",value:"("+a+", "+s+")"}}update(i){let t=this._cachedMeta,{data:e=[]}=t,o=this.chart._animationsDisabled,{start:r,count:n}=mo(t,e,o);if(this._drawStart=r,this._drawCount=n,fo(t)&&(r=0,n=e.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:a,_dataset:s}=t;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!s._decimated,a.points=e;let d=this.resolveDatasetElementOptions(i);d.segment=this.options.segment,this.updateElement(a,void 0,{animated:!o,options:d},i)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(e,r,n,i)}addElements(){let{showLine:i}=this.options;!this.datasetElementType&&i&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(i,t,e,o){let r=o==="reset",{iScale:n,vScale:a,_stacked:s,_dataset:d}=this._cachedMeta,c=this.resolveDataElementOptions(t,o),p=this.getSharedOptions(c),h=this.includeOptions(o,p),m=n.axis,f=a.axis,{spanGaps:x,segment:g}=this.options,b=Kt(x)?x:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||r||o==="none",_=t>0&&this.getParsed(t-1);for(let k=t;k<t+e;++k){let A=i[k],E=this.getParsed(k),D=y?A:{},P=B(E[f]),z=D[m]=n.getPixelForValue(E[m],k),j=D[f]=r||P?a.getBasePixel():a.getPixelForValue(s?this.applyStack(a,E,s):E[f],k);D.skip=isNaN(z)||isNaN(j)||P,D.stop=k>0&&Math.abs(E[m]-_[m])>b,g&&(D.parsed=E,D.raw=d.data[k]),h&&(D.options=p||this.resolveDataElementOptions(k,A.active?"active":o)),y||this.updateElement(A,k,D,o),_=E}this.updateSharedOptions(p,o,c)}getMaxOverflow(){let i=this._cachedMeta,t=i.data||[];if(!this.options.showLine){let a=0;for(let s=t.length-1;s>=0;--s)a=Math.max(a,t[s].size(this.resolveDataElementOptions(s))/2);return a>0&&a}let e=i.dataset,o=e.options&&e.options.borderWidth||0;if(!t.length)return o;let r=t[0].size(this.resolveDataElementOptions(0)),n=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(o,r,n)/2}},I(mi,"id","scatter"),I(mi,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),I(mi,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}}),mi)});function Ws(i,t,e,o){let r=Bi(i.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]),n=(e-t)/2,a=Math.min(n,o*t/2),s=d=>{let c=(e-Math.min(n,d))*o/2;return it(d,0,Math.min(n,c))};return{outerStart:s(r.outerStart),outerEnd:s(r.outerEnd),innerStart:it(r.innerStart,0,a),innerEnd:it(r.innerEnd,0,a)}}function ze(i,t,e,o){return{x:e+i*Math.cos(t),y:o+i*Math.sin(t)}}function Ui(i,t,e,o,r,n){let{x:a,y:s,startAngle:d,pixelMargin:c,innerRadius:p}=t,h=Math.max(t.outerRadius+o+e-c,0),m=p>0?p+o+e+c:0,f=0,x=r-d;if(o){let $=((p>0?p-o:0)+(h>0?h-o:0))/2;f=(x-($!==0?x*$/($+o):x))/2}let g=(x-Math.max(.001,x*h-e/st)/h)/2,b=d+g+f,y=r-g-f,{outerStart:_,outerEnd:k,innerStart:A,innerEnd:E}=Ws(t,m,h,y-b),D=h-_,P=h-k,z=b+_/D,j=y-k/P,W=m+A,Y=m+E,U=b+A/W,H=y-E/Y;if(i.beginPath(),n){let $=(z+j)/2;if(i.arc(a,s,h,z,$),i.arc(a,s,h,$,j),k>0){let nt=ze(P,j,a,s);i.arc(nt.x,nt.y,k,j,y+dt)}let N=ze(Y,y,a,s);if(i.lineTo(N.x,N.y),E>0){let nt=ze(Y,H,a,s);i.arc(nt.x,nt.y,E,y+dt,H+Math.PI)}let Q=(y-E/m+(b+A/m))/2;if(i.arc(a,s,m,y-E/m,Q,!0),i.arc(a,s,m,Q,b+A/m,!0),A>0){let nt=ze(W,U,a,s);i.arc(nt.x,nt.y,A,U+Math.PI,b-dt)}let at=ze(D,b,a,s);if(i.lineTo(at.x,at.y),_>0){let nt=ze(D,z,a,s);i.arc(nt.x,nt.y,_,b-dt,z)}}else{i.moveTo(a,s);let $=Math.cos(z)*h+a,N=Math.sin(z)*h+s;i.lineTo($,N);let Q=Math.cos(j)*h+a,at=Math.sin(j)*h+s;i.lineTo(Q,at)}i.closePath()}function Hs(i,t,e,o,r){let{fullCircles:n,startAngle:a,circumference:s,options:d}=t,{borderWidth:c,borderJoinStyle:p,borderDash:h,borderDashOffset:m}=d,f=d.borderAlign==="inner";if(!c)return;i.setLineDash(h||[]),i.lineDashOffset=m,f?(i.lineWidth=2*c,i.lineJoin=p||"round"):(i.lineWidth=c,i.lineJoin=p||"bevel");let x=t.endAngle;if(n){Ui(i,t,e,o,x,r);for(let g=0;g<n;++g)i.stroke();isNaN(s)||(x=a+(s%et||et))}f&&function(g,b,y){let{startAngle:_,pixelMargin:k,x:A,y:E,outerRadius:D,innerRadius:P}=b,z=k/D;g.beginPath(),g.arc(A,E,D,_-z,y+z),P>k?(z=k/P,g.arc(A,E,P,y+z,_-z,!0)):g.arc(A,E,k,y+dt,_-dt),g.closePath(),g.clip()}(i,t,x),n||(Ui(i,t,e,o,x,r),i.stroke())}function qn(i,t,e=t){i.lineCap=Z(e.borderCapStyle,t.borderCapStyle),i.setLineDash(Z(e.borderDash,t.borderDash)),i.lineDashOffset=Z(e.borderDashOffset,t.borderDashOffset),i.lineJoin=Z(e.borderJoinStyle,t.borderJoinStyle),i.lineWidth=Z(e.borderWidth,t.borderWidth),i.strokeStyle=Z(e.borderColor,t.borderColor)}function Ns(i,t,e){i.lineTo(e.x,e.y)}function Xn(i,t,e={}){let o=i.length,{start:r=0,end:n=o-1}=e,{start:a,end:s}=t,d=Math.max(r,a),c=Math.min(n,s),p=r<a&&n<a||r>s&&n>s;return{count:o,start:d,loop:t.loop,ilen:c<d&&!p?o+c-d:c-d}}function $s(i,t,e,o){let{points:r,options:n}=t,{count:a,start:s,loop:d,ilen:c}=Xn(r,e,o),p=function(b){return b.stepped?Lr:b.tension||b.cubicInterpolationMode==="monotone"?Or:Ns}(n),h,m,f,{move:x=!0,reverse:g}=o||{};for(h=0;h<=c;++h)m=r[(s+(g?c-h:h))%a],m.skip||(x?(i.moveTo(m.x,m.y),x=!1):p(i,f,m,g,n.stepped),f=m);return d&&(m=r[(s+(g?c:0))%a],p(i,f,m,g,n.stepped)),!!d}function Us(i,t,e,o){let r=t.points,{count:n,start:a,ilen:s}=Xn(r,e,o),{move:d=!0,reverse:c}=o||{},p,h,m,f,x,g,b=0,y=0,_=A=>(a+(c?s-A:A))%n,k=()=>{f!==x&&(i.lineTo(b,x),i.lineTo(b,f),i.lineTo(b,g))};for(d&&(h=r[_(0)],i.moveTo(h.x,h.y)),p=0;p<=s;++p){if(h=r[_(p)],h.skip)continue;let A=h.x,E=h.y,D=0|A;D===m?(E<f?f=E:E>x&&(x=E),b=(y*b+A)/++y):(k(),i.lineTo(A,E),m=D,y=0,f=x=E),g=E}k()}function Zo(i){let t=i.options,e=t.borderDash&&t.borderDash.length;return i._decimated||i._loop||t.tension||t.cubicInterpolationMode==="monotone"||t.stepped||e?$s:Us}let Ys=typeof Path2D=="function";function qs(i,t,e,o){Ys&&!t.options.segment?function(r,n,a,s){let d=n._path;d||(d=n._path=new Path2D,n.path(d,a,s)&&d.closePath()),qn(r,n.options),r.stroke(d)}(i,t,e,o):function(r,n,a,s){let{segments:d,options:c}=n,p=Zo(n);for(let h of d)qn(r,c,h.style),r.beginPath(),p(r,n,h,{start:a,end:a+s-1})&&r.closePath(),r.stroke()}(i,t,e,o)}class ge extends Vt{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){let o=this.options;if((o.tension||o.cubicInterpolationMode==="monotone")&&!o.stepped&&!this._pointsUpdated){let r=o.spanGaps?this._loop:this._fullLoop;Hr(this._points,o,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Qr(this,this.options.segment))}first(){let t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){let t=this.segments,e=this.points,o=t.length;return o&&e[t[o-1].end]}interpolate(t,e){let o=this.options,r=t[e],n=this.points,a=Bo(this,{property:e,start:r,end:r});if(!a.length)return;let s=[],d=function(h){return h.stepped?Ur:h.tension||h.cubicInterpolationMode==="monotone"?Yr:ue}(o),c,p;for(c=0,p=a.length;c<p;++c){let{start:h,end:m}=a[c],f=n[h],x=n[m];if(f===x){s.push(f);continue}let g=d(f,x,Math.abs((r-f[e])/(x[e]-f[e])),o.stepped);g[e]=t[e],s.push(g)}return s.length===1?s[0]:s}pathSegment(t,e,o){return Zo(this)(t,this,e,o)}path(t,e,o){let r=this.segments,n=Zo(this),a=this._loop;e=e||0,o=o||this.points.length-e;for(let s of r)a&=n(t,this,s,{start:e,end:e+o-1});return!!a}draw(t,e,o,r){let n=this.options||{};(this.points||[]).length&&n.borderWidth&&(t.save(),qs(t,this,o,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}I(ge,"id","line"),I(ge,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),I(ge,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),I(ge,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function Kn(i,t,e,o){let r=i.options,{[e]:n}=i.getProps([e],o);return Math.abs(t-n)<r.radius+r.hitRadius}function Zn(i,t){let{x:e,y:o,base:r,width:n,height:a}=i.getProps(["x","y","base","width","height"],t),s,d,c,p,h;return i.horizontal?(h=a/2,s=Math.min(e,r),d=Math.max(e,r),c=o-h,p=o+h):(h=n/2,s=e-h,d=e+h,c=Math.min(o,r),p=Math.max(o,r)),{left:s,top:c,right:d,bottom:p}}function be(i,t,e,o){return i?0:it(t,e,o)}function Xs(i){let t=Zn(i),e=t.right-t.left,o=t.bottom-t.top,r=function(a,s,d){let c=a.options.borderWidth,p=a.borderSkipped,h=Lo(c);return{t:be(p.top,h.top,0,d),r:be(p.right,h.right,0,s),b:be(p.bottom,h.bottom,0,d),l:be(p.left,h.left,0,s)}}(i,e/2,o/2),n=function(a,s,d){let{enableBorderRadius:c}=a.getProps(["enableBorderRadius"]),p=a.options.borderRadius,h=me(p),m=Math.min(s,d),f=a.borderSkipped,x=c||K(p);return{topLeft:be(!x||f.top||f.left,h.topLeft,0,m),topRight:be(!x||f.top||f.right,h.topRight,0,m),bottomLeft:be(!x||f.bottom||f.left,h.bottomLeft,0,m),bottomRight:be(!x||f.bottom||f.right,h.bottomRight,0,m)}}(i,e/2,o/2);return{outer:{x:t.left,y:t.top,w:e,h:o,radius:n},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:o-r.t-r.b,radius:{topLeft:Math.max(0,n.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,n.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,n.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,n.bottomRight-Math.max(r.b,r.r))}}}}function Qo(i,t,e,o){let r=t===null,n=e===null,a=i&&!(r&&n)&&Zn(i,o);return a&&(r||ut(t,a.left,a.right))&&(n||ut(e,a.top,a.bottom))}function Ks(i,t){i.rect(t.x,t.y,t.w,t.h)}function Go(i,t,e={}){let o=i.x!==e.x?-t:0,r=i.y!==e.y?-t:0,n=(i.x+i.w!==e.x+e.w?t:0)-o,a=(i.y+i.h!==e.y+e.h?t:0)-r;return{x:i.x+o,y:i.y+r,w:i.w+n,h:i.h+a,radius:i.radius}}var Jo=Object.freeze({__proto__:null,ArcElement:(Ve=class extends Vt{constructor(t){super();I(this,"circumference");I(this,"endAngle");I(this,"fullCircles");I(this,"innerRadius");I(this,"outerRadius");I(this,"pixelMargin");I(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,o){let r=this.getProps(["x","y"],o),{angle:n,distance:a}=C(r,{x:t,y:e}),{startAngle:s,endAngle:d,innerRadius:c,outerRadius:p,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],o),m=(this.options.spacing+this.options.borderWidth)/2,f=Z(h,d-s),x=X(n,s,d)&&s!==d,g=f>=et||x,b=ut(a,c+m,p+m);return g&&b}getCenterPoint(t){let{x:e,y:o,startAngle:r,endAngle:n,innerRadius:a,outerRadius:s}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:d,spacing:c}=this.options,p=(r+n)/2,h=(a+s+c+d)/2;return{x:e+Math.cos(p)*h,y:o+Math.sin(p)*h}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){let{options:e,circumference:o}=this,r=(e.offset||0)/4,n=(e.spacing||0)/2,a=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=o>et?Math.floor(o/et):0,o===0||this.innerRadius<0||this.outerRadius<0)return;t.save();let s=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(s)*r,Math.sin(s)*r);let d=r*(1-Math.sin(Math.min(st,o||0)));t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,function(c,p,h,m,f){let{fullCircles:x,startAngle:g,circumference:b}=p,y=p.endAngle;if(x){Ui(c,p,h,m,y,f);for(let _=0;_<x;++_)c.fill();isNaN(b)||(y=g+(b%et||et))}Ui(c,p,h,m,y,f),c.fill()}(t,this,d,n,a),Hs(t,this,d,n,a),t.restore()}},I(Ve,"id","arc"),I(Ve,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),I(Ve,"defaultRoutes",{backgroundColor:"backgroundColor"}),I(Ve,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"}),Ve),BarElement:(fi=class extends Vt{constructor(i){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,i&&Object.assign(this,i)}draw(i){let{inflateAmount:t,options:{borderColor:e,backgroundColor:o}}=this,{inner:r,outer:n}=Xs(this),a=(s=n.radius).topLeft||s.topRight||s.bottomLeft||s.bottomRight?Oe:Ks;var s;i.save(),n.w===r.w&&n.h===r.h||(i.beginPath(),a(i,Go(n,t,r)),i.clip(),a(i,Go(r,-t,n)),i.fillStyle=e,i.fill("evenodd")),i.beginPath(),a(i,Go(r,t)),i.fillStyle=o,i.fill(),i.restore()}inRange(i,t,e){return Qo(this,i,t,e)}inXRange(i,t){return Qo(this,i,null,t)}inYRange(i,t){return Qo(this,null,i,t)}getCenterPoint(i){let{x:t,y:e,base:o,horizontal:r}=this.getProps(["x","y","base","horizontal"],i);return{x:r?(t+o)/2:t,y:r?e:(e+o)/2}}getRange(i){return i==="x"?this.width/2:this.height/2}},I(fi,"id","bar"),I(fi,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),I(fi,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),fi),LineElement:ge,PointElement:(gi=class extends Vt{constructor(t){super();I(this,"parsed");I(this,"skip");I(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,o){let r=this.options,{x:n,y:a}=this.getProps(["x","y"],o);return Math.pow(t-n,2)+Math.pow(e-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return Kn(this,t,"x",e)}inYRange(t,e){return Kn(this,t,"y",e)}getCenterPoint(t){let{x:e,y:o}=this.getProps(["x","y"],t);return{x:e,y:o}}size(t){let e=(t=t||this.options||{}).radius||0;return e=Math.max(e,e&&t.hoverRadius||0),2*(e+(e&&t.borderWidth||0))}draw(t,e){let o=this.options;this.skip||o.radius<.1||!Gt(this,e,this.size(o)/2)||(t.strokeStyle=o.borderColor,t.lineWidth=o.borderWidth,t.fillStyle=o.backgroundColor,Li(t,o,this.x,this.y))}getRange(){let t=this.options||{};return t.radius+t.hitRadius}},I(gi,"id","point"),I(gi,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),I(gi,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),gi)});function Zs(i,t,e,o){let r=i.indexOf(t);return r===-1?((n,a,s,d)=>(typeof a=="string"?(s=n.push(a)-1,d.unshift({index:s,label:a})):isNaN(a)&&(s=null),s))(i,t,e,o):r!==i.lastIndexOf(t)?e:r}function Qn(i){let t=this.getLabels();return i>=0&&i<t.length?t[i]:i}function Gn(i,t,{horizontal:e,minRotation:o}){let r=u(o),n=(e?Math.sin(r):Math.cos(r))||.001,a=.75*t*(""+i).length;return Math.min(t/n,a)}class Yi extends fe{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return B(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){let{beginAtZero:t}=this.options,{minDefined:e,maxDefined:o}=this.getUserBounds(),{min:r,max:n}=this,a=d=>r=e?r:d,s=d=>n=o?n:d;if(t){let d=ht(r),c=ht(n);d<0&&c<0?s(0):d>0&&c>0&&a(0)}if(r===n){let d=n===0?1:Math.abs(.05*n);s(n+d),t||a(r-d)}this.min=r,this.max=n}getTickLimit(){let t=this.options.ticks,e,{maxTicksLimit:o,stepSize:r}=t;return r?(e=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,e>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${e} ticks. Limiting to 1000.`),e=1e3)):(e=this.computeTickLimit(),o=o||11),o&&(e=Math.min(o,e)),e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let t=this.options,e=t.ticks,o=this.getTickLimit();o=Math.max(2,o);let r=function(n,a){let s=[],{bounds:d,step:c,min:p,max:h,precision:m,count:f,maxTicks:x,maxDigits:g,includeBounds:b}=n,y=c||1,_=x-1,{min:k,max:A}=a,E=!B(p),D=!B(h),P=!B(f),z=(A-k)/(g+1),j,W,Y,U,H=we((A-k)/_/y)*y;if(H<1e-14&&!E&&!D)return[{value:k},{value:A}];U=Math.ceil(A/H)-Math.floor(k/H),U>_&&(H=we(U*H/_/y)*y),B(m)||(j=Math.pow(10,m),H=Math.ceil(H*j)/j),d==="ticks"?(W=Math.floor(k/H)*H,Y=Math.ceil(A/H)*H):(W=k,Y=A),E&&D&&c&&L((h-p)/c,H/1e3)?(U=Math.round(Math.min((h-p)/H,x)),H=(h-p)/U,W=p,Y=h):P?(W=E?p:W,Y=D?h:Y,U=f-1,H=(Y-W)/U):(U=(Y-W)/H,U=Wt(U,Math.round(U),H/1e3)?Math.round(U):Math.ceil(U));let $=Math.max(w(H),w(W));j=Math.pow(10,B(m)?$:m),W=Math.round(W*j)/j,Y=Math.round(Y*j)/j;let N=0;for(E&&(b&&W!==p?(s.push({value:p}),W<p&&N++,Wt(Math.round((W+N*H)*j)/j,p,Gn(p,z,n))&&N++):W<p&&N++);N<U;++N){let Q=Math.round((W+N*H)*j)/j;if(D&&Q>h)break;s.push({value:Q})}return D&&b&&Y!==h?s.length&&Wt(s[s.length-1].value,h,Gn(h,z,n))?s[s.length-1].value=h:s.push({value:h}):D&&Y!==h||s.push({value:Y}),s}({maxTicks:o,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},this._range||this);return t.bounds==="ticks"&&l(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){let t=this.ticks,e=this.min,o=this.max;if(super.configure(),this.options.offset&&t.length){let r=(o-e)/Math.max(t.length-1,1)/2;e-=r,o+=r}this._startValue=e,this._endValue=o,this._valueRange=o-e}getLabelForValue(t){return Le(t,this.chart.options.locale,this.options.ticks.format)}}class tr extends Yi{determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=rt(t)?t:0,this.max=rt(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){let t=this.isHorizontal(),e=t?this.width:this.height,o=u(this.options.ticks.minRotation),r=(t?Math.sin(o):Math.cos(o))||.001,n=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,n.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}I(tr,"id","linear"),I(tr,"defaults",{ticks:{callback:Ye.formatters.numeric}});let ai=i=>Math.floor(Rt(i)),Ee=(i,t)=>Math.pow(10,ai(i)+t);function Jn(i){return i/Math.pow(10,ai(i))===1}function ta(i,t,e){let o=Math.pow(10,e),r=Math.floor(i/o);return Math.ceil(t/o)-r}function Qs(i,{min:t,max:e}){t=lt(i.min,t);let o=[],r=ai(t),n=function(x,g){let b=ai(g-x);for(;ta(x,g,b)>10;)b++;for(;ta(x,g,b)<10;)b--;return Math.min(b,ai(x))}(t,e),a=n<0?Math.pow(10,Math.abs(n)):1,s=Math.pow(10,n),d=r>n?Math.pow(10,r):0,c=Math.round((t-d)*a)/a,p=Math.floor((t-d)/s/10)*s*10,h=Math.floor((c-p)/Math.pow(10,n)),m=lt(i.min,Math.round((d+p+h*Math.pow(10,n))*a)/a);for(;m<e;)o.push({value:m,major:Jn(m),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(n++,h=2,a=n>=0?1:a),m=Math.round((d+p+h*Math.pow(10,n))*a)/a;let f=lt(i.max,m);return o.push({value:f,major:Jn(f),significand:h}),o}class er extends fe{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){let o=Yi.prototype.parse.apply(this,[t,e]);if(o!==0)return rt(o)&&o>0?o:null;this._zero=!0}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=rt(t)?Math.max(0,t):null,this.max=rt(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!rt(this._userMin)&&(this.min=t===Ee(this.min,0)?Ee(this.min,-1):Ee(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:t,maxDefined:e}=this.getUserBounds(),o=this.min,r=this.max,n=s=>o=t?o:s,a=s=>r=e?r:s;o===r&&(o<=0?(n(1),a(10)):(n(Ee(o,-1)),a(Ee(r,1)))),o<=0&&n(Ee(r,-1)),r<=0&&a(Ee(o,1)),this.min=o,this.max=r}buildTicks(){let t=this.options,e=Qs({min:this._userMin,max:this._userMax},this);return t.bounds==="ticks"&&l(e,this,"value"),t.reverse?(e.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),e}getLabelForValue(t){return t===void 0?"0":Le(t,this.chart.options.locale,this.options.ticks.format)}configure(){let t=this.min;super.configure(),this._startValue=Rt(t),this._valueRange=Rt(this.max)-Rt(t)}getPixelForValue(t){return t!==void 0&&t!==0||(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Rt(t)-this._startValue)/this._valueRange)}getValueForPixel(t){let e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}I(er,"id","logarithmic"),I(er,"defaults",{ticks:{callback:Ye.formatters.logarithmic,major:{enabled:!0}}});function ir(i){let t=i.ticks;if(t.display&&i.display){let e=yt(t.backdropPadding);return Z(t.font&&t.font.size,mt.font.size)+e.height}return 0}function ea(i,t,e,o,r){return i===o||i===r?{start:t-e/2,end:t+e/2}:i<o||i>r?{start:t-e,end:t}:{start:t,end:t+e}}function Gs(i){let t={l:i.left+i._padding.left,r:i.right-i._padding.right,t:i.top+i._padding.top,b:i.bottom-i._padding.bottom},e=Object.assign({},t),o=[],r=[],n=i._pointLabels.length,a=i.options.pointLabels,s=a.centerPointLabels?st/n:0;for(let h=0;h<n;h++){let m=a.setContext(i.getPointLabelContext(h));r[h]=m.padding;let f=i.getPointPosition(h,i.drawingArea+r[h],s),x=xt(m.font),g=(d=i.ctx,c=x,p=F(p=i._pointLabels[h])?p:[p],{w:Fr(d,c.string,p),h:p.length*c.lineHeight});o[h]=g;let b=V(i.getIndexAngle(h)+s),y=Math.round(v(b));Js(e,t,b,ea(y,f.x,g.w,0,180),ea(y,f.y,g.h,90,270))}var d,c,p;i.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),i._pointLabelItems=function(h,m,f){let x=[],g=h._pointLabels.length,b=h.options,{centerPointLabels:y,display:_}=b.pointLabels,k={extra:ir(b)/2,additionalAngle:y?st/g:0},A;for(let E=0;E<g;E++){k.padding=f[E],k.size=m[E];let D=tl(h,E,k);x.push(D),_==="auto"&&(D.visible=el(D,A),D.visible&&(A=D))}return x}(i,o,r)}function Js(i,t,e,o,r){let n=Math.abs(Math.sin(e)),a=Math.abs(Math.cos(e)),s=0,d=0;o.start<t.l?(s=(t.l-o.start)/n,i.l=Math.min(i.l,t.l-s)):o.end>t.r&&(s=(o.end-t.r)/n,i.r=Math.max(i.r,t.r+s)),r.start<t.t?(d=(t.t-r.start)/a,i.t=Math.min(i.t,t.t-d)):r.end>t.b&&(d=(r.end-t.b)/a,i.b=Math.max(i.b,t.b+d))}function tl(i,t,e){let o=i.drawingArea,{extra:r,additionalAngle:n,padding:a,size:s}=e,d=i.getPointPosition(t,o+r+a,n),c=Math.round(v(V(d.angle+dt))),p=function(f,x,g){return g===90||g===270?f-=x/2:(g>270||g<90)&&(f-=x),f}(d.y,s.h,c),h=function(f){return f===0||f===180?"center":f<180?"left":"right"}(c),m=function(f,x,g){return g==="right"?f-=x:g==="center"&&(f-=x/2),f}(d.x,s.w,h);return{visible:!0,x:d.x,y:p,textAlign:h,left:m,top:p,right:m+s.w,bottom:p+s.h}}function el(i,t){if(!t)return!0;let{left:e,top:o,right:r,bottom:n}=i;return!(Gt({x:e,y:o},t)||Gt({x:e,y:n},t)||Gt({x:r,y:o},t)||Gt({x:r,y:n},t))}function il(i,t,e){let{left:o,top:r,right:n,bottom:a}=e,{backdropColor:s}=t;if(!B(s)){let d=me(t.borderRadius),c=yt(t.backdropPadding);i.fillStyle=s;let p=o-c.left,h=r-c.top,m=n-o+c.width,f=a-r+c.height;Object.values(d).some(x=>x!==0)?(i.beginPath(),Oe(i,{x:p,y:h,w:m,h:f,radius:d}),i.fill()):i.fillRect(p,h,m,f)}}function ia(i,t,e,o){let{ctx:r}=i;if(e)r.arc(i.xCenter,i.yCenter,t,0,et);else{let n=i.getPointPosition(0,t);r.moveTo(n.x,n.y);for(let a=1;a<o;a++)n=i.getPointPosition(a,t),r.lineTo(n.x,n.y)}}class si extends Yi{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let t=this._padding=yt(ir(this.options)/2),e=this.width=this.maxWidth-t.width,o=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+o/2+t.top),this.drawingArea=Math.floor(Math.min(e,o)/2)}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!1);this.min=rt(t)&&!isNaN(t)?t:0,this.max=rt(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/ir(this.options))}generateTickLabels(t){Yi.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,o)=>{let r=G(this.options.pointLabels.callback,[e,o],this);return r||r===0?r:""}).filter((e,o)=>this.chart.getDataVisibility(o))}fit(){let t=this.options;t.display&&t.pointLabels.display?Gs(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,o,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((o-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,o,r))}getIndexAngle(t){return V(t*(et/(this._pointLabels.length||1))+u(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(B(t))return NaN;let e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(B(t))return NaN;let e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){let e=this._pointLabels||[];if(t>=0&&t<e.length){let o=e[t];return function(r,n,a){return oe(r,{label:a,index:n,type:"pointLabel"})}(this.getContext(),t,o)}}getPointPosition(t,e,o=0){let r=this.getIndexAngle(t)-dt+o;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){let{left:e,top:o,right:r,bottom:n}=this._pointLabelItems[t];return{left:e,top:o,right:r,bottom:n}}drawBackground(){let{backgroundColor:t,grid:{circular:e}}=this.options;if(t){let o=this.ctx;o.save(),o.beginPath(),ia(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),o.closePath(),o.fillStyle=t,o.fill(),o.restore()}}drawGrid(){let t=this.ctx,e=this.options,{angleLines:o,grid:r,border:n}=e,a=this._pointLabels.length,s,d,c;if(e.pointLabels.display&&function(p,h){let{ctx:m,options:{pointLabels:f}}=p;for(let x=h-1;x>=0;x--){let g=p._pointLabelItems[x];if(!g.visible)continue;let b=f.setContext(p.getPointLabelContext(x));il(m,b,g);let y=xt(b.font),{x:_,y:k,textAlign:A}=g;pe(m,p._pointLabels[x],_,k+y.lineHeight/2,y,{color:b.color,textAlign:A,textBaseline:"middle"})}}(this,a),r.display&&this.ticks.forEach((p,h)=>{if(h!==0||h===0&&this.min<0){d=this.getDistanceFromCenterForValue(p.value);let m=this.getContext(h),f=r.setContext(m),x=n.setContext(m);(function(g,b,y,_,k){let A=g.ctx,E=b.circular,{color:D,lineWidth:P}=b;!E&&!_||!D||!P||y<0||(A.save(),A.strokeStyle=D,A.lineWidth=P,A.setLineDash(k.dash||[]),A.lineDashOffset=k.dashOffset,A.beginPath(),ia(g,y,E,_),A.closePath(),A.stroke(),A.restore())})(this,f,d,a,x)}}),o.display){for(t.save(),s=a-1;s>=0;s--){let p=o.setContext(this.getPointLabelContext(s)),{color:h,lineWidth:m}=p;m&&h&&(t.lineWidth=m,t.strokeStyle=h,t.setLineDash(p.borderDash),t.lineDashOffset=p.borderDashOffset,d=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),c=this.getPointPosition(s,d),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){let t=this.ctx,e=this.options,o=e.ticks;if(!o.display)return;let r=this.getIndexAngle(0),n,a;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((s,d)=>{if(d===0&&this.min>=0&&!e.reverse)return;let c=o.setContext(this.getContext(d)),p=xt(c.font);if(n=this.getDistanceFromCenterForValue(this.ticks[d].value),c.showLabelBackdrop){t.font=p.string,a=t.measureText(s.label).width,t.fillStyle=c.backdropColor;let h=yt(c.backdropPadding);t.fillRect(-a/2-h.left,-n-p.size/2-h.top,a+h.width,p.size+h.height)}pe(t,s.label,0,-n,p,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}}I(si,"id","radialLinear"),I(si,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ye.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}}),I(si,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),I(si,"descriptors",{angleLines:{_fallback:"grid"}});let qi={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Et=Object.keys(qi);function oa(i,t){return i-t}function ra(i,t){if(B(t))return null;let e=i._adapter,{parser:o,round:r,isoWeekday:n}=i._parseOpts,a=t;return typeof o=="function"&&(a=o(a)),rt(a)||(a=typeof o=="string"?e.parse(a,o):e.parse(a)),a===null?null:(r&&(a=r!=="week"||!Kt(n)&&n!==!0?e.startOf(a,r):e.startOf(a,"isoWeek",n)),+a)}function na(i,t,e,o){let r=Et.length;for(let n=Et.indexOf(i);n<r-1;++n){let a=qi[Et[n]],s=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((e-t)/(s*a.size))<=o)return Et[n]}return Et[r-1]}function aa(i,t,e){if(e){if(e.length){let{lo:o,hi:r}=Zt(e,t);i[e[o]>=t?e[o]:e[r]]=!0}}else i[t]=!0}function sa(i,t,e){let o=[],r={},n=t.length,a,s;for(a=0;a<n;++a)s=t[a],r[s]=a,o.push({value:s,major:!1});return n!==0&&e?function(d,c,p,h){let m=d._adapter,f=+m.startOf(c[0].value,h),x=c[c.length-1].value,g,b;for(g=f;g<=x;g=+m.add(g,1,h))b=p[g],b>=0&&(c[b].major=!0);return c}(i,o,r,e):o}class li extends fe{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){let o=t.time||(t.time={}),r=this._adapter=new Wn._date(t.adapters.date);r.init(e),Xt(o.displayFormats,r.formats()),this._parseOpts={parser:o.parser,round:o.round,isoWeekday:o.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:ra(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let t=this.options,e=this._adapter,o=t.time.unit||"day",{min:r,max:n,minDefined:a,maxDefined:s}=this.getUserBounds();function d(c){a||isNaN(c.min)||(r=Math.min(r,c.min)),s||isNaN(c.max)||(n=Math.max(n,c.max))}a&&s||(d(this._getLabelBounds()),t.bounds==="ticks"&&t.ticks.source==="labels"||d(this.getMinMax(!1))),r=rt(r)&&!isNaN(r)?r:+e.startOf(Date.now(),o),n=rt(n)&&!isNaN(n)?n:+e.endOf(Date.now(),o)+1,this.min=Math.min(r,n-1),this.max=Math.max(r+1,n)}_getLabelBounds(){let t=this.getLabelTimestamps(),e=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],o=t[t.length-1]),{min:e,max:o}}buildTicks(){let t=this.options,e=t.time,o=t.ticks,r=o.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);let n=this.min,a=He(r,n,this.max);return this._unit=e.unit||(o.autoSkip?na(e.minUnit,this.min,this.max,this._getLabelCapacity(n)):function(s,d,c,p,h){for(let m=Et.length-1;m>=Et.indexOf(c);m--){let f=Et[m];if(qi[f].common&&s._adapter.diff(h,p,f)>=d-1)return f}return Et[c?Et.indexOf(c):0]}(this,a.length,e.minUnit,this.min,this.max)),this._majorUnit=o.major.enabled&&this._unit!=="year"?function(s){for(let d=Et.indexOf(s)+1,c=Et.length;d<c;++d)if(qi[Et[d]].common)return Et[d]}(this._unit):void 0,this.initOffsets(r),t.reverse&&a.reverse(),sa(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e,o,r=0,n=0;this.options.offset&&t.length&&(e=this.getDecimalForValue(t[0]),r=t.length===1?1-e:(this.getDecimalForValue(t[1])-e)/2,o=this.getDecimalForValue(t[t.length-1]),n=t.length===1?o:(o-this.getDecimalForValue(t[t.length-2]))/2);let a=t.length<3?.5:.25;r=it(r,0,a),n=it(n,0,a),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){let t=this._adapter,e=this.min,o=this.max,r=this.options,n=r.time,a=n.unit||na(n.minUnit,e,o,this._getLabelCapacity(e)),s=Z(r.ticks.stepSize,1),d=a==="week"&&n.isoWeekday,c=Kt(d)||d===!0,p={},h,m,f=e;if(c&&(f=+t.startOf(f,"isoWeek",d)),f=+t.startOf(f,c?"day":a),t.diff(o,e,a)>1e5*s)throw new Error(e+" and "+o+" are too far apart with stepSize of "+s+" "+a);let x=r.ticks.source==="data"&&this.getDataTimestamps();for(h=f,m=0;h<o;h=+t.add(h,s,a),m++)aa(p,h,x);return h!==o&&r.bounds!=="ticks"&&m!==1||aa(p,h,x),Object.keys(p).sort(oa).map(g=>+g)}getLabelForValue(t){let e=this._adapter,o=this.options.time;return o.tooltipFormat?e.format(t,o.tooltipFormat):e.format(t,o.displayFormats.datetime)}format(t,e){let o=this.options.time.displayFormats,r=this._unit,n=e||o[r];return this._adapter.format(t,n)}_tickFormatFunction(t,e,o,r){let n=this.options,a=n.ticks.callback;if(a)return G(a,[t,e,o],this);let s=n.time.displayFormats,d=this._unit,c=this._majorUnit,p=d&&s[d],h=c&&s[c],m=o[e],f=c&&h&&m&&m.major;return this._adapter.format(t,r||(f?h:p))}generateTickLabels(t){let e,o,r;for(e=0,o=t.length;e<o;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){let e=this._offsets,o=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+o)*e.factor)}getValueForPixel(t){let e=this._offsets,o=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+o*(this.max-this.min)}_getLabelSize(t){let e=this.options.ticks,o=this.ctx.measureText(t).width,r=u(this.isHorizontal()?e.maxRotation:e.minRotation),n=Math.cos(r),a=Math.sin(r),s=this._resolveTickFontOptions(0).size;return{w:o*n+s*a,h:o*a+s*n}}_getLabelCapacity(t){let e=this.options.time,o=e.displayFormats,r=o[e.unit]||o.millisecond,n=this._tickFormatFunction(t,0,sa(this,[t],this._majorUnit),r),a=this._getLabelSize(n),s=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return s>0?s:1}getDataTimestamps(){let t,e,o=this._cache.data||[];if(o.length)return o;let r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,e=r.length;t<e;++t)o=o.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(o)}getLabelTimestamps(){let t=this._cache.labels||[],e,o;if(t.length)return t;let r=this.getLabels();for(e=0,o=r.length;e<o;++e)t.push(ra(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return ho(t.sort(oa))}}I(li,"id","time"),I(li,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Xi(i,t,e){let o,r,n,a,s=0,d=i.length-1;e?(t>=i[s].pos&&t<=i[d].pos&&({lo:s,hi:d}=Ct(i,"pos",t)),{pos:o,time:n}=i[s],{pos:r,time:a}=i[d]):(t>=i[s].time&&t<=i[d].time&&({lo:s,hi:d}=Ct(i,"time",t)),{time:o,pos:n}=i[s],{time:r,pos:a}=i[d]);let c=r-o;return c?n+(a-n)*(t-o)/c:n}var la=Object.freeze({__proto__:null,CategoryScale:(Gi=class extends fe{constructor(i){super(i),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(i){let t=this._addedLabels;if(t.length){let e=this.getLabels();for(let{index:o,label:r}of t)e[o]===r&&e.splice(o,1);this._addedLabels=[]}super.init(i)}parse(i,t){if(B(i))return null;let e=this.getLabels();return((o,r)=>o===null?null:it(Math.round(o),0,r))(t=isFinite(t)&&e[t]===i?t:Zs(e,i,Z(t,i),this._addedLabels),e.length-1)}determineDataLimits(){let{minDefined:i,maxDefined:t}=this.getUserBounds(),{min:e,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(i||(e=0),t||(o=this.getLabels().length-1)),this.min=e,this.max=o}buildTicks(){let i=this.min,t=this.max,e=this.options.offset,o=[],r=this.getLabels();r=i===0&&t===r.length-1?r:r.slice(i,t+1),this._valueRange=Math.max(r.length-(e?0:1),1),this._startValue=this.min-(e?.5:0);for(let n=i;n<=t;n++)o.push({value:n});return o}getLabelForValue(i){return Qn.call(this,i)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(i){return typeof i!="number"&&(i=this.parse(i)),i===null?NaN:this.getPixelForDecimal((i-this._startValue)/this._valueRange)}getPixelForTick(i){let t=this.ticks;return i<0||i>t.length-1?null:this.getPixelForValue(t[i].value)}getValueForPixel(i){return Math.round(this._startValue+this.getDecimalForPixel(i)*this._valueRange)}getBasePixel(){return this.bottom}},I(Gi,"id","category"),I(Gi,"defaults",{ticks:{callback:Qn}}),Gi),LinearScale:tr,LogarithmicScale:er,RadialLinearScale:si,TimeScale:li,TimeSeriesScale:(Ji=class extends li{constructor(i){super(i),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let i=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(i);this._minPos=Xi(t,this.min),this._tableRange=Xi(t,this.max)-this._minPos,super.initOffsets(i)}buildLookupTable(i){let{min:t,max:e}=this,o=[],r=[],n,a,s,d,c;for(n=0,a=i.length;n<a;++n)d=i[n],d>=t&&d<=e&&o.push(d);if(o.length<2)return[{time:t,pos:0},{time:e,pos:1}];for(n=0,a=o.length;n<a;++n)c=o[n+1],s=o[n-1],d=o[n],Math.round((c+s)/2)!==d&&r.push({time:d,pos:n/(a-1)});return r}_generate(){let i=this.min,t=this.max,e=super.getDataTimestamps();return e.includes(i)&&e.length||e.splice(0,0,i),e.includes(t)&&e.length!==1||e.push(t),e.sort((o,r)=>o-r)}_getTimestampsForTable(){let i=this._cache.all||[];if(i.length)return i;let t=this.getDataTimestamps(),e=this.getLabelTimestamps();return i=t.length&&e.length?this.normalize(t.concat(e)):t.length?t:e,i=this._cache.all=i,i}getDecimalForValue(i){return(Xi(this._table,i)-this._minPos)/this._tableRange}getValueForPixel(i){let t=this._offsets,e=this.getDecimalForPixel(i)/t.factor-t.end;return Xi(this._table,e*this._tableRange+this._minPos,!0)}},I(Ji,"id","timeseries"),I(Ji,"defaults",li.defaults),Ji)});let or=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],da=or.map(i=>i.replace("rgb(","rgba(").replace(")",", 0.5)"));function ca(i){return or[i%or.length]}function ha(i){return da[i%da.length]}function ol(i){let t=0;return(e,o)=>{let r=i.getDatasetMeta(o).controller;r instanceof Se?t=function(n,a){return n.backgroundColor=n.data.map(()=>ca(a++)),a}(e,t):r instanceof ni?t=function(n,a){return n.backgroundColor=n.data.map(()=>ha(a++)),a}(e,t):r&&(t=function(n,a){return n.borderColor=ca(a),n.backgroundColor=ha(a),++a}(e,t))}}function pa(i){let t;for(t in i)if(i[t].borderColor||i[t].backgroundColor)return!0;return!1}var rl={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(i,t,e){if(!e.enabled)return;let{data:{datasets:o},options:r}=i.config,{elements:n}=r,a=pa(o)||(s=r)&&(s.borderColor||s.backgroundColor)||n&&pa(n)||mt.borderColor!=="rgba(0,0,0,0.1)"||mt.backgroundColor!=="rgba(0,0,0,0.1)";var s;if(!e.forceOverride&&a)return;let d=ol(i);o.forEach(d)}};function ua(i){if(i._decimated){let t=i._data;delete i._decimated,delete i._data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function ma(i){i.data.datasets.forEach(t=>{ua(t)})}var nl={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(i,t,e)=>{if(!e.enabled)return void ma(i);let o=i.width;i.data.datasets.forEach((r,n)=>{let{_data:a,indexAxis:s}=r,d=i.getDatasetMeta(n),c=a||r.data;if(Be([s,i.options.indexAxis])==="y"||!d.controller.supportsDecimation)return;let p=i.scales[d.xAxisID];if(p.type!=="linear"&&p.type!=="time"||i.options.parsing)return;let{start:h,count:m}=function(x,g){let b=g.length,y,_=0,{iScale:k}=x,{min:A,max:E,minDefined:D,maxDefined:P}=k.getUserBounds();return D&&(_=it(Ct(g,k.axis,A).lo,0,b-1)),y=P?it(Ct(g,k.axis,E).hi+1,_,b)-_:b-_,{start:_,count:y}}(d,c);if(m<=(e.threshold||4*o))return void ua(r);let f;switch(B(a)&&(r._data=c,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(x){this._data=x}})),e.algorithm){case"lttb":f=function(x,g,b,y,_){let k=_.samples||y;if(k>=b)return x.slice(g,g+b);let A=[],E=(b-2)/(k-2),D=0,P=g+b-1,z,j,W,Y,U,H=g;for(A[D++]=x[H],z=0;z<k-2;z++){let $,N=0,Q=0,at=Math.floor((z+1)*E)+1+g,nt=Math.min(Math.floor((z+2)*E)+1,b)+g,kt=nt-at;for($=at;$<nt;$++)N+=x[$].x,Q+=x[$].y;N/=kt,Q/=kt;let Ft=Math.floor(z*E)+1+g,Lt=Math.min(Math.floor((z+1)*E)+1,b)+g,{x:It,y:Nt}=x[H];for(W=Y=-1,$=Ft;$<Lt;$++)Y=.5*Math.abs((It-N)*(x[$].y-Nt)-(It-x[$].x)*(Q-Nt)),Y>W&&(W=Y,j=x[$],U=$);A[D++]=j,H=U}return A[D++]=x[P],A}(c,h,m,o,e);break;case"min-max":f=function(x,g,b,y){let _,k,A,E,D,P,z,j,W,Y,U=0,H=0,$=[],N=g+b-1,Q=x[g].x,at=x[N].x-Q;for(_=g;_<g+b;++_){k=x[_],A=(k.x-Q)/at*y,E=k.y;let nt=0|A;if(nt===D)E<W?(W=E,P=_):E>Y&&(Y=E,z=_),U=(H*U+k.x)/++H;else{let kt=_-1;if(!B(P)&&!B(z)){let Ft=Math.min(P,z),Lt=Math.max(P,z);Ft!==j&&Ft!==kt&&$.push(ft(ot({},x[Ft]),{x:U})),Lt!==j&&Lt!==kt&&$.push(ft(ot({},x[Lt]),{x:U}))}_>0&&kt!==j&&$.push(x[kt]),$.push(k),D=nt,H=0,W=Y=E,P=z=j=_}}return $}(c,h,m,o);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}r._decimated=f})},destroy(i){ma(i)}};function rr(i,t,e,o){if(o)return;let r=t[i],n=e[i];return i==="angle"&&(r=V(r),n=V(n)),{property:i,start:r,end:n}}function nr(i,t,e){for(;t>i;t--){let o=e[t];if(!isNaN(o.x)&&!isNaN(o.y))break}return t}function fa(i,t,e,o){return i&&t?o(i[e],t[e]):i?i[e]:t?t[e]:0}function ga(i,t){let e=[],o=!1;return F(i)?(o=!0,e=i):e=function(r,n){let{x:a=null,y:s=null}=r||{},d=n.points,c=[];return n.segments.forEach(({start:p,end:h})=>{h=nr(p,h,d);let m=d[p],f=d[h];s!==null?(c.push({x:m.x,y:s}),c.push({x:f.x,y:s})):a!==null&&(c.push({x:a,y:m.y}),c.push({x:a,y:f.y}))}),c}(i,t),e.length?new ge({points:e,options:{tension:0},_loop:o,_fullLoop:o}):null}function ba(i){return i&&i.fill!==!1}function al(i,t,e){let o=i[t].fill,r=[t],n;if(!e)return o;for(;o!==!1&&r.indexOf(o)===-1;){if(!rt(o))return o;if(n=i[o],!n)return!1;if(n.visible)return o;r.push(o),o=n.fill}return!1}function sl(i,t,e){let o=function(n){let a=n.options,s=a.fill,d=Z(s&&s.target,s);return d===void 0&&(d=!!a.backgroundColor),d===!1||d===null?!1:d===!0?"origin":d}(i);if(K(o))return!isNaN(o.value)&&o;let r=parseFloat(o);return rt(r)&&Math.floor(r)===r?function(n,a,s,d){return n!=="-"&&n!=="+"||(s=a+s),s===a||s<0||s>=d?!1:s}(o[0],t,r,e):["origin","start","end","stack","shape"].indexOf(o)>=0&&o}function ll(i,t,e){let o=[];for(let r=0;r<e.length;r++){let n=e[r],{first:a,last:s,point:d}=dl(n,t,"x");if(!(!d||a&&s)){if(a)o.unshift(d);else if(i.push(d),!s)break}}i.push(...o)}function dl(i,t,e){let o=i.interpolate(t,e);if(!o)return{};let r=o[e],n=i.segments,a=i.points,s=!1,d=!1;for(let c=0;c<n.length;c++){let p=n[c],h=a[p.start][e],m=a[p.end][e];if(ut(r,h,m)){s=r===h,d=r===m;break}}return{first:s,last:d,point:o}}class xa{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,o){let{x:r,y:n,radius:a}=this;return e=e||{start:0,end:et},t.arc(r,n,a,e.end,e.start,!0),!o.bounds}interpolate(t){let{x:e,y:o,radius:r}=this,n=t.angle;return{x:e+Math.cos(n)*r,y:o+Math.sin(n)*r,angle:n}}}function cl(i){let{chart:t,fill:e,line:o}=i;if(rt(e))return function(n,a){let s=n.getDatasetMeta(a);return s&&n.isDatasetVisible(a)?s.dataset:null}(t,e);if(e==="stack")return function(n){let{scale:a,index:s,line:d}=n,c=[],p=d.segments,h=d.points,m=function(f,x){let g=[],b=f.getMatchingVisibleMetas("line");for(let y=0;y<b.length;y++){let _=b[y];if(_.index===x)break;_.hidden||g.unshift(_.dataset)}return g}(a,s);m.push(ga({x:null,y:a.bottom},d));for(let f=0;f<p.length;f++){let x=p[f];for(let g=x.start;g<=x.end;g++)ll(c,h[g],m)}return new ge({points:c,options:{}})}(i);if(e==="shape")return!0;let r=function(n){return(n.scale||{}).getPointPositionForValue?function(s){let{scale:d,fill:c}=s,p=d.options,h=d.getLabels().length,m=p.reverse?d.max:d.min,f=function(g,b,y){let _;return _=g==="start"?y:g==="end"?b.options.reverse?b.min:b.max:K(g)?g.value:b.getBaseValue(),_}(c,d,m),x=[];if(p.grid.circular){let g=d.getPointPositionForValue(0,m);return new xa({x:g.x,y:g.y,radius:d.getDistanceFromCenterForValue(f)})}for(let g=0;g<h;++g)x.push(d.getPointPositionForValue(g,f));return x}(n):function(s){let{scale:d={},fill:c}=s,p=function(h,m){let f=null;return h==="start"?f=m.bottom:h==="end"?f=m.top:K(h)?f=m.getPixelForValue(h.value):m.getBasePixel&&(f=m.getBasePixel()),f}(c,d);if(rt(p)){let h=d.isHorizontal();return{x:h?p:null,y:h?null:p}}return null}(n)}(i);return r instanceof xa?r:ga(r,o)}function ar(i,t,e){let o=cl(t),{chart:r,index:n,line:a,scale:s,axis:d}=t,c=a.options,p=c.fill,h=c.backgroundColor,{above:m=h,below:f=h}=p||{},x=r.getDatasetMeta(n),g=zo(r,x);o&&a.points.length&&(Ke(i,e),function(b,y){let{line:_,target:k,above:A,below:E,area:D,scale:P,clip:z}=y,j=_._loop?"angle":y.axis;b.save(),j==="x"&&E!==A&&(va(b,k,D.top),ya(b,{line:_,target:k,color:A,scale:P,property:j,clip:z}),b.restore(),b.save(),va(b,k,D.bottom)),ya(b,{line:_,target:k,color:E,scale:P,property:j,clip:z}),b.restore()}(i,{line:a,target:o,above:m,below:f,area:e,scale:s,axis:d,clip:g}),Ze(i))}function va(i,t,e){let{segments:o,points:r}=t,n=!0,a=!1;i.beginPath();for(let s of o){let{start:d,end:c}=s,p=r[d],h=r[nr(d,c,r)];n?(i.moveTo(p.x,p.y),n=!1):(i.lineTo(p.x,e),i.lineTo(p.x,p.y)),a=!!t.pathSegment(i,s,{move:a}),a?i.closePath():i.lineTo(h.x,e)}i.lineTo(t.first().x,e),i.closePath(),i.clip()}function ya(i,t){let{line:e,target:o,property:r,color:n,scale:a,clip:s}=t,d=function(c,p,h){let m=c.segments,f=c.points,x=p.points,g=[];for(let b of m){let{start:y,end:_}=b;_=nr(y,_,f);let k=rr(h,f[y],f[_],b.loop);if(!p.segments){g.push({source:b,target:k,start:f[y],end:f[_]});continue}let A=Bo(p,k);for(let E of A){let D=rr(h,x[E.start],x[E.end],E.loop),P=Ro(b,f,D);for(let z of P)g.push({source:z,target:E,start:{[h]:fa(k,D,"start",Math.max)},end:{[h]:fa(k,D,"end",Math.min)}})}}return g}(e,o,r);for(let{source:c,target:p,start:h,end:m}of d){let{style:{backgroundColor:f=n}={}}=c,x=o!==!0;i.save(),i.fillStyle=f,hl(i,a,s,x&&rr(r,h,m)),i.beginPath();let g=!!e.pathSegment(i,c),b;if(x){g?i.closePath():wa(i,o,m,r);let y=!!o.pathSegment(i,p,{move:g,reverse:!0});b=g&&y,b||wa(i,o,h,r)}i.closePath(),i.fill(b?"evenodd":"nonzero"),i.restore()}}function hl(i,t,e,o){let r=t.chart.chartArea,{property:n,start:a,end:s}=o||{};if(n==="x"||n==="y"){let d,c,p,h;n==="x"?(d=a,c=r.top,p=s,h=r.bottom):(d=r.left,c=a,p=r.right,h=s),i.beginPath(),e&&(d=Math.max(d,e.left),p=Math.min(p,e.right),c=Math.max(c,e.top),h=Math.min(h,e.bottom)),i.rect(d,c,p-d,h-c),i.clip()}}function wa(i,t,e,o){let r=t.interpolate(e,o);r&&i.lineTo(r.x,r.y)}var pl={id:"filler",afterDatasetsUpdate(i,t,e){let o=(i.data.datasets||[]).length,r=[],n,a,s,d;for(a=0;a<o;++a)n=i.getDatasetMeta(a),s=n.dataset,d=null,s&&s.options&&s instanceof ge&&(d={visible:i.isDatasetVisible(a),index:a,fill:sl(s,a,o),chart:i,axis:n.controller.options.indexAxis,scale:n.vScale,line:s}),n.$filler=d,r.push(d);for(a=0;a<o;++a)d=r[a],d&&d.fill!==!1&&(d.fill=al(r,a,e.propagate))},beforeDraw(i,t,e){let o=e.drawTime==="beforeDraw",r=i.getSortedVisibleDatasetMetas(),n=i.chartArea;for(let a=r.length-1;a>=0;--a){let s=r[a].$filler;s&&(s.line.updateControlPoints(n,s.axis),o&&s.fill&&ar(i.ctx,s,n))}},beforeDatasetsDraw(i,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;let o=i.getSortedVisibleDatasetMetas();for(let r=o.length-1;r>=0;--r){let n=o[r].$filler;ba(n)&&ar(i.ctx,n,i.chartArea)}},beforeDatasetDraw(i,t,e){let o=t.meta.$filler;ba(o)&&e.drawTime==="beforeDatasetDraw"&&ar(i.ctx,o,i.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};let ka=(i,t)=>{let{boxHeight:e=t,boxWidth:o=t}=i;return i.usePointStyle&&(e=Math.min(e,t),o=i.pointStyleWidth||Math.min(o,t)),{boxWidth:o,boxHeight:e,itemHeight:Math.max(t,e)}};class _a extends Vt{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,o){this.maxWidth=t,this.maxHeight=e,this._margins=o,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let t=this.options.labels||{},e=G(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(o=>t.filter(o,this.chart.data))),t.sort&&(e=e.sort((o,r)=>t.sort(o,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){let{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);let o=t.labels,r=xt(o.font),n=r.size,a=this._computeTitleHeight(),{boxWidth:s,itemHeight:d}=ka(o,n),c,p;e.font=r.string,this.isHorizontal()?(c=this.maxWidth,p=this._fitRows(a,n,s,d)+10):(p=this.maxHeight,c=this._fitCols(a,r,s,d)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,e,o,r){let{ctx:n,maxWidth:a,options:{labels:{padding:s}}}=this,d=this.legendHitBoxes=[],c=this.lineWidths=[0],p=r+s,h=t;n.textAlign="left",n.textBaseline="middle";let m=-1,f=-p;return this.legendItems.forEach((x,g)=>{let b=o+e/2+n.measureText(x.text).width;(g===0||c[c.length-1]+b+2*s>a)&&(h+=p,c[c.length-(g>0?0:1)]=0,f+=p,m++),d[g]={left:0,top:f,row:m,width:b,height:r},c[c.length-1]+=b+s}),h}_fitCols(t,e,o,r){let{ctx:n,maxHeight:a,options:{labels:{padding:s}}}=this,d=this.legendHitBoxes=[],c=this.columnSizes=[],p=a-t,h=s,m=0,f=0,x=0,g=0;return this.legendItems.forEach((b,y)=>{let{itemWidth:_,itemHeight:k}=function(A,E,D,P,z){let j=function(Y,U,H,$){let N=Y.text;return N&&typeof N!="string"&&(N=N.reduce((Q,at)=>Q.length>at.length?Q:at)),U+H.size/2+$.measureText(N).width}(P,A,E,D),W=function(Y,U,H){let $=Y;return typeof U.text!="string"&&($=Aa(U,H)),$}(z,P,E.lineHeight);return{itemWidth:j,itemHeight:W}}(o,e,n,b,r);y>0&&f+k+2*s>p&&(h+=m+s,c.push({width:m,height:f}),x+=m+s,g++,m=f=0),d[y]={left:x,top:f,col:g,width:_,height:k},m=Math.max(m,_),f+=k+s}),h+=m,c.push({width:m,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;let t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:o,labels:{padding:r},rtl:n}}=this,a=Ce(n,this.left,this.width);if(this.isHorizontal()){let s=0,d=vt(o,this.left+r,this.right-this.lineWidths[s]);for(let c of e)s!==c.row&&(s=c.row,d=vt(o,this.left+r,this.right-this.lineWidths[s])),c.top+=this.top+t+r,c.left=a.leftForLtr(a.x(d),c.width),d+=c.width+r}else{let s=0,d=vt(o,this.top+t+r,this.bottom-this.columnSizes[s].height);for(let c of e)c.col!==s&&(s=c.col,d=vt(o,this.top+t+r,this.bottom-this.columnSizes[s].height)),c.top=d,c.left+=this.left+r,c.left=a.leftForLtr(a.x(c.left),c.width),d+=c.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let t=this.ctx;Ke(t,this),this._draw(),Ze(t)}}_draw(){let{options:t,columnSizes:e,lineWidths:o,ctx:r}=this,{align:n,labels:a}=t,s=mt.color,d=Ce(t.rtl,this.left,this.width),c=xt(a.font),{padding:p}=a,h=c.size,m=h/2,f;this.drawTitle(),r.textAlign=d.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;let{boxWidth:x,boxHeight:g,itemHeight:b}=ka(a,h),y=this.isHorizontal(),_=this._computeTitleHeight();f=y?{x:vt(n,this.left+p,this.right-o[0]),y:this.top+p+_,line:0}:{x:this.left+p,y:vt(n,this.top+_+p,this.bottom-e[0].height),line:0},Oo(this.ctx,t.textDirection);let k=b+p;this.legendItems.forEach((A,E)=>{r.strokeStyle=A.fontColor,r.fillStyle=A.fontColor;let D=r.measureText(A.text).width,P=d.textAlign(A.textAlign||(A.textAlign=a.textAlign)),z=x+m+D,j=f.x,W=f.y;if(d.setWidth(this.width),y?E>0&&j+z+p>this.right&&(W=f.y+=k,f.line++,j=f.x=vt(n,this.left+p,this.right-o[f.line])):E>0&&W+k>this.bottom&&(j=f.x=j+e[f.line].width+p,f.line++,W=f.y=vt(n,this.top+_+p,this.bottom-e[f.line].height)),function(Y,U,H){if(isNaN(x)||x<=0||isNaN(g)||g<0)return;r.save();let $=Z(H.lineWidth,1);if(r.fillStyle=Z(H.fillStyle,s),r.lineCap=Z(H.lineCap,"butt"),r.lineDashOffset=Z(H.lineDashOffset,0),r.lineJoin=Z(H.lineJoin,"miter"),r.lineWidth=$,r.strokeStyle=Z(H.strokeStyle,s),r.setLineDash(Z(H.lineDash,[])),a.usePointStyle){let N={radius:g*Math.SQRT2/2,pointStyle:H.pointStyle,rotation:H.rotation,borderWidth:$},Q=d.xPlus(Y,x/2);So(r,N,Q,U+m,a.pointStyleWidth&&x)}else{let N=U+Math.max((h-g)/2,0),Q=d.leftForLtr(Y,x),at=me(H.borderRadius);r.beginPath(),Object.values(at).some(nt=>nt!==0)?Oe(r,{x:Q,y:N,w:x,h:g,radius:at}):r.rect(Q,N,x,g),r.fill(),$!==0&&r.stroke()}r.restore()}(d.x(j),W,A),j=br(P,j+x+m,y?j+z:this.right,t.rtl),function(Y,U,H){pe(r,H.text,Y,U+b/2,c,{strikethrough:H.hidden,textAlign:d.textAlign(H.textAlign)})}(d.x(j),W,A),y)f.x+=z+p;else if(typeof A.text!="string"){let Y=c.lineHeight;f.y+=Aa(A,Y)+p}else f.y+=k}),Po(this.ctx,t.textDirection)}drawTitle(){let t=this.options,e=t.title,o=xt(e.font),r=yt(e.padding);if(!e.display)return;let n=Ce(t.rtl,this.left,this.width),a=this.ctx,s=e.position,d=o.size/2,c=r.top+d,p,h=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),p=this.top+c,h=vt(t.align,h,this.right-m);else{let x=this.columnSizes.reduce((g,b)=>Math.max(g,b.height),0);p=c+vt(t.align,this.top,this.bottom-x-t.labels.padding-this._computeTitleHeight())}let f=vt(s,h,h+m);a.textAlign=n.textAlign(wi(s)),a.textBaseline="middle",a.strokeStyle=e.color,a.fillStyle=e.color,a.font=o.string,pe(a,e.text,f,p,o)}_computeTitleHeight(){let t=this.options.title,e=xt(t.font),o=yt(t.padding);return t.display?e.lineHeight+o.height:0}_getLegendItemAt(t,e){let o,r,n;if(ut(t,this.left,this.right)&&ut(e,this.top,this.bottom)){for(n=this.legendHitBoxes,o=0;o<n.length;++o)if(r=n[o],ut(t,r.left,r.left+r.width)&&ut(e,r.top,r.top+r.height))return this.legendItems[o]}return null}handleEvent(t){let e=this.options;if(!function(a,s){return!!((a==="mousemove"||a==="mouseout")&&(s.onHover||s.onLeave)||s.onClick&&(a==="click"||a==="mouseup"))}(t.type,e))return;let o=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){let a=this._hoveredItem,s=(n=o,(r=a)!==null&&n!==null&&r.datasetIndex===n.datasetIndex&&r.index===n.index);a&&!s&&G(e.onLeave,[t,a,this],this),this._hoveredItem=o,o&&!s&&G(e.onHover,[t,o,this],this)}else o&&G(e.onClick,[t,o,this],this);var r,n}}function Aa(i,t){return t*(i.text?i.text.length:0)}var ul={id:"legend",_element:_a,start(i,t,e){let o=i.legend=new _a({ctx:i.ctx,options:e,chart:i});wt.configure(i,o,e),wt.addBox(i,o)},stop(i){wt.removeBox(i,i.legend),delete i.legend},beforeUpdate(i,t,e){let o=i.legend;wt.configure(i,o,e),o.options=e},afterUpdate(i){let t=i.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(i,t){t.replay||i.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(i,t,e){let o=t.datasetIndex,r=e.chart;r.isDatasetVisible(o)?(r.hide(o),t.hidden=!0):(r.show(o),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){let t=i.data.datasets,{labels:{usePointStyle:e,pointStyle:o,textAlign:r,color:n,useBorderRadius:a,borderRadius:s}}=i.legend.options;return i._getSortedDatasetMetas().map(d=>{let c=d.controller.getStyle(e?0:void 0),p=yt(c.borderWidth);return{text:t[d.index].label,fillStyle:c.backgroundColor,fontColor:n,hidden:!d.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:c.borderColor,pointStyle:o||c.pointStyle,rotation:c.rotation,textAlign:r||c.textAlign,borderRadius:a&&(s||c.borderRadius),datasetIndex:d.index}},this)}},title:{color:i=>i.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}};class sr extends Vt{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){let o=this.options;if(this.left=0,this.top=0,!o.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;let r=F(o.text)?o.text.length:1;this._padding=yt(o.padding);let n=r*xt(o.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=n:this.width=n}isHorizontal(){let t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){let{top:e,left:o,bottom:r,right:n,options:a}=this,s=a.align,d,c,p,h=0;return this.isHorizontal()?(c=vt(s,o,n),p=e+t,d=n-o):(a.position==="left"?(c=o+t,p=vt(s,r,e),h=-.5*st):(c=n-t,p=vt(s,e,r),h=.5*st),d=r-e),{titleX:c,titleY:p,maxWidth:d,rotation:h}}draw(){let t=this.ctx,e=this.options;if(!e.display)return;let o=xt(e.font),r=o.lineHeight/2+this._padding.top,{titleX:n,titleY:a,maxWidth:s,rotation:d}=this._drawArgs(r);pe(t,e.text,0,0,o,{color:e.color,maxWidth:s,rotation:d,textAlign:wi(e.align),textBaseline:"middle",translation:[n,a]})}}var ml={id:"title",_element:sr,start(i,t,e){(function(o,r){let n=new sr({ctx:o.ctx,options:r,chart:o});wt.configure(o,n,r),wt.addBox(o,n),o.titleBlock=n})(i,e)},stop(i){let t=i.titleBlock;wt.removeBox(i,t),delete i.titleBlock},beforeUpdate(i,t,e){let o=i.titleBlock;wt.configure(i,o,e),o.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};let Ki=new WeakMap;var fl={id:"subtitle",start(i,t,e){let o=new sr({ctx:i.ctx,options:e,chart:i});wt.configure(i,o,e),wt.addBox(i,o),Ki.set(i,o)},stop(i){wt.removeBox(i,Ki.get(i)),Ki.delete(i)},beforeUpdate(i,t,e){let o=Ki.get(i);wt.configure(i,o,e),o.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};let di={average(i){if(!i.length)return!1;let t,e,o=new Set,r=0,n=0;for(t=0,e=i.length;t<e;++t){let a=i[t].element;if(a&&a.hasValue()){let s=a.tooltipPosition();o.add(s.x),r+=s.y,++n}}return n===0||o.size===0?!1:{x:[...o].reduce((a,s)=>a+s)/o.size,y:r/n}},nearest(i,t){if(!i.length)return!1;let e,o,r,n=t.x,a=t.y,s=Number.POSITIVE_INFINITY;for(e=0,o=i.length;e<o;++e){let d=i[e].element;if(d&&d.hasValue()){let c=S(t,d.getCenterPoint());c<s&&(s=c,r=d)}}if(r){let d=r.tooltipPosition();n=d.x,a=d.y}return{x:n,y:a}}};function Jt(i,t){return t&&(F(t)?Array.prototype.push.apply(i,t):i.push(t)),i}function re(i){return(typeof i=="string"||i instanceof String)&&i.indexOf(`
`)>-1?i.split(`
`):i}function gl(i,t){let{element:e,datasetIndex:o,index:r}=t,n=i.getDatasetMeta(o).controller,{label:a,value:s}=n.getLabelAndValue(r);return{chart:i,label:a,parsed:n.getParsed(r),raw:i.data.datasets[o].data[r],formattedValue:s,dataset:n.getDataset(),dataIndex:r,datasetIndex:o,element:e}}function Ca(i,t){let e=i.chart.ctx,{body:o,footer:r,title:n}=i,{boxWidth:a,boxHeight:s}=t,d=xt(t.bodyFont),c=xt(t.titleFont),p=xt(t.footerFont),h=n.length,m=r.length,f=o.length,x=yt(t.padding),g=x.height,b=0,y=o.reduce((A,E)=>A+E.before.length+E.lines.length+E.after.length,0);y+=i.beforeBody.length+i.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),y&&(g+=f*(t.displayColors?Math.max(s,d.lineHeight):d.lineHeight)+(y-f)*d.lineHeight+(y-1)*t.bodySpacing),m&&(g+=t.footerMarginTop+m*p.lineHeight+(m-1)*t.footerSpacing);let _=0,k=function(A){b=Math.max(b,e.measureText(A).width+_)};return e.save(),e.font=c.string,J(i.title,k),e.font=d.string,J(i.beforeBody.concat(i.afterBody),k),_=t.displayColors?a+2+t.boxPadding:0,J(o,A=>{J(A.before,k),J(A.lines,k),J(A.after,k)}),_=0,e.font=p.string,J(i.footer,k),e.restore(),b+=x.width,{width:b,height:g}}function bl(i,t,e,o){let{x:r,width:n}=e,{width:a,chartArea:{left:s,right:d}}=i,c="center";return o==="center"?c=r<=(s+d)/2?"left":"right":r<=n/2?c="left":r>=a-n/2&&(c="right"),function(p,h,m,f){let{x,width:g}=f,b=m.caretSize+m.caretPadding;return p==="left"&&x+g+b>h.width||p==="right"&&x-g-b<0||void 0}(c,i,t,e)&&(c="center"),c}function Ma(i,t,e){let o=e.yAlign||t.yAlign||function(r,n){let{y:a,height:s}=n;return a<s/2?"top":a>r.height-s/2?"bottom":"center"}(i,e);return{xAlign:e.xAlign||t.xAlign||bl(i,t,e,o),yAlign:o}}function Sa(i,t,e,o){let{caretSize:r,caretPadding:n,cornerRadius:a}=i,{xAlign:s,yAlign:d}=e,c=r+n,{topLeft:p,topRight:h,bottomLeft:m,bottomRight:f}=me(a),x=function(b,y){let{x:_,width:k}=b;return y==="right"?_-=k:y==="center"&&(_-=k/2),_}(t,s),g=function(b,y,_){let{y:k,height:A}=b;return y==="top"?k+=_:k-=y==="bottom"?A+_:A/2,k}(t,d,c);return d==="center"?s==="left"?x+=c:s==="right"&&(x-=c):s==="left"?x-=Math.max(p,m)+r:s==="right"&&(x+=Math.max(h,f)+r),{x:it(x,0,o.width-t.width),y:it(g,0,o.height-t.height)}}function Zi(i,t,e){let o=yt(e.padding);return t==="center"?i.x+i.width/2:t==="right"?i.x+i.width-o.right:i.x+o.left}function Ea(i){return Jt([],re(i))}function Da(i,t){let e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?i.override(e):i}let Ta={beforeTitle:M,title(i){if(i.length>0){let t=i[0],e=t.chart.data.labels,o=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(o>0&&t.dataIndex<o)return e[t.dataIndex]}return""},afterTitle:M,beforeBody:M,beforeLabel:M,label(i){if(this&&this.options&&this.options.mode==="dataset")return i.label+": "+i.formattedValue||i.formattedValue;let t=i.dataset.label||"";t&&(t+=": ");let e=i.formattedValue;return B(e)||(t+=e),t},labelColor(i){let t=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){let t=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:M,afterBody:M,beforeFooter:M,footer:M,afterFooter:M};function Dt(i,t,e,o){let r=i[t].call(e,o);return r===void 0?Ta[t].call(e,o):r}class lr extends Vt{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let t=this._cachedAnimations;if(t)return t;let e=this.chart,o=this.options.setContext(this.getContext()),r=o.enabled&&e.options.animation&&o.animations,n=new Ho(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(n)),n}getContext(){return this.$context||(this.$context=(t=this.chart.getContext(),e=this,o=this._tooltipItems,oe(t,{tooltip:e,tooltipItems:o,type:"tooltip"})));var t,e,o}getTitle(t,e){let{callbacks:o}=e,r=Dt(o,"beforeTitle",this,t),n=Dt(o,"title",this,t),a=Dt(o,"afterTitle",this,t),s=[];return s=Jt(s,re(r)),s=Jt(s,re(n)),s=Jt(s,re(a)),s}getBeforeBody(t,e){return Ea(Dt(e.callbacks,"beforeBody",this,t))}getBody(t,e){let{callbacks:o}=e,r=[];return J(t,n=>{let a={before:[],lines:[],after:[]},s=Da(o,n);Jt(a.before,re(Dt(s,"beforeLabel",this,n))),Jt(a.lines,Dt(s,"label",this,n)),Jt(a.after,re(Dt(s,"afterLabel",this,n))),r.push(a)}),r}getAfterBody(t,e){return Ea(Dt(e.callbacks,"afterBody",this,t))}getFooter(t,e){let{callbacks:o}=e,r=Dt(o,"beforeFooter",this,t),n=Dt(o,"footer",this,t),a=Dt(o,"afterFooter",this,t),s=[];return s=Jt(s,re(r)),s=Jt(s,re(n)),s=Jt(s,re(a)),s}_createItems(t){let e=this._active,o=this.chart.data,r=[],n=[],a=[],s,d,c=[];for(s=0,d=e.length;s<d;++s)c.push(gl(this.chart,e[s]));return t.filter&&(c=c.filter((p,h,m)=>t.filter(p,h,m,o))),t.itemSort&&(c=c.sort((p,h)=>t.itemSort(p,h,o))),J(c,p=>{let h=Da(t.callbacks,p);r.push(Dt(h,"labelColor",this,p)),n.push(Dt(h,"labelPointStyle",this,p)),a.push(Dt(h,"labelTextColor",this,p))}),this.labelColors=r,this.labelPointStyles=n,this.labelTextColors=a,this.dataPoints=c,c}update(t,e){let o=this.options.setContext(this.getContext()),r=this._active,n,a=[];if(r.length){let s=di[o.position].call(this,r,this._eventPosition);a=this._createItems(o),this.title=this.getTitle(a,o),this.beforeBody=this.getBeforeBody(a,o),this.body=this.getBody(a,o),this.afterBody=this.getAfterBody(a,o),this.footer=this.getFooter(a,o);let d=this._size=Ca(this,o),c=Object.assign({},s,d),p=Ma(this.chart,o,c),h=Sa(o,c,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,n={opacity:1,x:h.x,y:h.y,width:d.width,height:d.height,caretX:s.x,caretY:s.y}}else this.opacity!==0&&(n={opacity:0});this._tooltipItems=a,this.$context=void 0,n&&this._resolveAnimations().update(this,n),t&&o.external&&o.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,o,r){let n=this.getCaretPosition(t,o,r);e.lineTo(n.x1,n.y1),e.lineTo(n.x2,n.y2),e.lineTo(n.x3,n.y3)}getCaretPosition(t,e,o){let{xAlign:r,yAlign:n}=this,{caretSize:a,cornerRadius:s}=o,{topLeft:d,topRight:c,bottomLeft:p,bottomRight:h}=me(s),{x:m,y:f}=t,{width:x,height:g}=e,b,y,_,k,A,E;return n==="center"?(A=f+g/2,r==="left"?(b=m,y=b-a,k=A+a,E=A-a):(b=m+x,y=b+a,k=A-a,E=A+a),_=b):(y=r==="left"?m+Math.max(d,p)+a:r==="right"?m+x-Math.max(c,h)-a:this.caretX,n==="top"?(k=f,A=k-a,b=y-a,_=y+a):(k=f+g,A=k+a,b=y+a,_=y-a),E=k),{x1:b,x2:y,x3:_,y1:k,y2:A,y3:E}}drawTitle(t,e,o){let r=this.title,n=r.length,a,s,d;if(n){let c=Ce(o.rtl,this.x,this.width);for(t.x=Zi(this,o.titleAlign,o),e.textAlign=c.textAlign(o.titleAlign),e.textBaseline="middle",a=xt(o.titleFont),s=o.titleSpacing,e.fillStyle=o.titleColor,e.font=a.string,d=0;d<n;++d)e.fillText(r[d],c.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+s,d+1===n&&(t.y+=o.titleMarginBottom-s)}}_drawColorBox(t,e,o,r,n){let a=this.labelColors[o],s=this.labelPointStyles[o],{boxHeight:d,boxWidth:c}=n,p=xt(n.bodyFont),h=Zi(this,"left",n),m=r.x(h),f=d<p.lineHeight?(p.lineHeight-d)/2:0,x=e.y+f;if(n.usePointStyle){let g={radius:Math.min(c,d)/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:1},b=r.leftForLtr(m,c)+c/2,y=x+d/2;t.strokeStyle=n.multiKeyBackground,t.fillStyle=n.multiKeyBackground,Li(t,g,b,y),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,Li(t,g,b,y)}else{t.lineWidth=K(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;let g=r.leftForLtr(m,c),b=r.leftForLtr(r.xPlus(m,1),c-2),y=me(a.borderRadius);Object.values(y).some(_=>_!==0)?(t.beginPath(),t.fillStyle=n.multiKeyBackground,Oe(t,{x:g,y:x,w:c,h:d,radius:y}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),Oe(t,{x:b,y:x+1,w:c-2,h:d-2,radius:y}),t.fill()):(t.fillStyle=n.multiKeyBackground,t.fillRect(g,x,c,d),t.strokeRect(g,x,c,d),t.fillStyle=a.backgroundColor,t.fillRect(b,x+1,c-2,d-2))}t.fillStyle=this.labelTextColors[o]}drawBody(t,e,o){let{body:r}=this,{bodySpacing:n,bodyAlign:a,displayColors:s,boxHeight:d,boxWidth:c,boxPadding:p}=o,h=xt(o.bodyFont),m=h.lineHeight,f=0,x=Ce(o.rtl,this.x,this.width),g=function(z){e.fillText(z,x.x(t.x+f),t.y+m/2),t.y+=m+n},b=x.textAlign(a),y,_,k,A,E,D,P;for(e.textAlign=a,e.textBaseline="middle",e.font=h.string,t.x=Zi(this,b,o),e.fillStyle=o.bodyColor,J(this.beforeBody,g),f=s&&b!=="right"?a==="center"?c/2+p:c+2+p:0,A=0,D=r.length;A<D;++A){for(y=r[A],_=this.labelTextColors[A],e.fillStyle=_,J(y.before,g),k=y.lines,s&&k.length&&(this._drawColorBox(e,t,A,x,o),m=Math.max(h.lineHeight,d)),E=0,P=k.length;E<P;++E)g(k[E]),m=h.lineHeight;J(y.after,g)}f=0,m=h.lineHeight,J(this.afterBody,g),t.y-=n}drawFooter(t,e,o){let r=this.footer,n=r.length,a,s;if(n){let d=Ce(o.rtl,this.x,this.width);for(t.x=Zi(this,o.footerAlign,o),t.y+=o.footerMarginTop,e.textAlign=d.textAlign(o.footerAlign),e.textBaseline="middle",a=xt(o.footerFont),e.fillStyle=o.footerColor,e.font=a.string,s=0;s<n;++s)e.fillText(r[s],d.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+o.footerSpacing}}drawBackground(t,e,o,r){let{xAlign:n,yAlign:a}=this,{x:s,y:d}=t,{width:c,height:p}=o,{topLeft:h,topRight:m,bottomLeft:f,bottomRight:x}=me(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(s+h,d),a==="top"&&this.drawCaret(t,e,o,r),e.lineTo(s+c-m,d),e.quadraticCurveTo(s+c,d,s+c,d+m),a==="center"&&n==="right"&&this.drawCaret(t,e,o,r),e.lineTo(s+c,d+p-x),e.quadraticCurveTo(s+c,d+p,s+c-x,d+p),a==="bottom"&&this.drawCaret(t,e,o,r),e.lineTo(s+f,d+p),e.quadraticCurveTo(s,d+p,s,d+p-f),a==="center"&&n==="left"&&this.drawCaret(t,e,o,r),e.lineTo(s,d+h),e.quadraticCurveTo(s,d,s+h,d),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){let e=this.chart,o=this.$animations,r=o&&o.x,n=o&&o.y;if(r||n){let a=di[t.position].call(this,this._active,this._eventPosition);if(!a)return;let s=this._size=Ca(this,t),d=Object.assign({},a,this._size),c=Ma(e,t,d),p=Sa(t,d,c,e);r._to===p.x&&n._to===p.y||(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=s.width,this.height=s.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){let e=this.options.setContext(this.getContext()),o=this.opacity;if(!o)return;this._updateAnimationTarget(e);let r={width:this.width,height:this.height},n={x:this.x,y:this.y};o=Math.abs(o)<.001?0:o;let a=yt(e.padding),s=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&s&&(t.save(),t.globalAlpha=o,this.drawBackground(n,t,r,e),Oo(t,e.textDirection),n.y+=a.top,this.drawTitle(n,t,e),this.drawBody(n,t,e),this.drawFooter(n,t,e),Po(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){let o=this._active,r=t.map(({datasetIndex:s,index:d})=>{let c=this.chart.getDatasetMeta(s);if(!c)throw new Error("Cannot find a dataset at index "+s);return{datasetIndex:s,element:c.data[d],index:d}}),n=!Ot(o,r),a=this._positionChanged(r,e);(n||a)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,o=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let r=this.options,n=this._active||[],a=this._getActiveElements(t,n,e,o),s=this._positionChanged(a,t),d=e||!Ot(a,n)||s;return d&&(this._active=a,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),d}_getActiveElements(t,e,o,r){let n=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(s=>this.chart.data.datasets[s.datasetIndex]&&this.chart.getDatasetMeta(s.datasetIndex).controller.getParsed(s.index)!==void 0);let a=this.chart.getElementsAtEventForMode(t,n.mode,n,o);return n.reverse&&a.reverse(),a}_positionChanged(t,e){let{caretX:o,caretY:r,options:n}=this,a=di[n.position].call(this,t,e);return a!==!1&&(o!==a.x||r!==a.y)}}I(lr,"positioners",di);var xl={id:"tooltip",_element:lr,positioners:di,afterInit(i,t,e){e&&(i.tooltip=new lr({chart:i,options:e}))},beforeUpdate(i,t,e){i.tooltip&&i.tooltip.initialize(e)},reset(i,t,e){i.tooltip&&i.tooltip.initialize(e)},afterDraw(i){let t=i.tooltip;if(t&&t._willRender()){let e={tooltip:t};if(i.notifyPlugins("beforeTooltipDraw",ft(ot({},e),{cancelable:!0}))===!1)return;t.draw(i.ctx),i.notifyPlugins("afterTooltipDraw",e)}},afterEvent(i,t){if(i.tooltip){let e=t.replay;i.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,t)=>t.bodyFont.size,boxWidth:(i,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Ta},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>i!=="filter"&&i!=="itemSort"&&i!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};return ct.register(Yn,la,Jo,O),ct.helpers=ot({},hs),ct._adapters=Wn,ct.Animation=bn,ct.Animations=Ho,ct.animator=Qt,ct.controllers=Ht.controllers.items,ct.DatasetController=zt,ct.Element=Vt,ct.elements=Jo,ct.Interaction=en,ct.layouts=wt,ct.platforms=fn,ct.Scale=fe,ct.Ticks=Ye,Object.assign(ct,Yn,la,Jo,O,fn),ct.Chart=ct,typeof window!="undefined"&&(window.Chart=ct),ct})});var Ba=La((oo,Ra)=>{"use strict";(function(O,M){typeof oo=="object"&&typeof Ra!="undefined"?M(oo):typeof define=="function"&&define.amd?define(["exports"],M):(O=typeof globalThis!="undefined"?globalThis:O||self,M(O.IMask={}))})(oo,function(O){"use strict";function M(L){return typeof L=="string"||L instanceof String}function R(L){var l;return typeof L=="object"&&L!=null&&(L==null||(l=L.constructor)==null?void 0:l.name)==="Object"}function B(L,l){return Array.isArray(l)?B(L,(u,v)=>l.includes(v)):Object.entries(L).reduce((u,v)=>{let[w,C]=v;return l(C,w)&&(u[w]=C),u},{})}let F={NONE:"NONE",LEFT:"LEFT",FORCE_LEFT:"FORCE_LEFT",RIGHT:"RIGHT",FORCE_RIGHT:"FORCE_RIGHT"};function K(L){switch(L){case F.LEFT:return F.FORCE_LEFT;case F.RIGHT:return F.FORCE_RIGHT;default:return L}}function rt(L){return L.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")}function lt(L,l){if(l===L)return!0;let u=Array.isArray(l),v=Array.isArray(L),w;if(u&&v){if(l.length!=L.length)return!1;for(w=0;w<l.length;w++)if(!lt(l[w],L[w]))return!1;return!0}if(u!=v)return!1;if(l&&L&&typeof l=="object"&&typeof L=="object"){let C=l instanceof Date,S=L instanceof Date;if(C&&S)return l.getTime()==L.getTime();if(C!=S)return!1;let T=l instanceof RegExp,V=L instanceof RegExp;if(T&&V)return l.toString()==L.toString();if(T!=V)return!1;let X=Object.keys(l);for(w=0;w<X.length;w++)if(!Object.prototype.hasOwnProperty.call(L,X[w]))return!1;for(w=0;w<X.length;w++)if(!lt(L[X[w]],l[X[w]]))return!1;return!0}else if(l&&L&&typeof l=="function"&&typeof L=="function")return l.toString()===L.toString();return!1}class Z{constructor(l){for(Object.assign(this,l);this.value.slice(0,this.startChangePos)!==this.oldValue.slice(0,this.startChangePos);)--this.oldSelection.start;if(this.insertedCount)for(;this.value.slice(this.cursorPos)!==this.oldValue.slice(this.oldSelection.end);)this.value.length-this.cursorPos<this.oldValue.length-this.oldSelection.end?++this.oldSelection.end:++this.cursorPos}get startChangePos(){return Math.min(this.cursorPos,this.oldSelection.start)}get insertedCount(){return this.cursorPos-this.startChangePos}get inserted(){return this.value.substr(this.startChangePos,this.insertedCount)}get removedCount(){return Math.max(this.oldSelection.end-this.startChangePos||this.oldValue.length-this.value.length,0)}get removed(){return this.oldValue.substr(this.startChangePos,this.removedCount)}get head(){return this.value.substring(0,this.startChangePos)}get tail(){return this.value.substring(this.startChangePos+this.insertedCount)}get removeDirection(){return!this.removedCount||this.insertedCount?F.NONE:(this.oldSelection.end===this.cursorPos||this.oldSelection.start===this.cursorPos)&&this.oldSelection.end===this.oldSelection.start?F.RIGHT:F.LEFT}}function q(L,l){return new q.InputMask(L,l)}function pt(L){if(L==null)throw new Error("mask property should be defined");return L instanceof RegExp?q.MaskedRegExp:M(L)?q.MaskedPattern:L===Date?q.MaskedDate:L===Number?q.MaskedNumber:Array.isArray(L)||L===Array?q.MaskedDynamic:q.Masked&&L.prototype instanceof q.Masked?L:q.Masked&&L instanceof q.Masked?L.constructor:L instanceof Function?q.MaskedFunction:(console.warn("Mask not found for mask",L),q.Masked)}function G(L){if(!L)throw new Error("Options in not defined");if(q.Masked){if(L.prototype instanceof q.Masked)return{mask:L};let l=L instanceof q.Masked?{mask:L}:R(L)&&L.mask instanceof q.Masked?L:{},{mask:u=void 0}=l,v=Mt(l,["mask"]);if(u){let w=u.mask;return ot(ft(ot({},B(u,(C,S)=>!S.startsWith("_"))),{mask:u.constructor,_mask:w}),v)}}return R(L)?ot({},L):{mask:L}}function J(L){if(q.Masked&&L instanceof q.Masked)return L;let l=G(L),u=pt(l.mask);if(!u)throw new Error("Masked class is not found for provided mask "+l.mask+", appropriate module needs to be imported manually before creating mask.");return l.mask===u&&delete l.mask,l._mask&&(l.mask=l._mask,delete l._mask),new u(l)}q.createMask=J;class Ot{get selectionStart(){let l;try{l=this._unsafeSelectionStart}catch(u){}return l!=null?l:this.value.length}get selectionEnd(){let l;try{l=this._unsafeSelectionEnd}catch(u){}return l!=null?l:this.value.length}select(l,u){if(!(l==null||u==null||l===this.selectionStart&&u===this.selectionEnd))try{this._unsafeSelect(l,u)}catch(v){}}get isActive(){return!1}}q.MaskElement=Ot;let Pt=90,vi=89;class ne extends Ot{constructor(l){super(),this.input=l,this._onKeydown=this._onKeydown.bind(this),this._onInput=this._onInput.bind(this),this._onBeforeinput=this._onBeforeinput.bind(this),this._onCompositionEnd=this._onCompositionEnd.bind(this)}get rootElement(){var l,u,v;return(l=(u=(v=this.input).getRootNode)==null?void 0:u.call(v))!=null?l:document}get isActive(){return this.input===this.rootElement.activeElement}bindEvents(l){this.input.addEventListener("keydown",this._onKeydown),this.input.addEventListener("input",this._onInput),this.input.addEventListener("beforeinput",this._onBeforeinput),this.input.addEventListener("compositionend",this._onCompositionEnd),this.input.addEventListener("drop",l.drop),this.input.addEventListener("click",l.click),this.input.addEventListener("focus",l.focus),this.input.addEventListener("blur",l.commit),this._handlers=l}_onKeydown(l){if(this._handlers.redo&&(l.keyCode===Pt&&l.shiftKey&&(l.metaKey||l.ctrlKey)||l.keyCode===vi&&l.ctrlKey))return l.preventDefault(),this._handlers.redo(l);if(this._handlers.undo&&l.keyCode===Pt&&(l.metaKey||l.ctrlKey))return l.preventDefault(),this._handlers.undo(l);l.isComposing||this._handlers.selectionChange(l)}_onBeforeinput(l){if(l.inputType==="historyUndo"&&this._handlers.undo)return l.preventDefault(),this._handlers.undo(l);if(l.inputType==="historyRedo"&&this._handlers.redo)return l.preventDefault(),this._handlers.redo(l)}_onCompositionEnd(l){this._handlers.input(l)}_onInput(l){l.isComposing||this._handlers.input(l)}unbindEvents(){this.input.removeEventListener("keydown",this._onKeydown),this.input.removeEventListener("input",this._onInput),this.input.removeEventListener("beforeinput",this._onBeforeinput),this.input.removeEventListener("compositionend",this._onCompositionEnd),this.input.removeEventListener("drop",this._handlers.drop),this.input.removeEventListener("click",this._handlers.click),this.input.removeEventListener("focus",this._handlers.focus),this.input.removeEventListener("blur",this._handlers.commit),this._handlers={}}}q.HTMLMaskElement=ne;class ee extends ne{constructor(l){super(l),this.input=l}get _unsafeSelectionStart(){return this.input.selectionStart!=null?this.input.selectionStart:this.value.length}get _unsafeSelectionEnd(){return this.input.selectionEnd}_unsafeSelect(l,u){this.input.setSelectionRange(l,u)}get value(){return this.input.value}set value(l){this.input.value=l}}q.HTMLMaskElement=ne;class Xt extends ne{get _unsafeSelectionStart(){let l=this.rootElement,u=l.getSelection&&l.getSelection(),v=u&&u.anchorOffset,w=u&&u.focusOffset;return w==null||v==null||v<w?v:w}get _unsafeSelectionEnd(){let l=this.rootElement,u=l.getSelection&&l.getSelection(),v=u&&u.anchorOffset,w=u&&u.focusOffset;return w==null||v==null||v>w?v:w}_unsafeSelect(l,u){if(!this.rootElement.createRange)return;let v=this.rootElement.createRange();v.setStart(this.input.firstChild||this.input,l),v.setEnd(this.input.lastChild||this.input,u);let w=this.rootElement,C=w.getSelection&&w.getSelection();C&&(C.removeAllRanges(),C.addRange(v))}get value(){return this.input.textContent||""}set value(l){this.input.textContent=l}}q.HTMLContenteditableMaskElement=Xt;class xe{constructor(){this.states=[],this.currentIndex=0}get currentState(){return this.states[this.currentIndex]}get isEmpty(){return this.states.length===0}push(l){this.currentIndex<this.states.length-1&&(this.states.length=this.currentIndex+1),this.states.push(l),this.states.length>xe.MAX_LENGTH&&this.states.shift(),this.currentIndex=this.states.length-1}go(l){return this.currentIndex=Math.min(Math.max(this.currentIndex+l,0),this.states.length-1),this.currentState}undo(){return this.go(-1)}redo(){return this.go(1)}clear(){this.states.length=0,this.currentIndex=0}}xe.MAX_LENGTH=100;class je{constructor(l,u){this.el=l instanceof Ot?l:l.isContentEditable&&l.tagName!=="INPUT"&&l.tagName!=="TEXTAREA"?new Xt(l):new ee(l),this.masked=J(u),this._listeners={},this._value="",this._unmaskedValue="",this._rawInputValue="",this.history=new xe,this._saveSelection=this._saveSelection.bind(this),this._onInput=this._onInput.bind(this),this._onChange=this._onChange.bind(this),this._onDrop=this._onDrop.bind(this),this._onFocus=this._onFocus.bind(this),this._onClick=this._onClick.bind(this),this._onUndo=this._onUndo.bind(this),this._onRedo=this._onRedo.bind(this),this.alignCursor=this.alignCursor.bind(this),this.alignCursorFriendly=this.alignCursorFriendly.bind(this),this._bindEvents(),this.updateValue(),this._onChange()}maskEquals(l){var u;return l==null||((u=this.masked)==null?void 0:u.maskEquals(l))}get mask(){return this.masked.mask}set mask(l){if(this.maskEquals(l))return;if(!(l instanceof q.Masked)&&this.masked.constructor===pt(l)){this.masked.updateOptions({mask:l});return}let u=l instanceof q.Masked?l:J({mask:l});u.unmaskedValue=this.masked.unmaskedValue,this.masked=u}get value(){return this._value}set value(l){this.value!==l&&(this.masked.value=l,this.updateControl("auto"))}get unmaskedValue(){return this._unmaskedValue}set unmaskedValue(l){this.unmaskedValue!==l&&(this.masked.unmaskedValue=l,this.updateControl("auto"))}get rawInputValue(){return this._rawInputValue}set rawInputValue(l){this.rawInputValue!==l&&(this.masked.rawInputValue=l,this.updateControl(),this.alignCursor())}get typedValue(){return this.masked.typedValue}set typedValue(l){this.masked.typedValueEquals(l)||(this.masked.typedValue=l,this.updateControl("auto"))}get displayValue(){return this.masked.displayValue}_bindEvents(){this.el.bindEvents({selectionChange:this._saveSelection,input:this._onInput,drop:this._onDrop,click:this._onClick,focus:this._onFocus,commit:this._onChange,undo:this._onUndo,redo:this._onRedo})}_unbindEvents(){this.el&&this.el.unbindEvents()}_fireEvent(l,u){let v=this._listeners[l];v&&v.forEach(w=>w(u))}get selectionStart(){return this._cursorChanging?this._changingCursorPos:this.el.selectionStart}get cursorPos(){return this._cursorChanging?this._changingCursorPos:this.el.selectionEnd}set cursorPos(l){!this.el||!this.el.isActive||(this.el.select(l,l),this._saveSelection())}_saveSelection(){this.displayValue!==this.el.value&&console.warn("Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly."),this._selection={start:this.selectionStart,end:this.cursorPos}}updateValue(){this.masked.value=this.el.value,this._value=this.masked.value,this._unmaskedValue=this.masked.unmaskedValue,this._rawInputValue=this.masked.rawInputValue}updateControl(l){let u=this.masked.unmaskedValue,v=this.masked.value,w=this.masked.rawInputValue,C=this.displayValue,S=this.unmaskedValue!==u||this.value!==v||this._rawInputValue!==w;this._unmaskedValue=u,this._value=v,this._rawInputValue=w,this.el.value!==C&&(this.el.value=C),l==="auto"?this.alignCursor():l!=null&&(this.cursorPos=l),S&&this._fireChangeEvents(),!this._historyChanging&&(S||this.history.isEmpty)&&this.history.push({unmaskedValue:u,selection:{start:this.selectionStart,end:this.cursorPos}})}updateOptions(l){let S=l,{mask:u}=S,v=Mt(S,["mask"]),w=!this.maskEquals(u),C=this.masked.optionsIsChanged(v);w&&(this.mask=u),C&&this.masked.updateOptions(v),(w||C)&&this.updateControl()}updateCursor(l){l!=null&&(this.cursorPos=l,this._delayUpdateCursor(l))}_delayUpdateCursor(l){this._abortUpdateCursor(),this._changingCursorPos=l,this._cursorChanging=setTimeout(()=>{this.el&&(this.cursorPos=this._changingCursorPos,this._abortUpdateCursor())},10)}_fireChangeEvents(){this._fireEvent("accept",this._inputEvent),this.masked.isComplete&&this._fireEvent("complete",this._inputEvent)}_abortUpdateCursor(){this._cursorChanging&&(clearTimeout(this._cursorChanging),delete this._cursorChanging)}alignCursor(){this.cursorPos=this.masked.nearestInputPos(this.masked.nearestInputPos(this.cursorPos,F.LEFT))}alignCursorFriendly(){this.selectionStart===this.cursorPos&&this.alignCursor()}on(l,u){return this._listeners[l]||(this._listeners[l]=[]),this._listeners[l].push(u),this}off(l,u){if(!this._listeners[l])return this;if(!u)return delete this._listeners[l],this;let v=this._listeners[l].indexOf(u);return v>=0&&this._listeners[l].splice(v,1),this}_onInput(l){this._inputEvent=l,this._abortUpdateCursor();let u=new Z({value:this.el.value,cursorPos:this.cursorPos,oldValue:this.displayValue,oldSelection:this._selection}),v=this.masked.rawInputValue,w=this.masked.splice(u.startChangePos,u.removed.length,u.inserted,u.removeDirection,{input:!0,raw:!0}).offset,C=v===this.masked.rawInputValue?u.removeDirection:F.NONE,S=this.masked.nearestInputPos(u.startChangePos+w,C);C!==F.NONE&&(S=this.masked.nearestInputPos(S,F.NONE)),this.updateControl(S),delete this._inputEvent}_onChange(){this.displayValue!==this.el.value&&this.updateValue(),this.masked.doCommit(),this.updateControl(),this._saveSelection()}_onDrop(l){l.preventDefault(),l.stopPropagation()}_onFocus(l){this.alignCursorFriendly()}_onClick(l){this.alignCursorFriendly()}_onUndo(){this._applyHistoryState(this.history.undo())}_onRedo(){this._applyHistoryState(this.history.redo())}_applyHistoryState(l){l&&(this._historyChanging=!0,this.unmaskedValue=l.unmaskedValue,this.el.select(l.selection.start,l.selection.end),this._saveSelection(),this._historyChanging=!1)}destroy(){this._unbindEvents(),this._listeners.length=0,delete this.el}}q.InputMask=je;class tt{static normalize(l){return Array.isArray(l)?l:[l,new tt]}constructor(l){Object.assign(this,{inserted:"",rawInserted:"",tailShift:0,skip:!1},l)}aggregate(l){return this.inserted+=l.inserted,this.rawInserted+=l.rawInserted,this.tailShift+=l.tailShift,this.skip=this.skip||l.skip,this}get offset(){return this.tailShift+this.inserted.length}get consumed(){return!!this.rawInserted||this.skip}equals(l){return this.inserted===l.inserted&&this.tailShift===l.tailShift&&this.rawInserted===l.rawInserted&&this.skip===l.skip}}q.ChangeDetails=tt;class bt{constructor(l,u,v){l===void 0&&(l=""),u===void 0&&(u=0),this.value=l,this.from=u,this.stop=v}toString(){return this.value}extend(l){this.value+=String(l)}appendTo(l){return l.append(this.toString(),{tail:!0}).aggregate(l._appendPlaceholder())}get state(){return{value:this.value,from:this.from,stop:this.stop}}set state(l){Object.assign(this,l)}unshift(l){if(!this.value.length||l!=null&&this.from>=l)return"";let u=this.value[0];return this.value=this.value.slice(1),u}shift(){if(!this.value.length)return"";let l=this.value[this.value.length-1];return this.value=this.value.slice(0,-1),l}}class gt{constructor(l){this._value="",this._update(ot(ot({},gt.DEFAULTS),l)),this._initialized=!0}updateOptions(l){this.optionsIsChanged(l)&&this.withValueRefresh(this._update.bind(this,l))}_update(l){Object.assign(this,l)}get state(){return{_value:this.value,_rawInputValue:this.rawInputValue}}set state(l){this._value=l._value}reset(){this._value=""}get value(){return this._value}set value(l){this.resolve(l,{input:!0})}resolve(l,u){u===void 0&&(u={input:!0}),this.reset(),this.append(l,u,""),this.doCommit()}get unmaskedValue(){return this.value}set unmaskedValue(l){this.resolve(l,{})}get typedValue(){return this.parse?this.parse(this.value,this):this.unmaskedValue}set typedValue(l){this.format?this.value=this.format(l,this):this.unmaskedValue=String(l)}get rawInputValue(){return this.extractInput(0,this.displayValue.length,{raw:!0})}set rawInputValue(l){this.resolve(l,{raw:!0})}get displayValue(){return this.value}get isComplete(){return!0}get isFilled(){return this.isComplete}nearestInputPos(l,u){return l}totalInputPositions(l,u){return l===void 0&&(l=0),u===void 0&&(u=this.displayValue.length),Math.min(this.displayValue.length,u-l)}extractInput(l,u,v){return l===void 0&&(l=0),u===void 0&&(u=this.displayValue.length),this.displayValue.slice(l,u)}extractTail(l,u){return l===void 0&&(l=0),u===void 0&&(u=this.displayValue.length),new bt(this.extractInput(l,u),l)}appendTail(l){return M(l)&&(l=new bt(String(l))),l.appendTo(this)}_appendCharRaw(l,u){return l?(this._value+=l,new tt({inserted:l,rawInserted:l})):new tt}_appendChar(l,u,v){u===void 0&&(u={});let w=this.state,C;if([l,C]=this.doPrepareChar(l,u),l&&(C=C.aggregate(this._appendCharRaw(l,u)),!C.rawInserted&&this.autofix==="pad")){let S=this.state;this.state=w;let T=this.pad(u),V=this._appendCharRaw(l,u);T=T.aggregate(V),V.rawInserted||T.equals(C)?C=T:this.state=S}if(C.inserted){let S,T=this.doValidate(u)!==!1;if(T&&v!=null){let V=this.state;if(this.overwrite===!0){S=v.state;for(let it=0;it<C.rawInserted.length;++it)v.unshift(this.displayValue.length-C.tailShift)}let X=this.appendTail(v);if(T=X.rawInserted.length===v.toString().length,!(T&&X.inserted)&&this.overwrite==="shift"){this.state=V,S=v.state;for(let it=0;it<C.rawInserted.length;++it)v.shift();X=this.appendTail(v),T=X.rawInserted.length===v.toString().length}T&&X.inserted&&(this.state=V)}T||(C=new tt,this.state=w,v&&S&&(v.state=S))}return C}_appendPlaceholder(){return new tt}_appendEager(){return new tt}append(l,u,v){if(!M(l))throw new Error("value should be string");let w=M(v)?new bt(String(v)):v;u!=null&&u.tail&&(u._beforeTailState=this.state);let C;[l,C]=this.doPrepare(l,u);for(let S=0;S<l.length;++S){let T=this._appendChar(l[S],u,w);if(!T.rawInserted&&!this.doSkipInvalid(l[S],u,w))break;C.aggregate(T)}return(this.eager===!0||this.eager==="append")&&u!=null&&u.input&&l&&C.aggregate(this._appendEager()),w!=null&&(C.tailShift+=this.appendTail(w).tailShift),C}remove(l,u){return l===void 0&&(l=0),u===void 0&&(u=this.displayValue.length),this._value=this.displayValue.slice(0,l)+this.displayValue.slice(u),new tt}withValueRefresh(l){if(this._refreshing||!this._initialized)return l();this._refreshing=!0;let u=this.rawInputValue,v=this.value,w=l();return this.rawInputValue=u,this.value&&this.value!==v&&v.indexOf(this.value)===0&&(this.append(v.slice(this.displayValue.length),{},""),this.doCommit()),delete this._refreshing,w}runIsolated(l){if(this._isolated||!this._initialized)return l(this);this._isolated=!0;let u=this.state,v=l(this);return this.state=u,delete this._isolated,v}doSkipInvalid(l,u,v){return!!this.skipInvalid}doPrepare(l,u){return u===void 0&&(u={}),tt.normalize(this.prepare?this.prepare(l,this,u):l)}doPrepareChar(l,u){return u===void 0&&(u={}),tt.normalize(this.prepareChar?this.prepareChar(l,this,u):l)}doValidate(l){return(!this.validate||this.validate(this.value,this,l))&&(!this.parent||this.parent.doValidate(l))}doCommit(){this.commit&&this.commit(this.value,this)}splice(l,u,v,w,C){v===void 0&&(v=""),w===void 0&&(w=F.NONE),C===void 0&&(C={input:!0});let S=l+u,T=this.extractTail(S),V=this.eager===!0||this.eager==="remove",X;V&&(w=K(w),X=this.extractInput(0,S,{raw:!0}));let it=l,_t=new tt;if(w!==F.NONE&&(it=this.nearestInputPos(l,u>1&&l!==0&&!V?F.NONE:w),_t.tailShift=it-l),_t.aggregate(this.remove(it)),V&&w!==F.NONE&&X===this.rawInputValue)if(w===F.FORCE_LEFT){let ut;for(;X===this.rawInputValue&&(ut=this.displayValue.length);)_t.aggregate(new tt({tailShift:-1})).aggregate(this.remove(ut-1))}else w===F.FORCE_RIGHT&&T.unshift();return _t.aggregate(this.append(v,C,T))}maskEquals(l){return this.mask===l}optionsIsChanged(l){return!lt(this,l)}typedValueEquals(l){let u=this.typedValue;return l===u||gt.EMPTY_VALUES.includes(l)&&gt.EMPTY_VALUES.includes(u)||(this.format?this.format(l,this)===this.format(this.typedValue,this):!1)}pad(l){return new tt}}gt.DEFAULTS={skipInvalid:!0},gt.EMPTY_VALUES=[void 0,null,""],q.Masked=gt;class At{constructor(l,u){l===void 0&&(l=[]),u===void 0&&(u=0),this.chunks=l,this.from=u}toString(){return this.chunks.map(String).join("")}extend(l){if(!String(l))return;l=M(l)?new bt(String(l)):l;let u=this.chunks[this.chunks.length-1],v=u&&(u.stop===l.stop||l.stop==null)&&l.from===u.from+u.toString().length;if(l instanceof bt)v?u.extend(l.toString()):this.chunks.push(l);else if(l instanceof At){if(l.stop==null){let w;for(;l.chunks.length&&l.chunks[0].stop==null;)w=l.chunks.shift(),w.from+=l.from,this.extend(w)}l.toString()&&(l.stop=l.blockIndex,this.chunks.push(l))}}appendTo(l){if(!(l instanceof q.MaskedPattern))return new bt(this.toString()).appendTo(l);let u=new tt;for(let v=0;v<this.chunks.length;++v){let w=this.chunks[v],C=l._mapPosToBlock(l.displayValue.length),S=w.stop,T;if(S!=null&&(!C||C.index<=S)&&((w instanceof At||l._stops.indexOf(S)>=0)&&u.aggregate(l._appendPlaceholder(S)),T=w instanceof At&&l._blocks[S]),T){let V=T.appendTail(w);u.aggregate(V);let X=w.toString().slice(V.rawInserted.length);X&&u.aggregate(l.append(X,{tail:!0}))}else u.aggregate(l.append(w.toString(),{tail:!0}))}return u}get state(){return{chunks:this.chunks.map(l=>l.state),from:this.from,stop:this.stop,blockIndex:this.blockIndex}}set state(l){let w=l,{chunks:u}=w,v=Mt(w,["chunks"]);Object.assign(this,v),this.chunks=u.map(C=>{let S="chunks"in C?new At:new bt;return S.state=C,S})}unshift(l){if(!this.chunks.length||l!=null&&this.from>=l)return"";let u=l!=null?l-this.from:l,v=0;for(;v<this.chunks.length;){let w=this.chunks[v],C=w.unshift(u);if(w.toString()){if(!C)break;++v}else this.chunks.splice(v,1);if(C)return C}return""}shift(){if(!this.chunks.length)return"";let l=this.chunks.length-1;for(;0<=l;){let u=this.chunks[l],v=u.shift();if(u.toString()){if(!v)break;--l}else this.chunks.splice(l,1);if(v)return v}return""}}class jt{constructor(l,u){this.masked=l,this._log=[];let{offset:v,index:w}=l._mapPosToBlock(u)||(u<0?{index:0,offset:0}:{index:this.masked._blocks.length,offset:0});this.offset=v,this.index=w,this.ok=!1}get block(){return this.masked._blocks[this.index]}get pos(){return this.masked._blockStartPos(this.index)+this.offset}get state(){return{index:this.index,offset:this.offset,ok:this.ok}}set state(l){Object.assign(this,l)}pushState(){this._log.push(this.state)}popState(){let l=this._log.pop();return l&&(this.state=l),l}bindBlock(){this.block||(this.index<0&&(this.index=0,this.offset=0),this.index>=this.masked._blocks.length&&(this.index=this.masked._blocks.length-1,this.offset=this.block.displayValue.length))}_pushLeft(l){for(this.pushState(),this.bindBlock();0<=this.index;--this.index,this.offset=((u=this.block)==null?void 0:u.displayValue.length)||0){var u;if(l())return this.ok=!0}return this.ok=!1}_pushRight(l){for(this.pushState(),this.bindBlock();this.index<this.masked._blocks.length;++this.index,this.offset=0)if(l())return this.ok=!0;return this.ok=!1}pushLeftBeforeFilled(){return this._pushLeft(()=>{if(!(this.block.isFixed||!this.block.value)&&(this.offset=this.block.nearestInputPos(this.offset,F.FORCE_LEFT),this.offset!==0))return!0})}pushLeftBeforeInput(){return this._pushLeft(()=>{if(!this.block.isFixed)return this.offset=this.block.nearestInputPos(this.offset,F.LEFT),!0})}pushLeftBeforeRequired(){return this._pushLeft(()=>{if(!(this.block.isFixed||this.block.isOptional&&!this.block.value))return this.offset=this.block.nearestInputPos(this.offset,F.LEFT),!0})}pushRightBeforeFilled(){return this._pushRight(()=>{if(!(this.block.isFixed||!this.block.value)&&(this.offset=this.block.nearestInputPos(this.offset,F.FORCE_RIGHT),this.offset!==this.block.value.length))return!0})}pushRightBeforeInput(){return this._pushRight(()=>{if(!this.block.isFixed)return this.offset=this.block.nearestInputPos(this.offset,F.NONE),!0})}pushRightBeforeRequired(){return this._pushRight(()=>{if(!(this.block.isFixed||this.block.isOptional&&!this.block.value))return this.offset=this.block.nearestInputPos(this.offset,F.NONE),!0})}}class ve{constructor(l){Object.assign(this,l),this._value="",this.isFixed=!0}get value(){return this._value}get unmaskedValue(){return this.isUnmasking?this.value:""}get rawInputValue(){return this._isRawInput?this.value:""}get displayValue(){return this.value}reset(){this._isRawInput=!1,this._value=""}remove(l,u){return l===void 0&&(l=0),u===void 0&&(u=this._value.length),this._value=this._value.slice(0,l)+this._value.slice(u),this._value||(this._isRawInput=!1),new tt}nearestInputPos(l,u){u===void 0&&(u=F.NONE);let v=0,w=this._value.length;switch(u){case F.LEFT:case F.FORCE_LEFT:return v;case F.NONE:case F.RIGHT:case F.FORCE_RIGHT:default:return w}}totalInputPositions(l,u){return l===void 0&&(l=0),u===void 0&&(u=this._value.length),this._isRawInput?u-l:0}extractInput(l,u,v){return l===void 0&&(l=0),u===void 0&&(u=this._value.length),v===void 0&&(v={}),v.raw&&this._isRawInput&&this._value.slice(l,u)||""}get isComplete(){return!0}get isFilled(){return!!this._value}_appendChar(l,u){if(u===void 0&&(u={}),this.isFilled)return new tt;let v=this.eager===!0||this.eager==="append",C=this.char===l&&(this.isUnmasking||u.input||u.raw)&&(!u.raw||!v)&&!u.tail,S=new tt({inserted:this.char,rawInserted:C?this.char:""});return this._value=this.char,this._isRawInput=C&&(u.raw||u.input),S}_appendEager(){return this._appendChar(this.char,{tail:!0})}_appendPlaceholder(){let l=new tt;return this.isFilled||(this._value=l.inserted=this.char),l}extractTail(){return new bt("")}appendTail(l){return M(l)&&(l=new bt(String(l))),l.appendTo(this)}append(l,u,v){let w=this._appendChar(l[0],u);return v!=null&&(w.tailShift+=this.appendTail(v).tailShift),w}doCommit(){}get state(){return{_value:this._value,_rawInputValue:this.rawInputValue}}set state(l){this._value=l._value,this._isRawInput=!!l._rawInputValue}pad(l){return this._appendPlaceholder()}}class ae{constructor(l){let X=l,{parent:u,isOptional:v,placeholderChar:w,displayChar:C,lazy:S,eager:T}=X,V=Mt(X,["parent","isOptional","placeholderChar","displayChar","lazy","eager"]);this.masked=J(V),Object.assign(this,{parent:u,isOptional:v,placeholderChar:w,displayChar:C,lazy:S,eager:T})}reset(){this.isFilled=!1,this.masked.reset()}remove(l,u){return l===void 0&&(l=0),u===void 0&&(u=this.value.length),l===0&&u>=1?(this.isFilled=!1,this.masked.remove(l,u)):new tt}get value(){return this.masked.value||(this.isFilled&&!this.isOptional?this.placeholderChar:"")}get unmaskedValue(){return this.masked.unmaskedValue}get rawInputValue(){return this.masked.rawInputValue}get displayValue(){return this.masked.value&&this.displayChar||this.value}get isComplete(){return!!this.masked.value||this.isOptional}_appendChar(l,u){if(u===void 0&&(u={}),this.isFilled)return new tt;let v=this.masked.state,w=this.masked._appendChar(l,this.currentMaskFlags(u));return w.inserted&&this.doValidate(u)===!1&&(w=new tt,this.masked.state=v),!w.inserted&&!this.isOptional&&!this.lazy&&!u.input&&(w.inserted=this.placeholderChar),w.skip=!w.inserted&&!this.isOptional,this.isFilled=!!w.inserted,w}append(l,u,v){return this.masked.append(l,this.currentMaskFlags(u),v)}_appendPlaceholder(){return this.isFilled||this.isOptional?new tt:(this.isFilled=!0,new tt({inserted:this.placeholderChar}))}_appendEager(){return new tt}extractTail(l,u){return this.masked.extractTail(l,u)}appendTail(l){return this.masked.appendTail(l)}extractInput(l,u,v){return l===void 0&&(l=0),u===void 0&&(u=this.value.length),this.masked.extractInput(l,u,v)}nearestInputPos(l,u){u===void 0&&(u=F.NONE);let v=0,w=this.value.length,C=Math.min(Math.max(l,v),w);switch(u){case F.LEFT:case F.FORCE_LEFT:return this.isComplete?C:v;case F.RIGHT:case F.FORCE_RIGHT:return this.isComplete?C:w;case F.NONE:default:return C}}totalInputPositions(l,u){return l===void 0&&(l=0),u===void 0&&(u=this.value.length),this.value.slice(l,u).length}doValidate(l){return this.masked.doValidate(this.currentMaskFlags(l))&&(!this.parent||this.parent.doValidate(this.currentMaskFlags(l)))}doCommit(){this.masked.doCommit()}get state(){return{_value:this.value,_rawInputValue:this.rawInputValue,masked:this.masked.state,isFilled:this.isFilled}}set state(l){this.masked.state=l.masked,this.isFilled=l.isFilled}currentMaskFlags(l){var u;return ft(ot({},l),{_beforeTailState:(l==null||(u=l._beforeTailState)==null?void 0:u.masked)||(l==null?void 0:l._beforeTailState)})}pad(l){return new tt}}ae.DEFAULT_DEFINITIONS={0:/\d/,a:/[\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,"*":/./};class st extends gt{updateOptions(l){super.updateOptions(l)}_update(l){let u=l.mask;u&&(l.validate=v=>v.search(u)>=0),super._update(l)}}q.MaskedRegExp=st;class et extends gt{constructor(l){super(ft(ot(ot({},et.DEFAULTS),l),{definitions:Object.assign({},ae.DEFAULT_DEFINITIONS,l==null?void 0:l.definitions)}))}updateOptions(l){super.updateOptions(l)}_update(l){l.definitions=Object.assign({},this.definitions,l.definitions),super._update(l),this._rebuildMask()}_rebuildMask(){let l=this.definitions;this._blocks=[],this.exposeBlock=void 0,this._stops=[],this._maskedBlocks={};let u=this.mask;if(!u||!l)return;let v=!1,w=!1;for(let S=0;S<u.length;++S){if(this.blocks){let it=u.slice(S),_t=Object.keys(this.blocks).filter(Zt=>it.indexOf(Zt)===0);_t.sort((Zt,Ct)=>Ct.length-Zt.length);let ut=_t[0];if(ut){let C=G(this.blocks[ut]),{expose:Zt,repeat:Ct}=C,yi=Mt(C,["expose","repeat"]),He=ft(ot({lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,displayChar:this.displayChar,overwrite:this.overwrite,autofix:this.autofix},yi),{repeat:Ct,parent:this}),Te=Ct!=null?new q.RepeatBlock(He):J(He);Te&&(this._blocks.push(Te),Zt&&(this.exposeBlock=Te),this._maskedBlocks[ut]||(this._maskedBlocks[ut]=[]),this._maskedBlocks[ut].push(this._blocks.length-1)),S+=ut.length-1;continue}}let T=u[S],V=T in l;if(T===et.STOP_CHAR){this._stops.push(this._blocks.length);continue}if(T==="{"||T==="}"){v=!v;continue}if(T==="["||T==="]"){w=!w;continue}if(T===et.ESCAPE_CHAR){if(++S,T=u[S],!T)break;V=!1}let X=V?new ae(ft(ot({isOptional:w,lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,displayChar:this.displayChar},G(l[T])),{parent:this})):new ve({char:T,eager:this.eager,isUnmasking:v});this._blocks.push(X)}}get state(){return ft(ot({},super.state),{_blocks:this._blocks.map(l=>l.state)})}set state(l){if(!l){this.reset();return}let w=l,{_blocks:u}=w,v=Mt(w,["_blocks"]);this._blocks.forEach((C,S)=>C.state=u[S]),super.state=v}reset(){super.reset(),this._blocks.forEach(l=>l.reset())}get isComplete(){return this.exposeBlock?this.exposeBlock.isComplete:this._blocks.every(l=>l.isComplete)}get isFilled(){return this._blocks.every(l=>l.isFilled)}get isFixed(){return this._blocks.every(l=>l.isFixed)}get isOptional(){return this._blocks.every(l=>l.isOptional)}doCommit(){this._blocks.forEach(l=>l.doCommit()),super.doCommit()}get unmaskedValue(){return this.exposeBlock?this.exposeBlock.unmaskedValue:this._blocks.reduce((l,u)=>l+=u.unmaskedValue,"")}set unmaskedValue(l){if(this.exposeBlock){let u=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.unmaskedValue=l,this.appendTail(u),this.doCommit()}else super.unmaskedValue=l}get value(){return this.exposeBlock?this.exposeBlock.value:this._blocks.reduce((l,u)=>l+=u.value,"")}set value(l){if(this.exposeBlock){let u=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.value=l,this.appendTail(u),this.doCommit()}else super.value=l}get typedValue(){return this.exposeBlock?this.exposeBlock.typedValue:super.typedValue}set typedValue(l){if(this.exposeBlock){let u=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.typedValue=l,this.appendTail(u),this.doCommit()}else super.typedValue=l}get displayValue(){return this._blocks.reduce((l,u)=>l+=u.displayValue,"")}appendTail(l){return super.appendTail(l).aggregate(this._appendPlaceholder())}_appendEager(){var l;let u=new tt,v=(l=this._mapPosToBlock(this.displayValue.length))==null?void 0:l.index;if(v==null)return u;this._blocks[v].isFilled&&++v;for(let w=v;w<this._blocks.length;++w){let C=this._blocks[w]._appendEager();if(!C.inserted)break;u.aggregate(C)}return u}_appendCharRaw(l,u){u===void 0&&(u={});let v=this._mapPosToBlock(this.displayValue.length),w=new tt;if(!v)return w;for(let S=v.index,T;T=this._blocks[S];++S){var C;let V=T._appendChar(l,ft(ot({},u),{_beforeTailState:(C=u._beforeTailState)==null||(C=C._blocks)==null?void 0:C[S]}));if(w.aggregate(V),V.consumed)break}return w}extractTail(l,u){l===void 0&&(l=0),u===void 0&&(u=this.displayValue.length);let v=new At;return l===u||this._forEachBlocksInRange(l,u,(w,C,S,T)=>{let V=w.extractTail(S,T);V.stop=this._findStopBefore(C),V.from=this._blockStartPos(C),V instanceof At&&(V.blockIndex=C),v.extend(V)}),v}extractInput(l,u,v){if(l===void 0&&(l=0),u===void 0&&(u=this.displayValue.length),v===void 0&&(v={}),l===u)return"";let w="";return this._forEachBlocksInRange(l,u,(C,S,T,V)=>{w+=C.extractInput(T,V,v)}),w}_findStopBefore(l){let u;for(let v=0;v<this._stops.length;++v){let w=this._stops[v];if(w<=l)u=w;else break}return u}_appendPlaceholder(l){let u=new tt;if(this.lazy&&l==null)return u;let v=this._mapPosToBlock(this.displayValue.length);if(!v)return u;let w=v.index,C=l!=null?l:this._blocks.length;return this._blocks.slice(w,C).forEach(S=>{if(!S.lazy||l!=null){var T;u.aggregate(S._appendPlaceholder((T=S._blocks)==null?void 0:T.length))}}),u}_mapPosToBlock(l){let u="";for(let v=0;v<this._blocks.length;++v){let w=this._blocks[v],C=u.length;if(u+=w.displayValue,l<=u.length)return{index:v,offset:l-C}}}_blockStartPos(l){return this._blocks.slice(0,l).reduce((u,v)=>u+=v.displayValue.length,0)}_forEachBlocksInRange(l,u,v){u===void 0&&(u=this.displayValue.length);let w=this._mapPosToBlock(l);if(w){let C=this._mapPosToBlock(u),S=C&&w.index===C.index,T=w.offset,V=C&&S?C.offset:this._blocks[w.index].displayValue.length;if(v(this._blocks[w.index],w.index,T,V),C&&!S){for(let X=w.index+1;X<C.index;++X)v(this._blocks[X],X,0,this._blocks[X].displayValue.length);v(this._blocks[C.index],C.index,0,C.offset)}}}remove(l,u){l===void 0&&(l=0),u===void 0&&(u=this.displayValue.length);let v=super.remove(l,u);return this._forEachBlocksInRange(l,u,(w,C,S,T)=>{v.aggregate(w.remove(S,T))}),v}nearestInputPos(l,u){if(u===void 0&&(u=F.NONE),!this._blocks.length)return 0;let v=new jt(this,l);if(u===F.NONE)return v.pushRightBeforeInput()||(v.popState(),v.pushLeftBeforeInput())?v.pos:this.displayValue.length;if(u===F.LEFT||u===F.FORCE_LEFT){if(u===F.LEFT){if(v.pushRightBeforeFilled(),v.ok&&v.pos===l)return l;v.popState()}if(v.pushLeftBeforeInput(),v.pushLeftBeforeRequired(),v.pushLeftBeforeFilled(),u===F.LEFT){if(v.pushRightBeforeInput(),v.pushRightBeforeRequired(),v.ok&&v.pos<=l||(v.popState(),v.ok&&v.pos<=l))return v.pos;v.popState()}return v.ok?v.pos:u===F.FORCE_LEFT?0:(v.popState(),v.ok||(v.popState(),v.ok)?v.pos:0)}return u===F.RIGHT||u===F.FORCE_RIGHT?(v.pushRightBeforeInput(),v.pushRightBeforeRequired(),v.pushRightBeforeFilled()?v.pos:u===F.FORCE_RIGHT?this.displayValue.length:(v.popState(),v.ok||(v.popState(),v.ok)?v.pos:this.nearestInputPos(l,F.LEFT))):l}totalInputPositions(l,u){l===void 0&&(l=0),u===void 0&&(u=this.displayValue.length);let v=0;return this._forEachBlocksInRange(l,u,(w,C,S,T)=>{v+=w.totalInputPositions(S,T)}),v}maskedBlock(l){return this.maskedBlocks(l)[0]}maskedBlocks(l){let u=this._maskedBlocks[l];return u?u.map(v=>this._blocks[v]):[]}pad(l){let u=new tt;return this._forEachBlocksInRange(0,this.displayValue.length,v=>u.aggregate(v.pad(l))),u}}et.DEFAULTS=ft(ot({},gt.DEFAULTS),{lazy:!0,placeholderChar:"_"}),et.STOP_CHAR="`",et.ESCAPE_CHAR="\\",et.InputDefinition=ae,et.FixedDefinition=ve,q.MaskedPattern=et;class se extends et{get _matchFrom(){return this.maxLength-String(this.from).length}constructor(l){super(l)}updateOptions(l){super.updateOptions(l)}_update(l){let it=l,{to:u=this.to||0,from:v=this.from||0,maxLength:w=this.maxLength||0,autofix:C=this.autofix}=it,S=Mt(it,["to","from","maxLength","autofix"]);this.to=u,this.from=v,this.maxLength=Math.max(String(u).length,w),this.autofix=C;let T=String(this.from).padStart(this.maxLength,"0"),V=String(this.to).padStart(this.maxLength,"0"),X=0;for(;X<V.length&&V[X]===T[X];)++X;S.mask=V.slice(0,X).replace(/0/g,"\\0")+"0".repeat(this.maxLength-X),super._update(S)}get isComplete(){return super.isComplete&&!!this.value}boundaries(l){let u="",v="",[,w,C]=l.match(/^(\D*)(\d*)(\D*)/)||[];return C&&(u="0".repeat(w.length)+C,v="9".repeat(w.length)+C),u=u.padEnd(this.maxLength,"0"),v=v.padEnd(this.maxLength,"9"),[u,v]}doPrepareChar(l,u){u===void 0&&(u={});let v;return[l,v]=super.doPrepareChar(l.replace(/\D/g,""),u),l||(v.skip=!this.isComplete),[l,v]}_appendCharRaw(l,u){if(u===void 0&&(u={}),!this.autofix||this.value.length+1>this.maxLength)return super._appendCharRaw(l,u);let v=String(this.from).padStart(this.maxLength,"0"),w=String(this.to).padStart(this.maxLength,"0"),[C,S]=this.boundaries(this.value+l);return Number(S)<this.from?super._appendCharRaw(v[this.value.length],u):Number(C)>this.to?!u.tail&&this.autofix==="pad"&&this.value.length+1<this.maxLength?super._appendCharRaw(v[this.value.length],u).aggregate(this._appendCharRaw(l,u)):super._appendCharRaw(w[this.value.length],u):super._appendCharRaw(l,u)}doValidate(l){let u=this.value;if(u.search(/[^0]/)===-1&&u.length<=this._matchFrom)return!0;let[w,C]=this.boundaries(u);return this.from<=Number(C)&&Number(w)<=this.to&&super.doValidate(l)}pad(l){let u=new tt;if(this.value.length===this.maxLength)return u;let v=this.value,w=this.maxLength-this.value.length;if(w){this.reset();for(let C=0;C<w;++C)u.aggregate(super._appendCharRaw("0",l));v.split("").forEach(C=>this._appendCharRaw(C))}return u}}q.MaskedRange=se;let ye="d{.}`m{.}`Y";class Tt extends et{static extractPatternOptions(l){let C=l,{mask:u,pattern:v}=C,w=Mt(C,["mask","pattern"]);return ft(ot({},w),{mask:M(u)?u:v})}constructor(l){super(Tt.extractPatternOptions(ot(ot({},Tt.DEFAULTS),l)))}updateOptions(l){super.updateOptions(l)}_update(l){let T=ot(ot({},Tt.DEFAULTS),l),{mask:u,pattern:v,blocks:w}=T,C=Mt(T,["mask","pattern","blocks"]),S=Object.assign({},Tt.GET_DEFAULT_BLOCKS());l.min&&(S.Y.from=l.min.getFullYear()),l.max&&(S.Y.to=l.max.getFullYear()),l.min&&l.max&&S.Y.from===S.Y.to&&(S.m.from=l.min.getMonth()+1,S.m.to=l.max.getMonth()+1,S.m.from===S.m.to&&(S.d.from=l.min.getDate(),S.d.to=l.max.getDate())),Object.assign(S,this.blocks,w),super._update(ft(ot({},C),{mask:M(u)?u:v,blocks:S}))}doValidate(l){let u=this.date;return super.doValidate(l)&&(!this.isComplete||this.isDateExist(this.value)&&u!=null&&(this.min==null||this.min<=u)&&(this.max==null||u<=this.max))}isDateExist(l){return this.format(this.parse(l,this),this).indexOf(l)>=0}get date(){return this.typedValue}set date(l){this.typedValue=l}get typedValue(){return this.isComplete?super.typedValue:null}set typedValue(l){super.typedValue=l}maskEquals(l){return l===Date||super.maskEquals(l)}optionsIsChanged(l){return super.optionsIsChanged(Tt.extractPatternOptions(l))}}Tt.GET_DEFAULT_BLOCKS=()=>({d:{mask:se,from:1,to:31,maxLength:2},m:{mask:se,from:1,to:12,maxLength:2},Y:{mask:se,from:1900,to:9999}}),Tt.DEFAULTS=ft(ot({},et.DEFAULTS),{mask:Date,pattern:ye,format:(L,l)=>{if(!L)return"";let u=String(L.getDate()).padStart(2,"0"),v=String(L.getMonth()+1).padStart(2,"0"),w=L.getFullYear();return[u,v,w].join(".")},parse:(L,l)=>{let[u,v,w]=L.split(".").map(Number);return new Date(w,v-1,u)}}),q.MaskedDate=Tt;class dt extends gt{constructor(l){super(ot(ot({},dt.DEFAULTS),l)),this.currentMask=void 0}updateOptions(l){super.updateOptions(l)}_update(l){super._update(l),"mask"in l&&(this.exposeMask=void 0,this.compiledMasks=Array.isArray(l.mask)?l.mask.map(u=>{let S=G(u),{expose:v}=S,w=Mt(S,["expose"]),C=J(ot({overwrite:this._overwrite,eager:this._eager,skipInvalid:this._skipInvalid},w));return v&&(this.exposeMask=C),C}):[])}_appendCharRaw(l,u){u===void 0&&(u={});let v=this._applyDispatch(l,u);return this.currentMask&&v.aggregate(this.currentMask._appendChar(l,this.currentMaskFlags(u))),v}_applyDispatch(l,u,v){l===void 0&&(l=""),u===void 0&&(u={}),v===void 0&&(v="");let w=u.tail&&u._beforeTailState!=null?u._beforeTailState._value:this.value,C=this.rawInputValue,S=u.tail&&u._beforeTailState!=null?u._beforeTailState._rawInputValue:C,T=C.slice(S.length),V=this.currentMask,X=new tt,it=V==null?void 0:V.state;return this.currentMask=this.doDispatch(l,ot({},u),v),this.currentMask&&(this.currentMask!==V?(this.currentMask.reset(),S&&(this.currentMask.append(S,{raw:!0}),X.tailShift=this.currentMask.value.length-w.length),T&&(X.tailShift+=this.currentMask.append(T,{raw:!0,tail:!0}).tailShift)):it&&(this.currentMask.state=it)),X}_appendPlaceholder(){let l=this._applyDispatch();return this.currentMask&&l.aggregate(this.currentMask._appendPlaceholder()),l}_appendEager(){let l=this._applyDispatch();return this.currentMask&&l.aggregate(this.currentMask._appendEager()),l}appendTail(l){let u=new tt;return l&&u.aggregate(this._applyDispatch("",{},l)),u.aggregate(this.currentMask?this.currentMask.appendTail(l):super.appendTail(l))}currentMaskFlags(l){var u,v;return ft(ot({},l),{_beforeTailState:((u=l._beforeTailState)==null?void 0:u.currentMaskRef)===this.currentMask&&((v=l._beforeTailState)==null?void 0:v.currentMask)||l._beforeTailState})}doDispatch(l,u,v){return u===void 0&&(u={}),v===void 0&&(v=""),this.dispatch(l,this,u,v)}doValidate(l){return super.doValidate(l)&&(!this.currentMask||this.currentMask.doValidate(this.currentMaskFlags(l)))}doPrepare(l,u){u===void 0&&(u={});let[v,w]=super.doPrepare(l,u);if(this.currentMask){let C;[v,C]=super.doPrepare(v,this.currentMaskFlags(u)),w=w.aggregate(C)}return[v,w]}doPrepareChar(l,u){u===void 0&&(u={});let[v,w]=super.doPrepareChar(l,u);if(this.currentMask){let C;[v,C]=super.doPrepareChar(v,this.currentMaskFlags(u)),w=w.aggregate(C)}return[v,w]}reset(){var l;(l=this.currentMask)==null||l.reset(),this.compiledMasks.forEach(u=>u.reset())}get value(){return this.exposeMask?this.exposeMask.value:this.currentMask?this.currentMask.value:""}set value(l){this.exposeMask?(this.exposeMask.value=l,this.currentMask=this.exposeMask,this._applyDispatch()):super.value=l}get unmaskedValue(){return this.exposeMask?this.exposeMask.unmaskedValue:this.currentMask?this.currentMask.unmaskedValue:""}set unmaskedValue(l){this.exposeMask?(this.exposeMask.unmaskedValue=l,this.currentMask=this.exposeMask,this._applyDispatch()):super.unmaskedValue=l}get typedValue(){return this.exposeMask?this.exposeMask.typedValue:this.currentMask?this.currentMask.typedValue:""}set typedValue(l){if(this.exposeMask){this.exposeMask.typedValue=l,this.currentMask=this.exposeMask,this._applyDispatch();return}let u=String(l);this.currentMask&&(this.currentMask.typedValue=l,u=this.currentMask.unmaskedValue),this.unmaskedValue=u}get displayValue(){return this.currentMask?this.currentMask.displayValue:""}get isComplete(){var l;return!!((l=this.currentMask)!=null&&l.isComplete)}get isFilled(){var l;return!!((l=this.currentMask)!=null&&l.isFilled)}remove(l,u){let v=new tt;return this.currentMask&&v.aggregate(this.currentMask.remove(l,u)).aggregate(this._applyDispatch()),v}get state(){var l;return ft(ot({},super.state),{_rawInputValue:this.rawInputValue,compiledMasks:this.compiledMasks.map(u=>u.state),currentMaskRef:this.currentMask,currentMask:(l=this.currentMask)==null?void 0:l.state})}set state(l){let S=l,{compiledMasks:u,currentMaskRef:v,currentMask:w}=S,C=Mt(S,["compiledMasks","currentMaskRef","currentMask"]);u&&this.compiledMasks.forEach((T,V)=>T.state=u[V]),v!=null&&(this.currentMask=v,this.currentMask.state=w),super.state=C}extractInput(l,u,v){return this.currentMask?this.currentMask.extractInput(l,u,v):""}extractTail(l,u){return this.currentMask?this.currentMask.extractTail(l,u):super.extractTail(l,u)}doCommit(){this.currentMask&&this.currentMask.doCommit(),super.doCommit()}nearestInputPos(l,u){return this.currentMask?this.currentMask.nearestInputPos(l,u):super.nearestInputPos(l,u)}get overwrite(){return this.currentMask?this.currentMask.overwrite:this._overwrite}set overwrite(l){this._overwrite=l}get eager(){return this.currentMask?this.currentMask.eager:this._eager}set eager(l){this._eager=l}get skipInvalid(){return this.currentMask?this.currentMask.skipInvalid:this._skipInvalid}set skipInvalid(l){this._skipInvalid=l}get autofix(){return this.currentMask?this.currentMask.autofix:this._autofix}set autofix(l){this._autofix=l}maskEquals(l){return Array.isArray(l)?this.compiledMasks.every((u,v)=>{if(!l[v])return;let S=l[v],{mask:w}=S,C=Mt(S,["mask"]);return lt(u,C)&&u.maskEquals(w)}):super.maskEquals(l)}typedValueEquals(l){var u;return!!((u=this.currentMask)!=null&&u.typedValueEquals(l))}}dt.DEFAULTS=ft(ot({},gt.DEFAULTS),{dispatch:(L,l,u,v)=>{if(!l.compiledMasks.length)return;let w=l.rawInputValue,C=l.compiledMasks.map((S,T)=>{let V=l.currentMask===S,X=V?S.displayValue.length:S.nearestInputPos(S.displayValue.length,F.FORCE_LEFT);return S.rawInputValue!==w?(S.reset(),S.append(w,{raw:!0})):V||S.remove(X),S.append(L,l.currentMaskFlags(u)),S.appendTail(v),{index:T,weight:S.rawInputValue.length,totalInputPositions:S.totalInputPositions(0,Math.max(X,S.nearestInputPos(S.displayValue.length,F.FORCE_LEFT)))}});return C.sort((S,T)=>T.weight-S.weight||T.totalInputPositions-S.totalInputPositions),l.compiledMasks[C[0].index]}}),q.MaskedDynamic=dt;class St extends et{constructor(l){super(ot(ot({},St.DEFAULTS),l))}updateOptions(l){super.updateOptions(l)}_update(l){let w=l,{enum:u}=w,v=Mt(w,["enum"]);if(u){let C=u.map(V=>V.length),S=Math.min(...C),T=Math.max(...C)-S;v.mask="*".repeat(S),T&&(v.mask+="["+"*".repeat(T)+"]"),this.enum=u}super._update(v)}_appendCharRaw(l,u){u===void 0&&(u={});let v=Math.min(this.nearestInputPos(0,F.FORCE_RIGHT),this.value.length),w=this.enum.filter(C=>this.matchValue(C,this.unmaskedValue+l,v));if(w.length){w.length===1&&this._forEachBlocksInRange(0,this.value.length,(S,T)=>{let V=w[0][T];T>=this.value.length||V===S.value||(S.reset(),S._appendChar(V,u))});let C=super._appendCharRaw(w[0][this.value.length],u);return w.length===1&&w[0].slice(this.unmaskedValue.length).split("").forEach(S=>C.aggregate(super._appendCharRaw(S))),C}return new tt({skip:!this.isComplete})}extractTail(l,u){return l===void 0&&(l=0),u===void 0&&(u=this.displayValue.length),new bt("",l)}remove(l,u){if(l===void 0&&(l=0),u===void 0&&(u=this.displayValue.length),l===u)return new tt;let v=Math.min(super.nearestInputPos(0,F.FORCE_RIGHT),this.value.length),w;for(w=l;w>=0&&!(this.enum.filter(T=>this.matchValue(T,this.value.slice(v,w),v)).length>1);--w);let C=super.remove(w,u);return C.tailShift+=w-l,C}get isComplete(){return this.enum.indexOf(this.value)>=0}}St.DEFAULTS=ft(ot({},et.DEFAULTS),{matchValue:(L,l,u)=>L.indexOf(l,u)===u}),q.MaskedEnum=St;class De extends gt{updateOptions(l){super.updateOptions(l)}_update(l){super._update(ft(ot({},l),{validate:l.mask}))}}q.MaskedFunction=De;var Rt;class ht extends gt{constructor(l){super(ot(ot({},ht.DEFAULTS),l))}updateOptions(l){super.updateOptions(l)}_update(l){super._update(l),this._updateRegExps()}_updateRegExps(){let l="^"+(this.allowNegative?"[+|\\-]?":""),u="\\d*",v=(this.scale?"("+rt(this.radix)+"\\d{0,"+this.scale+"})?":"")+"$";this._numberRegExp=new RegExp(l+u+v),this._mapToRadixRegExp=new RegExp("["+this.mapToRadix.map(rt).join("")+"]","g"),this._thousandsSeparatorRegExp=new RegExp(rt(this.thousandsSeparator),"g")}_removeThousandsSeparators(l){return l.replace(this._thousandsSeparatorRegExp,"")}_insertThousandsSeparators(l){let u=l.split(this.radix);return u[0]=u[0].replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandsSeparator),u.join(this.radix)}doPrepareChar(l,u){u===void 0&&(u={});let[v,w]=super.doPrepareChar(this._removeThousandsSeparators(this.scale&&this.mapToRadix.length&&(u.input&&u.raw||!u.input&&!u.raw)?l.replace(this._mapToRadixRegExp,this.radix):l),u);return l&&!v&&(w.skip=!0),v&&!this.allowPositive&&!this.value&&v!=="-"&&w.aggregate(this._appendChar("-")),[v,w]}_separatorsCount(l,u){u===void 0&&(u=!1);let v=0;for(let w=0;w<l;++w)this._value.indexOf(this.thousandsSeparator,w)===w&&(++v,u&&(l+=this.thousandsSeparator.length));return v}_separatorsCountFromSlice(l){return l===void 0&&(l=this._value),this._separatorsCount(this._removeThousandsSeparators(l).length,!0)}extractInput(l,u,v){return l===void 0&&(l=0),u===void 0&&(u=this.displayValue.length),[l,u]=this._adjustRangeWithSeparators(l,u),this._removeThousandsSeparators(super.extractInput(l,u,v))}_appendCharRaw(l,u){u===void 0&&(u={});let v=u.tail&&u._beforeTailState?u._beforeTailState._value:this._value,w=this._separatorsCountFromSlice(v);this._value=this._removeThousandsSeparators(this.value);let C=this._value;this._value+=l;let S=this.number,T=!isNaN(S),V=!1;if(T){let ut;this.min!=null&&this.min<0&&this.number<this.min&&(ut=this.min),this.max!=null&&this.max>0&&this.number>this.max&&(ut=this.max),ut!=null&&(this.autofix?(this._value=this.format(ut,this).replace(ht.UNMASKED_RADIX,this.radix),V||(V=C===this._value&&!u.tail)):T=!1),T&&(T=!!this._value.match(this._numberRegExp))}let X;T?X=new tt({inserted:this._value.slice(C.length),rawInserted:V?"":l,skip:V}):(this._value=C,X=new tt),this._value=this._insertThousandsSeparators(this._value);let it=u.tail&&u._beforeTailState?u._beforeTailState._value:this._value,_t=this._separatorsCountFromSlice(it);return X.tailShift+=(_t-w)*this.thousandsSeparator.length,X}_findSeparatorAround(l){if(this.thousandsSeparator){let u=l-this.thousandsSeparator.length+1,v=this.value.indexOf(this.thousandsSeparator,u);if(v<=l)return v}return-1}_adjustRangeWithSeparators(l,u){let v=this._findSeparatorAround(l);v>=0&&(l=v);let w=this._findSeparatorAround(u);return w>=0&&(u=w+this.thousandsSeparator.length),[l,u]}remove(l,u){l===void 0&&(l=0),u===void 0&&(u=this.displayValue.length),[l,u]=this._adjustRangeWithSeparators(l,u);let v=this.value.slice(0,l),w=this.value.slice(u),C=this._separatorsCount(v.length);this._value=this._insertThousandsSeparators(this._removeThousandsSeparators(v+w));let S=this._separatorsCountFromSlice(v);return new tt({tailShift:(S-C)*this.thousandsSeparator.length})}nearestInputPos(l,u){if(!this.thousandsSeparator)return l;switch(u){case F.NONE:case F.LEFT:case F.FORCE_LEFT:{let v=this._findSeparatorAround(l-1);if(v>=0){let w=v+this.thousandsSeparator.length;if(l<w||this.value.length<=w||u===F.FORCE_LEFT)return v}break}case F.RIGHT:case F.FORCE_RIGHT:{let v=this._findSeparatorAround(l);if(v>=0)return v+this.thousandsSeparator.length}}return l}doCommit(){if(this.value){let l=this.number,u=l;this.min!=null&&(u=Math.max(u,this.min)),this.max!=null&&(u=Math.min(u,this.max)),u!==l&&(this.unmaskedValue=this.format(u,this));let v=this.value;this.normalizeZeros&&(v=this._normalizeZeros(v)),this.padFractionalZeros&&this.scale>0&&(v=this._padFractionalZeros(v)),this._value=v}super.doCommit()}_normalizeZeros(l){let u=this._removeThousandsSeparators(l).split(this.radix);return u[0]=u[0].replace(/^(\D*)(0*)(\d*)/,(v,w,C,S)=>w+S),l.length&&!/\d$/.test(u[0])&&(u[0]=u[0]+"0"),u.length>1&&(u[1]=u[1].replace(/0*$/,""),u[1].length||(u.length=1)),this._insertThousandsSeparators(u.join(this.radix))}_padFractionalZeros(l){if(!l)return l;let u=l.split(this.radix);return u.length<2&&u.push(""),u[1]=u[1].padEnd(this.scale,"0"),u.join(this.radix)}doSkipInvalid(l,u,v){u===void 0&&(u={});let w=this.scale===0&&l!==this.thousandsSeparator&&(l===this.radix||l===ht.UNMASKED_RADIX||this.mapToRadix.includes(l));return super.doSkipInvalid(l,u,v)&&!w}get unmaskedValue(){return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix,ht.UNMASKED_RADIX)}set unmaskedValue(l){super.unmaskedValue=l}get typedValue(){return this.parse(this.unmaskedValue,this)}set typedValue(l){this.rawInputValue=this.format(l,this).replace(ht.UNMASKED_RADIX,this.radix)}get number(){return this.typedValue}set number(l){this.typedValue=l}get allowNegative(){return this.min!=null&&this.min<0||this.max!=null&&this.max<0}get allowPositive(){return this.min!=null&&this.min>0||this.max!=null&&this.max>0}typedValueEquals(l){return(super.typedValueEquals(l)||ht.EMPTY_VALUES.includes(l)&&ht.EMPTY_VALUES.includes(this.typedValue))&&!(l===0&&this.value==="")}}Rt=ht,ht.UNMASKED_RADIX=".",ht.EMPTY_VALUES=[...gt.EMPTY_VALUES,0],ht.DEFAULTS=ft(ot({},gt.DEFAULTS),{mask:Number,radix:",",thousandsSeparator:"",mapToRadix:[Rt.UNMASKED_RADIX],min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,scale:2,normalizeZeros:!0,padFractionalZeros:!1,parse:Number,format:L=>L.toLocaleString("en-US",{useGrouping:!1,maximumFractionDigits:20})}),q.MaskedNumber=ht;let Wt={MASKED:"value",UNMASKED:"unmaskedValue",TYPED:"typedValue"};function we(L,l,u){l===void 0&&(l=Wt.MASKED),u===void 0&&(u=Wt.MASKED);let v=J(L);return w=>v.runIsolated(C=>(C[l]=w,C[u]))}function We(L,l,u,v){return we(l,u,v)(L)}q.PIPE_TYPE=Wt,q.createPipe=we,q.pipe=We;class Kt extends et{get repeatFrom(){var l;return(l=Array.isArray(this.repeat)?this.repeat[0]:this.repeat===1/0?0:this.repeat)!=null?l:0}get repeatTo(){var l;return(l=Array.isArray(this.repeat)?this.repeat[1]:this.repeat)!=null?l:1/0}constructor(l){super(l)}updateOptions(l){super.updateOptions(l)}_update(l){var u,v,w;let V=G(l),{repeat:C}=V,S=Mt(V,["repeat"]);this._blockOpts=Object.assign({},this._blockOpts,S);let T=J(this._blockOpts);this.repeat=(u=(v=C!=null?C:T.repeat)!=null?v:this.repeat)!=null?u:1/0,super._update({mask:"m".repeat(Math.max(this.repeatTo===1/0&&((w=this._blocks)==null?void 0:w.length)||0,this.repeatFrom)),blocks:{m:T},eager:T.eager,overwrite:T.overwrite,skipInvalid:T.skipInvalid,lazy:T.lazy,placeholderChar:T.placeholderChar,displayChar:T.displayChar})}_allocateBlock(l){if(l<this._blocks.length)return this._blocks[l];if(this.repeatTo===1/0||this._blocks.length<this.repeatTo)return this._blocks.push(J(this._blockOpts)),this.mask+="m",this._blocks[this._blocks.length-1]}_appendCharRaw(l,u){u===void 0&&(u={});let v=new tt;for(let V=(w=(C=this._mapPosToBlock(this.displayValue.length))==null?void 0:C.index)!=null?w:Math.max(this._blocks.length-1,0),X,it;X=(S=this._blocks[V])!=null?S:it=!it&&this._allocateBlock(V);++V){var w,C,S,T;let _t=X._appendChar(l,ft(ot({},u),{_beforeTailState:(T=u._beforeTailState)==null||(T=T._blocks)==null?void 0:T[V]}));if(_t.skip&&it){this._blocks.pop(),this.mask=this.mask.slice(1);break}if(v.aggregate(_t),_t.consumed)break}return v}_trimEmptyTail(l,u){var v,w;l===void 0&&(l=0);let C=Math.max(((v=this._mapPosToBlock(l))==null?void 0:v.index)||0,this.repeatFrom,0),S;u!=null&&(S=(w=this._mapPosToBlock(u))==null?void 0:w.index),S==null&&(S=this._blocks.length-1);let T=0;for(let V=S;C<=V&&!this._blocks[V].unmaskedValue;--V,++T);T&&(this._blocks.splice(S-T+1,T),this.mask=this.mask.slice(T))}reset(){super.reset(),this._trimEmptyTail()}remove(l,u){l===void 0&&(l=0),u===void 0&&(u=this.displayValue.length);let v=super.remove(l,u);return this._trimEmptyTail(l,u),v}totalInputPositions(l,u){return l===void 0&&(l=0),u==null&&this.repeatTo===1/0?1/0:super.totalInputPositions(l,u)}get state(){return super.state}set state(l){this._blocks.length=l._blocks.length,this.mask=this.mask.slice(0,this._blocks.length),super.state=l}}q.RepeatBlock=Kt;try{globalThis.IMask=q}catch(L){}O.ChangeDetails=tt,O.ChunksTailDetails=At,O.DIRECTION=F,O.HTMLContenteditableMaskElement=Xt,O.HTMLInputMaskElement=ee,O.HTMLMaskElement=ne,O.InputMask=je,O.MaskElement=Ot,O.Masked=gt,O.MaskedDate=Tt,O.MaskedDynamic=dt,O.MaskedEnum=St,O.MaskedFunction=De,O.MaskedNumber=ht,O.MaskedPattern=et,O.MaskedRange=se,O.MaskedRegExp=st,O.PIPE_TYPE=Wt,O.PatternFixedDefinition=ve,O.PatternInputDefinition=ae,O.RepeatBlock=Kt,O.createMask=J,O.createPipe=we,O.default=q,O.forceDirection=K,O.normalizeOpts=G,O.pipe=We,Object.defineProperty(O,"__esModule",{value:!0})})});var qt=class O{constructor(M){this.obj=M,this.control=document.createElement(M),this.body=document.body,this.widgets=[],this.events_list=[]}HasClass(M){let R=this.control.classList;for(let B of R)if(B==M)return!0;return!1}Clear(){for(let M of this.widgets)M.Delete();this.widgets.length=0}Dispose(){}Delete(){this.Clear(),this.RemoveEvents(),this.Dispose(),this.control.remove()}AddStyle(M,R=""){if(typeof M=="object")for(let B in M)this.control.style.setProperty(B,M[B]);else typeof M=="string"&&this.control.style.setProperty(M,R);return this}AddClass(M){if(typeof M=="string")this.control.classList.add(M);else if(M instanceof Array)for(let R of M)typeof R=="string"&&this.control.classList.add(R);return this}DeleteClass(M){if(typeof M=="string")this.control.classList.remove(M);else if(M instanceof Array)for(let R of M)typeof R=="string"&&this.control.classList.remove(R);return this}DeleteAttr(M){if(typeof M=="string")this.control.removeAttribute(M);else if(M instanceof Array)for(let R of M)this.control.removeAttribute(R);return this}AddAttr(M,R=""){if(typeof M=="object")for(let B in M)this.control.setAttribute(B,M[B]);else typeof M=="string"&&this.control.setAttribute(M,R);return this}GetAttr(M){return this.control.getAttribute(M)}AddValue(M){return(this.control instanceof HTMLInputElement||this.control instanceof HTMLSelectElement)&&(typeof M=="string"?this.control.value=M:(this.control.type=="radio"||this.control.type=="checkbox")&&(this.control.checked=M)),this}GetValue(){if(this.control instanceof HTMLInputElement||this.control instanceof HTMLSelectElement){if(typeof this.control.value=="string")return this.control.value;if(this.control.type=="radio"||this.control.type=="checkbox")return this.control.checked}else if(this.control instanceof HTMLTextAreaElement)return this.control.value;return!1}__Escape(M){let R={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return M.replace(/[&<>"']/g,function(B){return R[B]})}Html(M=null){return M!=null?(this.control.innerHTML=M,this):this.control.innerHTML}Text(M=null){return M!=null?(this.control.innerHTML=this.__Escape(M),this):this.control.innerText}Show(){return this.control.style.display="",this}Hide(){return this.control.style.display="none",this}Add(M){if(M instanceof O)this.widgets.push(M),this.control.appendChild(M.control);else if(M instanceof Array)for(let R of M)R instanceof O&&(this.widgets.push(R),this.control.appendChild(R.control));return this}Prepend(M){if(M instanceof O)this.widgets.push(M),this.control.prepend(M.control);else if(M instanceof Array)for(let R of M)R instanceof O&&(this.widgets.push(R),this.control.prepend(R.control));return this}AddEventListener(M,R){return this.control.addEventListener(M,R),this.events_list.push([M,R]),this}RemoveEvents(){for(let M of this.events_list)console.log(`Clean up: ${M[0]} - ${M[1]}`),this.control.removeEventListener(M[0],M[1]);return this.events_list.length=0,this}};var te=class extends qt{constructor(){super("div")}};var Ie=class extends qt{constructor(){super("span")}};var bi=class extends qt{constructor(){super("input")}},eo=class extends qt{constructor(){super("button")}};var io=class O extends qt{constructor(M=null){super("div"),typeof O.obj=="undefined"&&(this.AddStyle({width:"100%",height:"100%",position:"relative"}),this.Hide(),this.body.appendChild(this.control),O.obj=this)}Navigate(M){return O.obj.Clear(),O.obj.Add(M),this}Run(){return O.obj.Show(),this}};var Sl=Oa(Pa(),1);var El=Oa(Ba(),1);var ro=class extends eo{constructor(M){super();let{text:R,color:B,block:F,active:K,size:rt,prefix_icon:lt,suffix_icon:Z,variant:q,spinner:pt}=M;if(this.spin=new Ie,pt!=null&&(this.spin=new Ie,this.spin.AddStyle({marginRight:"2px",marginLeft:"2px"}),pt.variant!=null?this.spin.AddClass(`spinner-${pt.variant}`):this.spin.AddClass("spinner-border"),pt.size!=null?this.spin.AddClass(`spinner-${pt.variant}-${pt.size}`):this.spin.AddClass("spinner-border-sm"),super.Add(this.spin)),lt!=null){let G=new no({icon:lt});super.Add(G),R!=null&&G.AddStyle({marginRight:"5px"})}if(R!=null&&typeof R=="string"&&super.Add(new xi({text:R})),R!=null&&R instanceof qt&&super.Add(R),Z!=null){let G=new no({icon:Z});super.Add(G),R!=null&&G.AddStyle({marginLeft:"5px"})}super.AddClass("btn"),B!=null&&(q!=null?super.AddClass(`btn-${q}-${B}`):super.AddClass(`btn-${B}`)),F!=null&&F&&super.AddClass("btn-block"),K!=null&&K?super.AddClass("active"):K!=null&&!K&&super.AddClass("disabled"),rt!=null&&super.AddClass(`btn-${rt}`),this.HideLoader()}ShowLoader(){return this.Disabled(),this.spin.Show(),this}HideLoader(){return this.Enabled(),this.spin.Hide(),this}Disabled(){return super.AddAttr({disabled:""}),this}Enabled(){return super.DeleteAttr("disabled"),this}PopOver(M){return super.AddEventListener("click",R=>{console.dir(`TOP:${this.control.offsetTop} - LEFT: ${this.control.offsetLeft} - WIDTH:${this.control.clientWidth} - HEIGHT:${this.control.clientHeight}`)}),this}};var no=class extends Ie{constructor(M){if(super(),typeof M=="string")this.gicon=M,super.AddClass(["glyphicon",`glyphicon-${M}`]);else{let{icon:R,size:B}=M;super.AddClass(["glyphicon",`glyphicon-${R}`]),B!=null&&super.AddStyle({fontSize:`${B}px`}),this.gicon=R}}Update(M){let{icon:R}=M;return super.DeleteClass(`glyphicon-${this.gicon}`),super.AddClass(["glyphicon",`glyphicon-${R}`]),this.gicon=R,this}};var xi=class extends te{constructor(M){if(super(),typeof M=="object"){let{text:R,textColor:B,textOverflow:F,width:K}=M;super.Text(R),B!=null&&super.AddClass(`text-${B}`),super.AddStyle({display:"inline-block"}),F!=null&&F&&super.AddStyle({whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}),K!=null&&super.AddStyle({width:`${K}px`})}else typeof M=="string"?super.Text(M):typeof M=="number"&&super.Text(M.toString())}};var ao=class extends te{constructor(M=null){if(super(),M==null)return;let{backgroundcolor:R,network_image:B,image:F,width:K,height:rt,shadow:lt,textAlign:Z,padding:q,margin:pt,hide:G,isFluid:J}=M;if(J!=null&&J&&super.AddClass("container-fluid"),R!=null&&super.AddClass(`bg-${R}`),K!=null&&super.AddStyle({width:`${K}px`}),rt!=null&&super.AddStyle({height:`${rt}px`}),lt!=null&&this.AddClass(`shadow-${lt}`),q!=null&&(q.all!=null?this.AddClass(`p-${q.all}`):(q.top!=null&&this.AddClass(`pt-${q.top}`),q.bottom!=null&&this.AddClass(`pb-${q.bottom}`),q.left!=null&&this.AddClass(`pl-${q.left}`),q.right!=null&&this.AddClass(`pr-${q.right}`))),pt!=null&&(pt.all!=null?this.AddClass(`m-${pt.all}`):(pt.top!=null&&this.AddClass(`mt-${pt.top}`),pt.bottom!=null&&this.AddClass(`mb-${pt.bottom}`),pt.left!=null&&this.AddClass(`ml-${pt.left}`),pt.right!=null&&this.AddClass(`mr-${pt.right}`))),Z!=null&&(super.AddStyle({display:"inline-block"}),this.AddClass(`align-text-${Z}`)),G!=null){let Ot=G.length;for(let Pt=0;Pt<Ot;Pt++)super.AddClass(`d-${G[Pt]}-none`)}}};var so=class extends te{constructor(M){if(super(),M instanceof Array){super.AddClass(["d-flex","flex-column"]);for(let R of M){let B=new te;R instanceof qt?this.AddWidget({widget:R}):typeof R=="number"?this.AddWidget({widget:new lo({height:R})}):typeof R=="string"&&this.AddWidget({widget:new xi(R)}),super.Add(B)}}else{let{widgets:R,reverse:B,justify:F,padding:K}=M;super.AddClass(["d-flex","flex-column"]),F!=null&&super.AddClass(`justify-content-${F}`),B!=null&&B==!0&&super.AddClass("flex-column-reverse"),this.pad=K;for(let rt of R){let lt=new te;K!=null&&K>0&&lt.AddClass(`p-${K}`),rt instanceof qt?this.AddWidget({widget:rt}):typeof rt=="number"?this.AddWidget({widget:new lo({height:rt})}):typeof rt=="string"&&this.AddWidget({widget:new xi(rt)}),super.Add(lt)}}}AddWidget(M){let{widget:R}=M,B=new te;return this.pad!=null&&this.pad>0&&B.AddClass(`p-${this.pad}`),B.Add(R),super.Add(B),this}},lo=class extends te{constructor(M){super(),super.AddStyle({display:"block"});let{width:R,height:B}=M;R!=null&&super.AddStyle({width:`${R}px`}),B!=null&&super.AddStyle({height:`${B}px`})}};var mr=new io,za=new ao,Va=new ro({text:"sample button",color:"primary"});Va.AddEventListener("click",()=>{alert("this button is clicked")});var Dl=new bi;za.Add(new so([Va,Dl]));mr.Navigate(za);mr.Run();var jd=mr;})();
/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */
/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */
//# sourceMappingURL=main.min.js.map
