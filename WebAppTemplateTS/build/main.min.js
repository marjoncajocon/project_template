(()=>{var j=Object.defineProperty;var O=(r,a,f)=>a in r?j(r,a,{enumerable:!0,configurable:!0,writable:!0,value:f}):r[a]=f;var l=(r,a,f)=>O(r,typeof a!="symbol"?a+"":a,f);var C=(r,a,f)=>new Promise((e,t)=>{var s=n=>{try{d(f.next(n))}catch(u){t(u)}},i=n=>{try{d(f.throw(n))}catch(u){t(u)}},d=n=>n.done?e(n.value):Promise.resolve(n.value).then(s,i);d((f=f.apply(r,a)).next())});var c=class r{constructor(a){l(this,"obj");l(this,"control");l(this,"body");l(this,"widgets");l(this,"events_list");this.obj=a,this.control=document.createElement(a),this.body=document.body,this.widgets=[],this.events_list=[]}HasClass(a){let f=this.control.classList;for(let e of f)if(e==a)return!0;return!1}Clear(){for(let a of this.widgets)a.Delete();this.widgets.length=0}Dispose(){}Delete(){this.Clear(),this.RemoveEvents(),this.Dispose(),this.control.remove()}AddStyle(a,f=""){if(typeof a=="object")for(let e in a)this.control.style[e]=a[e];else typeof a=="string"&&(this.control.style[a]=f);return this}AddClass(a){if(typeof a=="string")this.control.classList.add(a);else if(a instanceof Array)for(let f of a)typeof f=="string"&&this.control.classList.add(f);return this}DeleteClass(a){if(typeof a=="string")this.control.classList.remove(a);else if(a instanceof Array)for(let f of a)typeof f=="string"&&this.control.classList.remove(f);return this}DeleteAttr(a){if(typeof a=="string")this.control.removeAttribute(a);else if(a instanceof Array)for(let f of a)this.control.removeAttribute(f);return this}AddAttr(a,f=""){if(typeof a=="object")for(let e in a)this.control.setAttribute(e,a[e]);else typeof a=="string"&&this.control.setAttribute(a,f);return this}GetAttr(a){return this.control.getAttribute(a)}AddValue(a){return(this.control instanceof HTMLInputElement||this.control instanceof HTMLSelectElement)&&(typeof a=="string"?this.control.value=a:(this.control.type=="radio"||this.control.type=="checkbox")&&(this.control.checked=a)),this}GetValue(){if(this.control instanceof HTMLInputElement||this.control instanceof HTMLSelectElement){if(typeof this.control.value=="string")return this.control.value;if(this.control.type=="radio"||this.control.type=="checkbox")return this.control.checked}return!1}__Escape(a){if(typeof a!="string")return a;let f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return a.replace(/[&<>"']/g,function(e){return f[e]})}Html(a=null){return a!=null?(this.control.innerHTML=a,this):this.control.innerHTML}Text(a=null){return a!=null?(this.control.innerHTML=this.__Escape(a),this):this.control.innerText}Show(){return this.control.style.display="inline-block",this}Hide(){return this.control.style.display="none",this}Add(a){if(a instanceof r)this.widgets.push(a),this.control.appendChild(a.control);else if(a instanceof Array)for(let f of a)f instanceof r&&(this.widgets.push(f),this.control.appendChild(f.control));return this}Prepend(a){if(a instanceof r)this.widgets.push(a),this.control.prepend(a.control);else if(a instanceof Array)for(let f of a)f instanceof r&&(this.widgets.push(f),this.control.prepend(f.control));return this}AddEventListener(a,f){return this.control.addEventListener(a,f),this.events_list.push([a,f]),this}RemoveEvents(){for(let a of this.events_list)console.log(`Clean up: ${a[0]} - ${a[1]}`),this.control.removeEventListener(a[0],a[1]);return this.events_list.length=0,this}};var o=class extends c{constructor(){super("div")}};var F=class extends c{constructor(){super("i")}};var w=class extends c{constructor(){super("label")}},S=class extends c{constructor(){super("input")}},g=class extends c{constructor(){super("button")}};var q=class extends c{constructor(a=null){super("div"),this.AddStyle({width:"100%",height:"100%",position:"relative"}),this.Hide(),this.body.appendChild(this.control)}Navigate(a){this.Clear(),this.Add(a)}Run(){this.Show()}};var L=class{constructor(a){l(this,"xml");l(this,"body");let{method:f="GET",url:e="",body:t=null,header:s={}}=a;if(this.xml=new XMLHttpRequest,this.xml.open(f,e,!0),typeof s=="object"){t instanceof FormData?delete s["Content-Type"]:typeof t=="object"&&(s["Content-Type"]="application/json",t=JSON.stringify(t));for(let i in s)this.xml.setRequestHeader(i,s[i])}typeof t=="string"&&(this.body=t)}Load(){return C(this,null,function*(){return this.xml.send(this.body),yield new Promise((f,e)=>{this.xml.addEventListener("load",function(){f(this.response)}),this.xml.addEventListener("error",function(){f(null)})})})}Then(a){this.xml.addEventListener("load",f=>{a(this.xml.response)})}Progress(a){typeof a=="function"&&this.xml.addEventListener("progress",f=>{a(f)})}UploadProgress(a){typeof a=="function"&&this.xml.upload.addEventListener("progress",f=>{a(f)})}};var E=class extends o{constructor(a=null){super(),super.AddClass(["w3-panel"]),a!=null&&super.AddClass(`w3-${a}`)}},x=class extends o{constructor(a={}){super(),super.AddClass(["w3-card"]);let{color:f,padding:e}=a;f!=null&&super.AddClass(`w3-${f}`),e!=null?super.AddStyle({padding:`${e}px`}):super.AddStyle({padding:"5px"})}AddItem(a){return super.Add(a),this}};var b=class extends g{constructor(f=null,e=null){super();l(this,"loader");l(this,"loader_txt");super.AddClass(["w3-btn"]),f instanceof c?super.Add(f):super.Html(f),e!=null&&super.AddClass(`w3-${e}`),this.loader=new o().AddClass("loader").AddStyle({position:"absolute",top:"5px",left:"5px"}).Hide(),this.loader_txt=new p().AddStyle({position:"absolute",top:"5px",left:"40px",color:"white",fontWeight:"bold"}),super.Add([this.loader,this.loader_txt])}Round(){return super.AddStyle({borderRadius:"20px"}),this}Size(f){return super.AddClass(`w3-${f}`),this}Circle(){return super.AddClass("w3-circle"),this}Block(){return super.AddClass("w3-block"),this}Button(){return super.AddClass("w3-button"),this}Ripple(){return super.AddClass("w3-ripple"),this}Border(){return super.AddClass("w3-border"),this}LoaderText(f){this.loader_txt.Text(f)}ShowLoader(){this.loader.Show(),super.AddAttr({disabled:""}),super.AddStyle({position:"relative"})}HideLoader(){super.DeleteAttr("disabled"),this.loader.Hide(),super.AddStyle({position:""})}},p=class extends o{constructor(a=null,f=null){super(),a!=null&&super.Text(a),f!=null&&super.AddClass(`w3-text-${f}`)}TextColor(){return super.AddStyle({color:"rgb(54, 54, 54)",fontSize:"10pt"}),this}SetTextColor(a){return super.AddClass(`w3-text-${a}`),this}Left(){return super.AddClass("w3-left-align"),this}Right(){return super.AddClass("w3-right-align"),this}};var v=class extends o{constructor(f=null,e="text",t=null,s=!1){super();l(this,"label");l(this,"tf");l(this,"error_label");l(this,"search");super.AddStyle({position:"relative"}),this.label=new w,this.tf=new S().AddClass(["w3-input"]),this.error_label=new w,f!=null&&(f instanceof c?this.label.Add(f):(this.label.Html(f),this.label.AddStyle({color:"rgb(54, 54, 54)",fontSize:"10pt"})),super.Add(this.label)),this.tf.AddAttr({type:e}),t!=null&&this.tf.AddAttr({placeholder:t}),super.Add([this.tf]),s&&super.Add(this.error_label),this.search=new x().Hide(),super.Add(this.search)}Filter(f){let{data:e=[],network:t=!1,url:s="/",token_key:i="X-Auth",token_value:d=""}=f;if(this.search.AddStyle({width:"100%",height:"100px",overflowY:"auto",position:"absolute",left:"0px",top:"63px",backgroundColor:"white",zIndex:"2"}),!t)this.tf.AddEventListener("keyup",()=>{this.search.Clear();let n=!1;for(let u of e)if(this.tf.GetValue()!=""&&u.value.toLowerCase().indexOf(this.tf.GetValue().toString().toLowerCase())>-1){n=!0;let h=new b().AddStyle({width:"100%",textAlign:"left",paddingLeft:"5px"});h.Text(u.value),h instanceof b&&h.Size("small"),this.search.Add(h),h.AddEventListener("click",()=>{this.tf.AddValue(u.key),this.search.Hide()})}n?this.search.Show():this.search.Hide()});else{let n=null;this.tf.AddEventListener("keyup",()=>{if(this.tf.GetValue().toString().trim()==""){this.search.Clear(),this.search.Hide();return}typeof n=="number"&&clearTimeout(n),n=setTimeout(()=>C(this,null,function*(){try{let u={};u["Content-Type"]="application/json",u[i]=d,this.search.Show();let h=new L({url:`${s}`,method:"POST",header:u,body:{search:this.tf.GetValue().toString()}});this.search.Clear();let z=JSON.parse(yield h.Load());console.log(z);for(let H of z){let m=new b;m.AddStyle({width:"100%",textAlign:"left",paddingLeft:"5px"}),m.Text(H.value),m.Size("small"),this.search.Add(m),m.AddEventListener("click",()=>{this.tf.AddValue(H.value),this.search.Hide()})}z.length>0?this.search.Show():this.search.Hide()}catch(u){console.log(u),this.search.Hide()}}),200)})}}Error(f=null){f!=null?(this.tf.AddClass("w3-border-red"),this.error_label.AddClass("w3-text-red"),this.error_label.Html(f)):(this.tf.DeleteClass("w3-border-red"),this.error_label.DeleteClass("w3-text-red"),this.error_label.Html(""))}SetIconPrefix(f){let{icon:e=null,size:t=20,color:s=null}=f;if(e!=null){let i=new y(e,s).AddStyle({position:"absolute",bottom:"10px",left:"5px",fontSize:`${t}px`,width:`${t}px`,height:`${t}px`});this.tf.AddStyle({paddingLeft:`${t+t/2}px`}),super.Add(i)}}SetIconSuffix(f){let{icon:e=null,size:t=20,color:s=null}=f;if(e!=null){let i=new y(e,s).AddStyle({position:"absolute",bottom:"10px",right:"5px",fontSize:`${t}px`,width:`${t}px`,height:`${t}px`});this.tf.AddStyle({paddingRight:`${t+t/2}px`}),super.Add(i)}return this}Size(f){return this.tf.AddClass(`w3-${f}`),this}LbelColor(f=null){return this.label.AddClass(`w3-text-${f}`),this}Round(){return this.tf.AddClass("w3-round"),this}Border(){return this.tf.AddClass("w3-border"),this}GetValue(){return this.tf.GetValue()}AddValue(f){return this.tf.AddValue(f),this}Disabled(){return this.tf.AddAttr({disabled:""}),this}Enabled(){return this.tf.DeleteAttr("disabled"),this}};var _=class extends o{constructor(a=!1){super(),super.AddClass("w3-row"),a&&super.AddClass(["w3-row-padding","w3-stretch"])}AddItem(a,f=[]){let e=new o().AddClass("w3-col");for(let t of f)t=="rest"?e.AddClass("w3-rest"):e.AddClass(t);return a instanceof c?e.Add(a):e.Html(a),super.Add(e),e}Padding(){return super.AddClass("w3-row-padding"),this}Section(){return super.AddClass("w3-section"),this}};var y=class extends F{constructor(a=null,f=null){super(),a!=null&&super.AddClass(["fa",`fa-${a}`]),f!=null&&super.AddClass(`w3-text-${f}`)}setColor(a){return super.AddClass(`w3-text-${a}`),this}};var k=class extends o{constructor(a=null,f=null){super(),super.AddStyle({display:"flex"}),f!=null&&super.AddStyle({FlexDirection:f});let e={};if(a instanceof c)super.Add(new o().AddStyle(e).Add(a));else if(a instanceof Array)for(let t of a)t instanceof c&&super.Add(new o().AddStyle(e).Add(t))}};var U=class extends o{constructor(){super(),super.AddStyle({position:"fixed",top:"0px",left:"0px",backgroundColor:"rgba(0, 0, 0, 0.1)",zIndex:"1000",height:"100%",width:"100%"}),this.Hide(),this.body.appendChild(this.control),this.AddEventListener("click",a=>{this.close()})}Open(){this.Show()}close(){this.Hide()}},A=class extends o{constructor(a){super(),super.AddStyle({width:"100%",height:"40px",paddingLeft:"15px",paddingTop:"6px",fontSize:"13pt",color:"inherit",backgroundColor:"rgba(0, 0, 0, 0.2)",cursor:"pointer"}),super.AddEventListener("mouseover",()=>{super.AddStyle({backgroundColor:"rgba(0, 0, 0, 0.1)"})}),super.AddEventListener("mouseout",()=>{super.AddStyle({backgroundColor:"rgba(0, 0, 0, 0.2)"})}),super.Add(new k([a.icon!=null?new y(a.icon).AddStyle({width:"30px"}):new p(""),a.title!=null?new p(a.title):new p("")]))}},W=class extends o{constructor(f){super();l(this,"content");l(this,"backdrop");if(this.content=new o().AddStyle({width:"100%",height:"calc(100% - 56px)",position:"fixed",top:"56px",left:"0",overflowY:"auto"}),this.backdrop=new U,f.appBar!=null){let e=new g;e.Html('<i class="fa fa-bars"></i>'),e.AddStyle({width:"40px",height:"40px",marginLeft:"5px",cursor:"pointer",backgroundColor:"rgba(0, 0, 0, 0)",border:"none",borderRadius:"50%",color:"inherit"});let t=new o;t.AddStyle({width:"100%",height:f.appBar.height!=null?`${f.appBar.height}px`:"56px",zIndex:"100",top:"0px",position:"fixed"}),t.AddClass(`w3-${f.appBar.color!=null?f.appBar.color:"blue"}`);let s=new k([f.appBar.drawer!=null?e:new p(""),f.appBar.title!=null&&typeof f.appBar.title=="string"?new p(f.appBar.title).AddStyle({fontWeight:"bold",fontSize:"15pt",marginTop:"5px",marginLeft:"5px"}):new p("")]);if(s.AddStyle({marginTop:"8px"}),t.Add(s),f.appBar.action!=null){let i=new o().AddStyle({position:"absolute",right:"2px",top:"0px"});i.Add(f.appBar.action),t.Add(i)}if(f.appBar.drawer!=null){let i=new o;if(i.AddEventListener("click",d=>{d.stopPropagation()}),i.AddStyle({width:"240px",height:"100%",position:"absolute",top:"0px",left:"0px"}),f.appBar.drawer.header!=null){i.AddClass("w3-animate-left");let d=new o;d.AddStyle({height:"56px",width:"100%",borderBottom:"1px solid rgba(0, 0, 0, 0.3)"});let n=new k([f.appBar.title!=null&&typeof f.appBar.drawer.header.title=="string"?new p(f.appBar.drawer.header.title).AddStyle({fontWeight:"bold",fontSize:"15pt",marginTop:"10px",marginLeft:"10px"}):f.appBar.drawer.header.title instanceof c?f.appBar.drawer.header.title:new p("")]);d.Add(n),i.Add(d)}if(f.appBar.drawer.color!=null?i.AddClass(`w3-${f.appBar.drawer.color}`):i.AddClass("w3-white"),this.backdrop.Add(i),e.AddEventListener("click",()=>{console.log("Drawer clicked!"),this.backdrop.Open()}),f.appBar.drawer.item!=null){let d=new o;d.AddStyle({height:"calc(100% - 57px)",width:"100%",overflowY:"auto",paddingLeft:"10px",paddingRight:"10px",paddingTop:"10px",paddingBottom:"10px"});for(let n of f.appBar.drawer.item)d.Add(n.AddStyle({marginBottom:"1px",borderRadius:"5px"})),n.AddEventListener("click",()=>{this.backdrop.close()});i.Add(d)}}super.Add(t)}f.body!=null&&this.UpdateBody(f.body),super.Add(this.content)}UpdateBody(f){this.content.Clear(),this.content.Add(f)}Dispose(){this.backdrop.Delete()}};var R=class extends o{constructor(){super();let a=new W({appBar:{title:"Inventory System",color:"green",drawer:{header:{icon:"bell",title:"I.S"},color:"green",item:[new A({title:"Dashboard",icon:"home"}),new A({title:"About",icon:"calendar"})]}}});super.Add(a)}},D=R;var $=class extends E{constructor(){super();let a=new v("Username","text","Enter Username").Border(),f=new v("Password","password","Enter Password").Border(),e=new b("Sign In","blue").Size("small").AddStyle({marginTop:"5px"}),t=new _;t.AddItem(new p("."),["m4"]),t.AddItem(new x({color:"white",padding:10}).AddItem([a,f,e]),["m4"]),t.AddItem(new p("."),["m4"]),e.AddEventListener("click",()=>{B.Navigate(new D)}),super.Add(t)}},M=$;var T=new q;T.Navigate(new M);T.Run();var B=T;})();
