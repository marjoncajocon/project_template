(()=>{var B=Object.defineProperty;var R=(r,a,f)=>a in r?B(r,a,{enumerable:!0,configurable:!0,writable:!0,value:f}):r[a]=f;var i=(r,a,f)=>R(r,typeof a!="symbol"?a+"":a,f);var v=(r,a,f)=>new Promise((e,t)=>{var o=n=>{try{b(f.next(n))}catch(s){t(s)}},d=n=>{try{b(f.throw(n))}catch(s){t(s)}},b=n=>n.done?e(n.value):Promise.resolve(n.value).then(o,d);b((f=f.apply(r,a)).next())});var l=class r{constructor(a){i(this,"obj");i(this,"control");i(this,"body");i(this,"widgets");i(this,"events_list");this.obj=a,this.control=document.createElement(a),this.body=document.body,this.widgets=[],this.events_list=[]}HasClass(a){let f=this.control.classList;for(let e of f)if(e==a)return!0;return!1}Clear(){for(let a of this.widgets)a.Delete();this.widgets.length=0}Dispose(){}Delete(){this.Clear(),this.RemoveEvents(),this.Dispose(),this.control.remove()}AddStyle(a,f=""){if(typeof a=="object")for(let e in a)this.control.style[e]=a[e];else typeof a=="string"&&(this.control.style[a]=f);return this}AddClass(a){if(typeof a=="string")this.control.classList.add(a);else if(a instanceof Array)for(let f of a)typeof f=="string"&&this.control.classList.add(f);return this}DeleteClass(a){if(typeof a=="string")this.control.classList.remove(a);else if(a instanceof Array)for(let f of a)typeof f=="string"&&this.control.classList.remove(f);return this}DeleteAttr(a){if(typeof a=="string")this.control.removeAttribute(a);else if(a instanceof Array)for(let f of a)this.control.removeAttribute(f);return this}AddAttr(a,f=""){if(typeof a=="object")for(let e in a)this.control.setAttribute(e,a[e]);else typeof a=="string"&&this.control.setAttribute(a,f);return this}GetAttr(a){return this.control.getAttribute(a)}AddValue(a){return(this.control instanceof HTMLInputElement||this.control instanceof HTMLSelectElement)&&(typeof a=="string"?this.control.value=a:(this.control.type=="radio"||this.control.type=="checkbox")&&(this.control.checked=a)),this}GetValue(){if(this.control instanceof HTMLInputElement||this.control instanceof HTMLSelectElement){if(typeof this.control.value=="string")return this.control.value;if(this.control.type=="radio"||this.control.type=="checkbox")return this.control.checked}return!1}__Escape(a){if(typeof a!="string")return a;let f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return a.replace(/[&<>"']/g,function(e){return f[e]})}Html(a=null){return a!=null?(this.control.innerHTML=a,this):this.control.innerHTML}Text(a=null){return a!=null?(this.control.innerHTML=this.__Escape(a),this):this.control.innerText}Show(){return this.control.style.display="inline-block",this}Hide(){return this.control.style.display="none",this}Add(a){if(a instanceof r)this.widgets.push(a),this.control.appendChild(a.control);else if(a instanceof Array)for(let f of a)f instanceof r&&(this.widgets.push(f),this.control.appendChild(f.control));return this}Prepend(a){if(a instanceof r)this.widgets.push(a),this.control.prepend(a.control);else if(a instanceof Array)for(let f of a)f instanceof r&&(this.widgets.push(f),this.control.prepend(f.control));return this}AddEventListener(a,f){return this.control.addEventListener(a,f),this.events_list.push([a,f]),this}RemoveEvents(){for(let a of this.events_list)console.log(`Clean up: ${a[0]} - ${a[1]}`),this.control.removeEventListener(a[0],a[1]);return this.events_list.length=0,this}};var c=class extends l{constructor(){super("div")}};var y=class extends l{constructor(){super("i")}};var w=class extends l{constructor(){super("label")}},k=class extends l{constructor(){super("input")}},A=class extends l{constructor(){super("button")}};var C=class extends l{constructor(a=null){super("div"),this.AddStyle({width:"100%",height:"100%",position:"relative"}),this.Hide(),this.body.appendChild(this.control)}Navigate(a){this.Clear(),this.Add(a)}Run(){this.Show()}};var F=class{constructor(a){i(this,"xml");i(this,"body");let{method:f="GET",url:e="",body:t=null,header:o={}}=a;if(this.xml=new XMLHttpRequest,this.xml.open(f,e,!0),typeof o=="object"){t instanceof FormData?delete o["Content-Type"]:typeof t=="object"&&(o["Content-Type"]="application/json",t=JSON.stringify(t));for(let d in o)this.xml.setRequestHeader(d,o[d])}typeof t=="string"&&(this.body=t)}Load(){return v(this,null,function*(){return this.xml.send(this.body),yield new Promise((f,e)=>{this.xml.addEventListener("load",function(){f(this.response)}),this.xml.addEventListener("error",function(){f(null)})})})}Then(a){this.xml.addEventListener("load",f=>{a(this.xml.response)})}Progress(a){typeof a=="function"&&this.xml.addEventListener("progress",f=>{a(f)})}UploadProgress(a){typeof a=="function"&&this.xml.upload.addEventListener("progress",f=>{a(f)})}};var S=class extends c{constructor(a=null){super(),super.AddClass(["w3-panel"]),a!=null&&super.AddClass(`w3-${a}`)}},g=class extends c{constructor(a={}){super(),super.AddClass(["w3-card"]);let{color:f,padding:e}=a;f!=null&&super.AddClass(`w3-${f}`),e!=null?super.AddStyle({padding:`${e}px`}):super.AddStyle({padding:"5px"})}AddItem(a){return super.Add(a),this}};var u=class extends A{constructor(f=null,e=null){super();i(this,"loader");i(this,"loader_txt");super.AddClass(["w3-btn"]),f instanceof l?super.Add(f):super.Html(f),e!=null&&super.AddClass(`w3-${e}`),this.loader=new c().AddClass("loader").AddStyle({position:"absolute",top:"5px",left:"5px"}).Hide(),this.loader_txt=new h().AddStyle({position:"absolute",top:"5px",left:"40px",color:"white",fontWeight:"bold"}),super.Add([this.loader,this.loader_txt])}Round(){return super.AddStyle({borderRadius:"20px"}),this}Size(f){return super.AddClass(`w3-${f}`),this}Circle(){return super.AddClass("w3-circle"),this}Block(){return super.AddClass("w3-block"),this}Button(){return super.AddClass("w3-button"),this}Ripple(){return super.AddClass("w3-ripple"),this}Border(){return super.AddClass("w3-border"),this}LoaderText(f){this.loader_txt.Text(f)}ShowLoader(){this.loader.Show(),super.AddAttr({disabled:""}),super.AddStyle({position:"relative"})}HideLoader(){super.DeleteAttr("disabled"),this.loader.Hide(),super.AddStyle({position:""})}},h=class extends c{constructor(a=null,f=null){super(),a!=null&&super.Text(a),f!=null&&super.AddClass(`w3-text-${f}`)}TextColor(){return super.AddStyle({color:"rgb(54, 54, 54)",fontSize:"10pt"}),this}SetTextColor(a){return super.AddClass(`w3-text-${a}`),this}Left(){return super.AddClass("w3-left-align"),this}Right(){return super.AddClass("w3-right-align"),this}};var x=class extends c{constructor(f=null,e="text",t=null,o=!1){super();i(this,"label");i(this,"tf");i(this,"error_label");i(this,"search");super.AddStyle({position:"relative"}),this.label=new w,this.tf=new k().AddClass(["w3-input"]),this.error_label=new w,f!=null&&(f instanceof l?this.label.Add(f):(this.label.Html(f),this.label.AddStyle({color:"rgb(54, 54, 54)",fontSize:"10pt"})),super.Add(this.label)),this.tf.AddAttr({type:e}),t!=null&&this.tf.AddAttr({placeholder:t}),super.Add([this.tf]),o&&super.Add(this.error_label),this.search=new g().Hide(),super.Add(this.search)}Filter(f){let{data:e=[],network:t=!1,url:o="/",token_key:d="X-Auth",token_value:b=""}=f;if(this.search.AddStyle({width:"100%",height:"100px",overflowY:"auto",position:"absolute",left:"0px",top:"63px",backgroundColor:"white",zIndex:"2"}),!t)this.tf.AddEventListener("keyup",()=>{this.search.Clear();let n=!1;for(let s of e)if(this.tf.GetValue()!=""&&s.value.toLowerCase().indexOf(this.tf.GetValue().toString().toLowerCase())>-1){n=!0;let p=new u().AddStyle({width:"100%",textAlign:"left",paddingLeft:"5px"});p.Text(s.value),p instanceof u&&p.Size("small"),this.search.Add(p),p.AddEventListener("click",()=>{this.tf.AddValue(s.key),this.search.Hide()})}n?this.search.Show():this.search.Hide()});else{let n=null;this.tf.AddEventListener("keyup",()=>{if(this.tf.GetValue().toString().trim()==""){this.search.Clear(),this.search.Hide();return}typeof n=="number"&&clearTimeout(n),n=setTimeout(()=>v(this,null,function*(){try{let s={};s["Content-Type"]="application/json",s[d]=b,this.search.Show();let p=new F({url:`${o}`,method:"POST",header:s,body:{search:this.tf.GetValue().toString()}});this.search.Clear();let E=JSON.parse(yield p.Load());console.log(E);for(let z of E){let m=new u;m.AddStyle({width:"100%",textAlign:"left",paddingLeft:"5px"}),m.Text(z.value),m.Size("small"),this.search.Add(m),m.AddEventListener("click",()=>{this.tf.AddValue(z.value),this.search.Hide()})}E.length>0?this.search.Show():this.search.Hide()}catch(s){console.log(s),this.search.Hide()}}),200)})}}Error(f=null){f!=null?(this.tf.AddClass("w3-border-red"),this.error_label.AddClass("w3-text-red"),this.error_label.Html(f)):(this.tf.DeleteClass("w3-border-red"),this.error_label.DeleteClass("w3-text-red"),this.error_label.Html(""))}SetIconPrefix(f){let{icon:e=null,size:t=20,color:o=null}=f;if(e!=null){let d=new L(e,o).AddStyle({position:"absolute",bottom:"10px",left:"5px",fontSize:`${t}px`,width:`${t}px`,height:`${t}px`});this.tf.AddStyle({paddingLeft:`${t+t/2}px`}),super.Add(d)}}SetIconSuffix(f){let{icon:e=null,size:t=20,color:o=null}=f;if(e!=null){let d=new L(e,o).AddStyle({position:"absolute",bottom:"10px",right:"5px",fontSize:`${t}px`,width:`${t}px`,height:`${t}px`});this.tf.AddStyle({paddingRight:`${t+t/2}px`}),super.Add(d)}return this}Size(f){return this.tf.AddClass(`w3-${f}`),this}LbelColor(f=null){return this.label.AddClass(`w3-text-${f}`),this}Round(){return this.tf.AddClass("w3-round"),this}Border(){return this.tf.AddClass("w3-border"),this}GetValue(){return this.tf.GetValue()}AddValue(f){return this.tf.AddValue(f),this}Disabled(){return this.tf.AddAttr({disabled:""}),this}Enabled(){return this.tf.DeleteAttr("disabled"),this}};var q=class extends c{constructor(a=!1){super(),super.AddClass("w3-row"),a&&super.AddClass(["w3-row-padding","w3-stretch"])}AddItem(a,f=[]){let e=new c().AddClass("w3-col");for(let t of f)t=="rest"?e.AddClass("w3-rest"):e.AddClass(t);return a instanceof l?e.Add(a):e.Html(a),super.Add(e),e}Padding(){return super.AddClass("w3-row-padding"),this}Section(){return super.AddClass("w3-section"),this}};var L=class extends y{constructor(a=null,f=null){super(),a!=null&&super.AddClass(["fa",`fa-${a}`]),f!=null&&super.AddClass(`w3-text-${f}`)}setColor(a){return super.AddClass(`w3-text-${a}`),this}};var _=class extends S{constructor(){super();let a=new x("Username","text","Enter Username").Border(),f=new x("Password","password","Enter Password").Border(),e=new u("Sign In","blue").Size("small").AddStyle({marginTop:"5px"}),t=new q;t.AddItem(new h("."),["m4"]),t.AddItem(new g({color:"white",padding:10}).AddItem([a,f,e]),["m4"]),t.AddItem(new h("."),["m4"]),super.Add(t)}},U=_;var W=new C;W.Navigate(new U);W.Run();var $=W;})();
