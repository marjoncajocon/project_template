(()=>{var ht=Object.defineProperty;var mt=Object.getPrototypeOf;var bt=Reflect.get;var gt=(o,a,e)=>a in o?ht(o,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[a]=e;var Ke=(o,a,e)=>gt(o,typeof a!="symbol"?a+"":a,e);var q=(o,a,e)=>bt(mt(o),e,a);var s=(o,a,e)=>new Promise((t,f)=>{var r=c=>{try{d(e.next(c))}catch(u){f(u)}},i=c=>{try{d(e.throw(c))}catch(u){f(u)}},d=c=>c.done?t(c.value):Promise.resolve(c.value).then(r,i);d((e=e.apply(o,a)).next())});var A=class o{constructor(a){this.obj=a,this.control=document.createElement(a),this.body=document.body,this.widgets=[],this.events_list=[]}hasClass(a){let e=this.control.classList;for(let t of e)if(t==a)return!0;return!1}getContainer(){return this.control}control(){return this.control}clear(){for(let a of this.widgets)typeof a.dispose=="function"&&a.dispose(),a.removeEvents(),a.clear(),a.control.remove(),a.widgets=[];return this.widgets=[],this}remove(a=0){typeof this.widgets[a]!="undefined"&&(this.widgets[a].clear(),this.widgets[a].control.remove()),this.widgets.splice(a,1),this.control.remove()}delete(){this.removeEvents(),this.clear(),this.control.remove()}style(a={},e=""){if(typeof a=="object")for(let t in a)this.control.style[t]=a[t];else typeof a=="string"&&(this.control.style[a]=e);return this}setStyle(a={},e=""){if(typeof a=="object")for(let t in a)this.control.style[t]=a[t];else typeof a=="string"&&(this.control.style[a]=e);return this}class(a=null){if(a!=null){if(typeof a=="string")this.control.classList.add(a);else if(a instanceof Array)for(let e of a)typeof e=="string"&&this.control.classList.add(e);return this}}addClass(a){if(typeof a=="string")this.control.classList.add(a);else if(a instanceof Array)for(let e of a)typeof e=="string"&&this.control.classList.add(e);return this}removeClass(a){if(typeof a=="string")this.control.classList.remove(a);else if(a instanceof Array)for(let e of a)typeof e=="string"&&this.control.classList.remove(e);return this}attr(a=null,e=""){if(a!=null){if(typeof a=="object")for(let t in a)this.control.setAttribute(t,a[t]);else typeof a=="string"&&this.control.setAttribute(a,e);return this}}removeAttr(a=null){if(typeof a=="string")this.control.removeAttribute(a);else if(a instanceof Array)for(let e of a)this.control.removeAttribute(e);return this}setAttr(a={},e=""){if(typeof a=="object")for(let t in a)this.control.setAttribute(t,a[t]);else typeof a=="string"&&this.control.setAttribute(a,e);return this}getAttr(a){return this.control.getAttribute(a)}setValue(a){return this.control.value=a,this}getValue(){return this.control.value}__escape(a){if(typeof a!="string")return a;let e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return a.replace(/[&<>"']/g,function(t){return e[t]})}value(a=null){if(this.obj==="input"||this.obj==="select"||this.obj=="textarea")return a!=null?(this.control.value=a,null):this.control.value;throw new TypeError(`${this.name} dont have value method`)}html(a=null){return a!=null?(this.control.innerHTML=a,this):this.control.innerHTML}text(a=null){return a!=null?(this.control.innerHTML=this.__escape(a),this):this.control.innerText}show(){return this.control.style.display="inline-block",this}hide(){return this.control.style.display="none",this}setHTML(a){return this.control.innerHTML=a,this}add(a){if(a instanceof o)this.widgets.push(a),this.control.appendChild(a.control);else if(a instanceof Array)for(let e of a)e instanceof o&&(this.widgets.push(e),this.control.appendChild(e.control));return this}prepend(a){if(a instanceof o)this.widgets.push(a),this.control.prepend(a.control);else if(a instanceof Array)for(let e of a)e instanceof o&&(this.widgets.push(e),this.control.prepend(e.control));return this}addEventListener(a,e){return this.control.addEventListener(a,e),this.events_list.push([a,e]),this}removeEvents(){for(let a of this.events_list)this.control.removeEventListener(a[0],a[1]);return this.events_list=[],this}action(a,e){return this.control.addEventListener(a,e),this.events_list.push([a,e]),this}};var Da=class extends A{constructor(){super("hr")}};var ja=class extends A{constructor(){super("ul")}},Oa=class extends A{constructor(){super("li")}};var x=class extends A{constructor(){super("div")}},ba=class extends A{constructor(){super("a")}};var Pa=class extends A{constructor(){super("i")}};var ga=class extends A{constructor(){super("span")}};var Ga=class extends A{constructor(){super("img")}},ya=class extends A{constructor(){super("iframe")}};var Ja=class extends A{constructor(){super("audio")}};var Ma=class extends A{constructor(){super("table")}};var Va=class extends A{constructor(){super("tr")}},Ha=class extends A{constructor(){super("td")}},Wa=class extends A{constructor(){super("th")}};var oa=class extends A{constructor(){super("label")}},na=class extends A{constructor(){super("input")}},xa=class extends A{constructor(){super("button")}},Ya=class extends A{constructor(){super("select")}};var Xa=class extends A{constructor(){super("option")}},Ka=class extends A{constructor(){super("textarea")}};var va=class extends A{constructor(){super("center")}},Za=class extends A{constructor(a){if(super("div"),this.setStyle({width:"100%",height:"100%",position:"relative"}),typeof a=="object"){let{app:e=null,title:t="",width:f=null,height:r=null}=a}this.hide(),this.body.appendChild(this.control)}navigate(a){this.clear(),this.add(a)}run(){this.show()}},ka=class{s2ab(a){for(var e=new ArrayBuffer(a.length),t=new Uint8Array(e),f=0;f!=a.length;++f)t[f]=a.charCodeAt(f)&255;return e}getBlob({base64:a=null,type:e="application/pdf"}){if(a!=null)return new Blob([this.s2ab(atob(a))],{type:e})}},qa=class{constructor(a){let{method:e="GET",url:t="",body:f=null,header:r={}}=a;if(this.xml=new XMLHttpRequest,this.xml.open(e,t,!0),typeof r=="object"){f instanceof FormData?delete r["Content-Type"]:typeof f=="object"&&(r["Content-Type"]="application/json",f=JSON.stringify(f));for(let i in r)this.xml.setRequestHeader(i,r[i])}this.body=f}load(){return s(this,null,function*(){return this.xml.send(this.body),yield new Promise((e,t)=>{this.xml.addEventListener("load",function(){e(this.response)}),this.xml.addEventListener("error",function(){e(null)})})})}then(a){this.xml.addEventListener("load",function(e){a(this.response)})}progress(a){typeof a=="function"&&this.xml.addEventListener("progress",e=>{a(e)})}upload_progress(a){typeof a=="function"&&this.xml.upload.addEventListener("progress",e=>{a(e)})}};var _={Colors:{black:"black",red:"red",pink:"pink",purple:"purple","deep-purple":"deep-purple",indigo:"indigo",blue:"blue","light-blue":"light-blue",cyan:"cyan",aqua:"aqua",teal:"teal",green:"green","light-green":"light-green",lime:"lime",sand:"sand",khaki:"khaki",yellow:"yellow",amber:"amber",orange:"orange","deep-orange":"deep-orange","blue-gray":"blue-gray",brown:"brown","light-gray":"light-gray",gray:"gray","dark-gray":"dark-gray","pale-red":"pale-red","pale-yellow":"pale-yellow","pale-green":"pale-green","pale-blue":"pale-blue","flat-turquoise":"flat-turquoise","flat-emerald":"flat-emerald","ios-dark-blue":"ios-dark-blue","flat-peter-river":"flat-peter-river","flat-amethyst":"flat-amethyst","flat-wet-asphalt":"flat-wet-asphalt","flat-green-sea":"flat-green-sea","flat-nephritis":"flat-nephritis","flat-belize-hole":"flat-belize-hole","flat-wisteria":"flat-wisteria","flat-midnight-blue":"flat-midnight-blue","flat-sun-flower":"flat-sun-flower","flat-carrot":"flat-carrot","flat-alizarin":"flat-alizarin","flat-clouds":"flat-clouds","flat-concrete":"flat-concrete","flat-orange":"flat-orange","flat-pumpkin":"flat-pumpkin","flat-pomegranate":"flat-pomegranate","flat-silver":"flat-silver","flat-asbestos":"flat-asbestos","ios-deep-blue":"ios-deep-blue","ios-blue":"ios-blue","ios-light-blue":"ios-light-blue","ios-green":"ios-green","ios-pink":"ios-pink","ios-red":"ios-red","ios-orange":"ios-orange","ios-yellow":"ios-yellow","ios-grey":"ios-grey","ios-light-grey":"ios-light-grey","ios-background":"ios-background","win8-lime":"win8-lime","win8-green":"win8-green","win8-emerald":"win8-emerald","win8-teal":"win8-teal","win8-cyan":"win8-cyan","win8-blue":"win8-blue","win8-cobalt":"win8-cobalt","win8-indigo":"win8-indigo","win8-violet":"win8-violet","win8-pink":"win8-pink","win8-magenta":"win8-magenta","win8-crimson":"win8-crimson","win8-red":"win8-red","win8-orange":"win8-orange","win8-amber":"win8-amber","win8-yellow":"win8-yellow","win8-brown":"win8-brown","win8-olive":"win8-olive","win8-steel":"win8-steel","win8-mauve":"win8-mauve","win8-taupe":"win8-taupe","win8-sienna":"win8-sienna"},Sizes:{tiny:"w3-tiny",small:"w3-small",large:"w3-large",xlarge:"w3-xlarge",xxlarge:"w3-xxlarge",xxxlarge:"w3-xxxlarge"},Direction:{topleft:"topleft",topright:"topright",bottomleft:"bottomleft",bottomright:"bottomright",left:"left",right:"right",middle:"middle",top:"top",bottom:"bottom",topmiddle:"topmiddle",bottommiddle:"bottommiddle"},GetDirection:function(o){if(typeof this.Direction[o]!="undefined")return o;throw new TypeError("wrong direction!")},GetSize:function(o){if(typeof this.Sizes[o]!="undefined")return o;throw new TypeError("wrong sized!")},GetColor:function(o){if(typeof this.Colors[o]!="undefined")return o;throw new TypeError("wrong color!")}},ia=class extends x{constructor(){super(),super.class(["w3-container"])}};var M=class extends x{constructor(a=null){super(),super.class(["w3-panel"]),a!=null&&super.class(`w3-${_.GetColor(a)}`)}},R=class extends x{constructor(a=null){super(),super.class(["w3-card"]),a!=null&&super.class(`w3-${_.GetColor(a)}`)}},Qa=class extends x{constructor(a=null){if(super(),super.class("w3-bar"),this.lists=[],a instanceof A)a.class("w3-bar-item"),super.add(a),this.lists.push(a);else if(a instanceof Array)for(let e of a)e.class("w3-bar-item"),super.add(e),this.lists.push(e)}round(){return this.lists.length>0&&(this.lists[0].style({borderTopLeftRadius:"20px",borderBottomLeftRadius:"20px"}),this.lists[this.lists.length-1].style({borderTopRightRadius:"20px",borderBottomRightRadius:"20px"})),this}},b=class extends xa{constructor(a=null,e=null){super(),super.class(["w3-btn"]),a instanceof A?super.add(a):super.html(a),e!=null&&super.class(`w3-${_.GetColor(e)}`),this.loader=new x().class("loader").style({position:"absolute",top:"5px",left:"5px"}).hide(),this.loader_txt=new l().style({position:"absolute",top:"5px",left:"40px",color:"white",fontWeight:"bold"}),super.add([this.loader,this.loader_txt])}round(){return super.style({borderRadius:"20px"}),this}size(a){return super.class(`w3-${_.GetSize(a)}`),this}circle(){return super.class("w3-circle"),this}block(){return super.class("w3-block"),this}button(){return super.class("w3-button"),this}ripple(){return super.class("w3-ripple"),this}border(){return super.class("w3-border"),this}loaderText(a){this.loader_txt.text(a)}showLoader(){this.loader.show(),super.attr({disabled:""}),super.style({position:"relative"})}hideLoader(){super.removeAttr("disabled"),this.loader.hide(),super.style({position:""})}},l=class extends x{constructor(a=null,e=null){super(),a!=null&&super.text(a),e!=null&&super.class(`w3-text-${_.GetColor(e)}`)}textColor(){return super.style({color:"rgb(54, 54, 54)",fontSize:"10pt"}),this}setTextColor(a){return super.class(`w3-text-${_.GetColor(a)}`),this}left(){return super.class("w3-left-align"),this}right(){return super.class("w3-right-align"),this}},U=class extends x{constructor(a=null){super(),a!=null&&super.html(a)}left(){return super.class("w3-left-align"),this}right(){return super.class("w3-right-align"),this}},B=class extends x{constructor(a,e=0,t=0){super(),super.class("w3-responsive"),super.add(a),e!=0&&super.style({height:`${e}px`,overflowY:"auto",position:"relative"}),t!=0&&super.style({padding:`${t}px`})}},I=class extends Ma{constructor(a=[],e=null,t=null,f=null,r=!1){super(),super.class(["c-table","w3-table-all"]),e!=null?super.class([`w3-${_.GetSize(e)}`]):super.class([`w3-${_.GetSize("small")}`]);let i=new Va,d=a.length;for(let c=0;c<d;c++){let u=a[c],m=new Wa().html(u);t!=null&&m.class(`w3-${_.GetColor(t)}`),f!=null?m.style({height:`${f}px`}):m.style({height:"0px",padding:"0px"}),i.add(m),r&&m.style({position:"sticky",top:"0px",zIndex:"100",backgroundColor:"white",color:"black",border:"1px solid #ddd"})}super.add(i),this.rows=[]}add(a=[],e=[],t=0){let f=new Va;for(let r=0;r<a.length;r++){let i=a[r],d=new Ha;t!=0&&d.style({padding:`${t}px`}),i instanceof A?d.add(i):d.html(i),f.add(d),e&&typeof e[r]!="undefined"&&typeof e[r].style!="undefined"&&d.style(e[r].style)}return super.add(f),this.rows.push(f),f}clearBody(){for(let a of this.rows)a.delete();return this.rows=[],this}striped(){return super.class("c-table-striped"),this}border(){return super.class("c-table-border"),this}all(){return super.class("w3-table-all"),this}center(){return super.class("w3-centered"),this}hover(){return super.class("c-table-hover"),this}},aa=class extends ja{constructor(a=null){super(),super.class("w3-ul"),a!=null&&super.class(`w3-${_.GetSize(a)}`)}add(a=null,e=null,t=null){let f=new Oa;return e!=null&&f.class(`w3-${_.GetColor(e)}`),a instanceof A?f.add(a):f.html(a),t!=null&&f.class(`w3-hover-${_.GetColor(t)}`),super.add(f),f}border(){return super.class("w3-border"),this}center(){return super.class("w3-center"),this}hover(){return super.class("w3-hoverable"),this}},g=class extends x{constructor(a=null,e="text",t=null,f=!1){super(),super.style({position:"relative"}),this.label=new oa,this.tf=new na().class(["w3-input"]),this.error_label=new oa,a!=null&&(a instanceof A?this.label.add(a):this.label.html(a).style({color:"rgb(54, 54, 54)",fontSize:"10pt"}),super.add(this.label)),this.tf.attr("type",e),t!=null&&this.tf.attr("placeholder",t),super.add([this.tf]),f&&super.add(this.error_label),this.search=new R().hide(),super.add(this.search)}filter({data:a=[],network:e=!1,url:t="/",token_key:f="X-Auth",token_value:r=""}){if(this.search.style({width:"100%",height:"100px",overflowY:"auto",position:"absolute",left:"0px",top:"63px",backgroundColor:"white",zIndex:"2"}),!e)this.tf.addEventListener("keyup",()=>{this.search.clear();let i=!1;for(let d of a)if(this.tf.getValue()!=""&d.value.toLowerCase().indexOf(this.tf.getValue().toLowerCase())>-1){i=!0;let c=new b().style({width:"100%",textAlign:"left",paddingLeft:"5px"}).text(d.value).size("tiny");this.search.add(c),c.addEventListener("click",()=>{this.tf.setValue(d.value),this.search.hide()})}i?this.search.show():this.search.hide()});else{let i=null;this.tf.addEventListener("keyup",()=>{if(this.tf.getValue().trim()==""){this.search.clear(),this.search.hide();return}clearTimeout(i),i=setTimeout(()=>s(this,null,function*(){try{let d={};d["Content-Type"]="application/json",d[f]=r,this.search.show();let c=new qa({url:`${t}`,method:"POST",header:d,body:{search:this.tf.getValue()}});this.search.clear();let u=JSON.parse(yield c.load());for(let m of u){let z=new b().style({width:"100%",textAlign:"left",paddingLeft:"5px"}).text(m.value).size("tiny");this.search.add(z),z.addEventListener("click",()=>{this.tf.setValue(m.value),this.search.hide()})}u.length>0?this.search.show():this.search.hide()}catch(d){this.search.hide()}}),200)})}return this}error(a=null){return a!=null?(this.tf.class(`w3-border-${_.GetColor("red")}`),this.error_label.class(`w3-text-${_.GetColor("red")}`),this.error_label.html(a)):(this.tf.removeClass(`w3-border-${_.GetColor("red")}`),this.error_label.removeClass(`w3-text-${_.GetColor("red")}`),this.error_label.html("")),this}setIconPrefix({icon:a=null,size:e=20,color:t=null}){if(a!=null){let f=new w(a,t).style({position:"absolute",bottom:"10px",left:"5px",fontSize:`${e}px`,width:`${e}px`,height:`${e}px`});this.tf.style({paddingLeft:`${e+e/2}px`}),super.add(f)}return this}setIconSuffix({icon:a=null,size:e=20,color:t=null}){if(a!=null){let f=new w(a,t).style({position:"absolute",bottom:"10px",right:"5px",fontSize:`${e}px`,width:`${e}px`,height:`${e}px`});this.tf.style({paddingRight:`${e+e/2}px`}),super.add(f)}return this}size(a){return this.tf.class(`w3-${_.GetSize(a)}`),this}labelColor(a=null){return this.label.class(`w3-text-${_.GetColor(a)}`),this}round(){return this.tf.class("w3-round"),this}border(){return this.tf.class("w3-border"),this}getValue(){return this.tf.value()}setValue(a){return this.tf.value(a),this}disabled(){return this.tf.attr("disabled",""),this}enabled(){return this.tf.removeAttr("disabled"),this}},ae=class extends x{constructor(a=null,e=null,t=!1){super(),this.label=new oa,this.tf=new Ka().class(["w3-input"]),this.error_label=new oa,a!=null&&(a instanceof A?this.label.add(a):this.label.html(a),super.add(this.label)),e!=null&&this.tf.attr("placeholder",e),super.add([this.tf]),t&&super.add(this.error_label)}error(a=null){return a!=null?(this.tf.class(`w3-border-${_.GetColor("red")}`),this.error_label.class(`w3-text-${_.GetColor("red")}`),this.error_label.html(a)):(this.tf.removeClass(`w3-border-${_.GetColor("red")}`),this.error_label.removeClass(`w3-text-${_.GetColor("red")}`),this.error_label.html("")),this}size(a){return this.tf.class(`w3-${_.GetSize(a)}`),this}labelColor(a=null){return this.label.class(`w3-text-${_.GetColor(a)}`),this}round(){return this.tf.class("w3-round"),this}border(){return this.tf.class("w3-border"),this}getValue(){return this.tf.value()}setValue(a){return this.tf.value(a),this}disabled(){return this.tf.attr("disabled",""),this}enabled(){return this.tf.removeAttr("disabled"),this}};var N=class extends Ya{constructor(){super(),super.class("w3-select")}add(a,e){let t=new Xa;return t.attr({value:a}),t.html(e),super.add(t),t}enabled(){return this.removeAttr("disabled"),this}disabled(){return this.attr("disabled",""),this}size(a){return this.class(`w3-${_.GetSize(a)}`),this}border(){return super.class("w3-border"),this}setValue(a){return super.value(a),this}getValue(){return super.value()}};var Z=class extends ga{constructor(a=null,e=null,t=null){super(),super.class("w3-tags"),t!=null&&super.class(`w3-${_.GetSize(t)}`),e!=null&&super.class(`w3-${_.GetColor(e)}`),a!=null&&super.html(a)}textColor(a){return super.class(`w3-text-${_.GetColor(a)}`),this}border(){return super.class("w3-border"),this}},$=class extends x{constructor(a=!1){super(),super.class("w3-row"),a&&super.class(["w3-row-padding","w3-stretch"])}add(a,e=[]){let t=new x().class("w3-col");for(let f of e)f=="rest"?t.class("w3-rest"):t.class(f);return a instanceof A?t.add(a):t.html(a),super.add(t),t}padding(){return super.class("w3-row-padding"),this}section(){return super.class("w3-section"),this}},O=class extends x{constructor(a=null,e=null){super(),super.class("w3-bar"),super.style({"overflow-x":"auto","white-space":"nowrap"}),a!=null&&super.class(`w3-${_.GetColor(a)}`),e!=null&&super.class(`w3-${_.GetSize(e)}`)}block(){return super.class("w3-bar-block"),this}add(a=null,e=!1,t=null,f=null,r=null,i=null){let d=new x().class("w3-bar-item");return a instanceof A?d.add(a):d.html(a),t!=null&&d.class(`w3-hover-${_.GetColor(t)}`),f!=null&&typeof f=="function"&&d.addEventListener("click",f),this.mobile&&d.class("w3-mobile"),r!=null&&d.class(`w3-hover-${_.GetColor(r)}`),i!=null&&d.class(`w3-hover-${_.GetColor(i)}`),e&&d.class("w3-right"),super.add(d),d}};var w=class extends Pa{constructor(a=null,e=null){super(),a!=null&&super.class(["fa",`fa-${a}`]),e!=null&&super.class(`w3-text-${_.GetColor(e)}`)}setColor(a){return super.class(`w3-text-${_.GetColor(a)}`),this}},de=class o extends oa{constructor(a=null){if(super(),a instanceof A)super.add(a);else if(a instanceof Array)for(let e of a)e instanceof A?super.add(e):super.add(new o(e));else super.text(a)}};var Ca=class extends x{constructor({bgColor:a=null,size:e=null,round:t=!1,roundContent:f=!1}){super(),this.round=t,this.lists=[],this.grid=new $,this.side_bar=new x().class(["w3-card"]),a!=null&&this.side_bar.class(`w3-${_.GetColor(a)}`),this.content=new x().style({width:"100%"}).class("w3-card"),this.grid.add(this.side_bar,["s12","m3","l2"]);let r=new n().add(this.content).style({paddingLeft:"5px"});this.grid.add(r,["s12","m9","l10"]),window.innerWidth<=600&&r.style({paddingTop:"10px",paddingLeft:""}),f&&this.content.style({borderRadius:"10px"}),super.add([this.grid])}checkRound(){if(this.round){for(let a of this.lists)a.style({borderTopRightRadius:"",borderTopLeftRadius:"",borderBottomRightRadius:"",borderBottomLeftRadius:""});this.side_bar.style({borderRadius:"10px"}),this.lists[0].style({borderTopRightRadius:"10px",borderTopLeftRadius:"10px"}),this.lists[this.lists.length-1].style({borderBottomRightRadius:"10px",borderBottomLeftRadius:"10px"})}}addActive(a){for(let e of this.lists)e.removeClass("w3-rtab-active");a.addClass("w3-rtab-active")}add({title:a=null,fn:e=null,active:t=!1,color:f=null}){let r=new xa().style({width:"100%",textAlign:"left",paddingLeft:"10px",fontSize:"8pt"}).class(["w3-bar-item","w3-button","tablink"]);return a instanceof A?r.add(a):r.html(a),this.side_bar.add(r),typeof e=="function"&&r.addEventListener("click",()=>{this.addActive(r),this.content.clear(),e(this.content)}),t&&(this.addActive(r),e(this.content)),this.lists.push(r),this.checkRound(),this}},la=class extends x{constructor({bgColor:a=null,size:e=null,borderRadius:t=0}){super(),this.menu=new x().style({width:"100%",borderTopRightRadius:"10px",borderTopLeftRadius:"10px",border:"1px solid #e3e3e3",borderBottom:"none"}),this.borderRadius=t,t>0&&this.menu.style({borderRadius:`${t}px`}),a!=null&&this.menu.class(`w3-${_.GetColor(a)}`),e!=null&&this.menu.class(`w3-${_.GetSize(e)}`),this.content=new x,super.add([this.menu,this.content]),this.list=[]}clearActive(){for(let a of this.list)a.removeClass("w3-tab-active")}add({title:a=null,fn:e=null,active:t=!1,color:f=null}){if(!(a instanceof A)){let r=new xa().class(["w3-bar-item","w3-button","tablink"]).html(a).style({borderTopLeftRadius:"8px",borderTopRightRadius:"8px",border:"1px solid rgba(0, 0, 0, 0)"});this.menu.add(r),this.list.push(r),t&&(r.class("w3-tab-active"),this.content.clear(),e(this.content)),typeof e=="function"&&r.addEventListener("click",()=>{this.clearActive(),r.class("w3-tab-active"),this.content.clear(),e(this.content)})}}},G=class extends x{constructor(){super(),super.style({border:"2px solid #e3e3e3",borderTop:"none",position:"relative"})}round(){return super.style({borderBottomRightRadius:"10px",borderBottomLeftRadius:"10px"}),this}},ee=class extends x{constructor(a=null,e=null,t=null){super(),super.class(["w3-bar"]),t!=null&&super.class(`w3-${_.GetSize(t)}`);let f=new ba().attr({href:"#",class:"w3-bar-item w3-button"}).html("&laquo;"),r=new ba().attr({href:"#",class:"w3-bar-item w3-button"}).html("&raquo;");super.add(f),this.between=new ga,super.add(this.between),super.add(r),this.change_fn=a,this.links=[],this.current_page=1,e!=null?this.active_color=`w3-${_.GetColor(e)}`:this.active_color=`w3-${_.GetColor("green")}`;let i=d=>{if(this.links.length!=0){this.current_page+=d,this.current_page<=1&&(this.current_page=1),this.current_page>this.links[this.links.length-1].num&&(this.current_page=this.links[this.links.length-1].num);for(let c of this.links)c.link.removeClass(this.active_color);this.links[this.current_page-1].link.addClass(this.active_color),typeof this.change_fn=="function"&&this.change_fn(this.links[this.current_page-1].num)}};r.addEventListener("click",()=>{i(1)}),f.addEventListener("click",()=>{i(-1)})}border(){return super.class("w3-border"),this}add(a=null,e=null,t=null,f=null){if(e=e==null?!1:e,a!=null&&typeof a!="number")throw new TypeError("add in pagination must be a number!");let r=new ba().attr({href:"#",class:"w3-bar-item w3-button"}).html(`${a}`);if(f!=null&&r.style(f),this.between.add(r),this.links.push({num:a,link:r}),r.addEventListener("click",()=>{for(let i of this.links)i.link.removeClass(this.active_color);r.addClass(this.active_color),typeof this.change_fn=="function"&&this.change_fn(a),this.current_page=a}),e){for(let i of this.links)i.link.removeClass(this.active_color);r.addClass(this.active_color),typeof this.change_fn=="function"&&(t==null||t)&&this.change_fn(a),this.current_page=a}return r}},da=class extends x{constructor(a=null){super(),super.class(["w3-light-grey","w3-round"]).style({height:"20px"}),this.con=new x().class(["w3-container","w3-round",`w3-${a==null?"blue":_.GetColor(a)}`]).style({width:"1%",height:"100%"}),super.add(this.con)}update(a,e=null){this.con.style({width:`${a}%`}),e!=null&&this.con.html(`${e}%`)}},pa=class extends x{constructor(){super(),super.class("w3-center")}},L=class o extends x{constructor(a=null,e=null,t=null,f="top"){if(super(),super.class("w3-modal").style({zIndex:"1000"}),this.resolvefn=null,this.content=new x().class(["w3-modal-content","w3-card-4"]).style({borderRadius:"10px"}),f!=null&&this.content.class(`w3-animate-${f}`),e!=null&&this.content.style({width:e,maxWidth:"98%"}),a!=null){let r=new R().add(new de(a)).style({padding:"15px",position:"relative",borderTopRightRadius:"10px",borderTopLeftRadius:"10px"}),i=new b("X").style({position:"absolute",top:"10px",right:"10px"}).size("tiny");r.add(i),t!=null&&r.class(`w3-${_.GetColor(t)}`),this.content.add(new x().class(["w3-container"])),this.content.add(r),i.addEventListener("click",()=>{this.hide()})}super.add(this.content)}add(a=null){if(a instanceof A)this.content.add(a);else throw new TypeError("obj must instance of Widget")}show(){return s(this,null,function*(){return q(o.prototype,this,"show").call(this),ea.add(this),new Promise((e,t)=>{this.resolvefn=e})})}hide(a=null){this.resolvefn(a),super.hide(),this.delete(),typeof this.dispose=="function"&&this.dispose()}};var te=class extends x{constructor(a="middle"){super(),super.class(`w3-display-${_.GetDirection(a)}`)}},n=class extends x{constructor(a=null,e=null){if(super(),a instanceof A)super.add(new x().class(["w3-cell",e==null?"w3-cell-top":`w3-cell-${_.GetDirection(e)}`]).add(a));else if(a instanceof Array)for(let t of a)t instanceof A&&super.add(new x().class(["w3-cell",e==null?"w3-cell-top":`w3-cell-${_.GetDirection(e)}`]).add(t))}},H=class extends x{constructor(a=null){if(super(),a instanceof A)super.add(new x().class("w3-row").add(a));else if(a instanceof Array)for(let e of a)e instanceof A&&super.add(new x().class("w3-row").add(e))}},ca=class extends Ga{constructor(){super(),super.class("w3-image")}path(a){return super.attr({src:a}),super.style({"-webkit-filter":"blur(8px)",filter:"blur(8px)"}),super.addEventListener("load",()=>{super.style({"-webkit-filter":"",filter:""})}),this}default(){return super.style({objectFit:"cover"}),this}base64(){return this}sepia(){return super.class("w3-sepia"),this}sepiaMin(){return super.class("w3-sepia-min"),this}sepiaMax(){return super.class("w3-sepia-max"),this}hoverOpacity(){return super.class("w3-hover-opacity"),this}hoverGrayScale(){return super.class("w3-hover-grayscale"),this}hoverSepia(){return super.class("w3-hover-sepia"),this}round(){return super.class("w3-round"),this}circle(){return super.class("w3-circle"),this}border(){return super.class("w3-border"),this}padding(){return super.class("w3-padding"),this}},p=class extends x{constructor(a=null,e=null){super(),super.class("w3-cell"),super.style({width:"1px",height:"1px"}),a!=null&&super.style({width:typeof a=="number"?`${a}px`:a}),e!=null&&super.style({width:typeof e=="number"?`${e}px`:e})}};var ce=class o extends L{constructor(a,e="sand"){super(new n([new w("message"),new p(10),new l("Alert")]),"480px",e);let t=new b(new n([new w("check"),new p(5),new l("OK")]),"blue").size("small").style({borderRadius:"20px"});super.add(new M().style({padding:"0px 20px 20px 20px"}).add(new H([new U(`<p>${a}</p>`).style({fontSize:"13pt"}),new n([t,new p(10)])]))),t.addEventListener("click",()=>s(this,null,function*(){q(o.prototype,this,"hide").call(this,!0)}))}},ue=class o extends L{constructor(a,e){super(new n([new w("question-circle"),new p(10),new l("Confirmation")]),"480px",e,"bottom");let t=new b(new n([new w("check"),new p(5),new l("OK")]),"blue").size("small").style({borderRadius:"20px"}),f=new b(new n([new w("close"),new p(5),new l("CANCEL")]),"red").size("small").style({borderRadius:"20px"});super.add(new M().style({padding:"0px 20px 20px 20px"}).add(new H([new U(`<p>${a}</p>`).style({fontSize:"13pt"}),new n([t,new p(5),f])]))),t.addEventListener("click",()=>s(this,null,function*(){q(o.prototype,this,"hide").call(this,!0)})),f.addEventListener("click",()=>{super.hide(!1)})}},h=(o="Alert",a="sand")=>s(void 0,null,function*(){return new ce(o,a).show()}),j=(o="Confirm",a="red")=>s(void 0,null,function*(){return new ue(o,a).show()}),F=class extends x{constructor(a=null,e=null){super(),a!=null&&super.style({width:`${a}px`}),e!=null&&super.style({width:`${e}px`}),super.class("loader")}show(){super.show()}hide(){super.delete()}},Ea=class extends oa{constructor({check:a=!1,size:e=30,round:t=!1}){super(),super.class("switch"),this.tf=new na,this.tf.attr({type:"checkbox"});let f=new ga().class("slider");t&&f.class("round"),this.tf.control.checked=a,super.add([this.tf,f])}setValue(a=!0){return this.tf.control.checked=a,this}getValue(){return this.tf.control.checked}disabled(){return this.tf.attr("disabled",""),this}enabled(){return this.tf.removeAttr("disabled"),this}},D=class extends Da{constructor(){super()}dotted(){return super.style({borderStyle:"dotted"}),this}dashed(){return super.style({borderStyle:"dashed"}),this}},ta=class extends x{constructor(a,e=0){super(),super.add(a),e!=0&&super.style({padding:`${e}px`})}};var pe=class extends n{constructor(){super();let a=new O("light-gray");a.add(new n([new w("question-circle"),new p(5),new l("About")])),super.add([a,new U(`
                The Erequest system offers a streamlined and systematic approach to document requests, ensuring clarity and efficiency throughout the process. Users can easily submit requests, track their progress, and manage related communications within a centralized platform. A key feature of the system is its real-time notification capability, which keeps users informed about the status of their requests at every stage. Instant alerts are delivered upon submission, approval, processing, and completion, eliminating delays and improving responsiveness. This enhanced visibility empowers requesters and administrators alike, enabling proactive management and timely action. The system also provides comprehensive audit trails, ensuring accountability and transparency. Furthermore, Erequest simplifies collaboration, facilitating seamless communication and document sharing among stakeholders. By automating and centralizing the request process, Erequest saves time, reduces errors, and enhances overall productivity.
            `).style({padding:"20px",textIndent:"50px",textAlign:"justify"})])}},Ze=pe;var yt=(f,...r)=>s(void 0,[f,...r],function*(o,a={},e=null,t=null){let i=new qa({url:`${config_url}${o}`,method:"POST",header:{"Content-Type":"application/json","X-Auth":localStorage.getItem("xauth")},body:a});return typeof e=="function"&&i.progress(e),typeof t=="function"&&i.upload_progress(t),yield i.load()}),S=yt;var we=class{constructor(){this.base_url=""}getDashboard(){return s(this,null,function*(){return JSON.parse(yield S("/api/system/report-dashboard"))})}getDepartment(){return s(this,null,function*(){return JSON.parse(yield S("/api/office/all")).data})}getDocument(){return s(this,null,function*(){return JSON.parse(yield S("/api/document/all")).data})}sendRequest(a){return s(this,null,function*(){return JSON.parse(yield S("/api/document/request",a))})}requestInfo(a){return s(this,null,function*(){return JSON.parse(yield S("/api/document/info",{code:a}))})}getAllDocument(r){return s(this,arguments,function*({offset:a=1,status:e="",search:t="",date:f=""}){return JSON.parse(yield S("/api/document/search",{offset:parseInt(a),status:e,search:t,date:f}))})}getAuthV1(a,e){return s(this,null,function*(){return JSON.parse(yield S("/api/user/signin",{uname:a,upass:e}))})}removeAuth(){return s(this,null,function*(){return JSON.parse(yield S("/api/user/signout"))})}getAllUsers(){return s(this,null,function*(){return JSON.parse(yield S("/api/user/getall"))})}getUserInfo(a){return s(this,null,function*(){return JSON.parse(yield S("/api/user/info",{id:a}))})}updateRequest(d){return s(this,arguments,function*({code:a="",status:e="",remark_key:t="",remark_desc:f="",file:r=[],fn:i=null}){let c=new FormData;return c.append("code",a),c.append("status",e),c.append("remark_key",t),c.append("remark_desc",f),c.append("file",JSON.stringify(r)),JSON.parse(yield S("/api/document/request_update",c,null,i))})}seenDocument(e){return s(this,arguments,function*({id:a=""}){return JSON.parse(yield S("/api/document/seen",{id:a}))})}downloadFile(f){return s(this,arguments,function*({code:a="",id:e="",fn:t=r=>{}}){return JSON.parse(yield S("/api/document/download",{code:a,id:e},t))})}viewForm(t){return s(this,arguments,function*({code:a="",fn:e=null}){return JSON.parse(yield S("/api/document/view-form",{code:a},e))})}registerUser(a,e,t,f,r){return s(this,null,function*(){return JSON.parse(yield S("/api/user/create?q=create",{id:a,name:e,uname:f,upass:r,position:t}))})}updateUser(a,e,t,f,r){return s(this,null,function*(){return JSON.parse(yield S("/api/user/create?q=update",{id:a,name:e,uname:f,upass:r,position:t}))})}removeUser(a){return s(this,null,function*(){return JSON.parse(yield S("/api/user/remove",{id:a}))})}isBrowserAuth(){return s(this,null,function*(){return JSON.parse(yield S("/api/user/verify")).ok})}changeMyPassword(a,e){return s(this,null,function*(){return JSON.parse(yield S("/api/user/changemypassword",{newpassword:a,oldpassword:e}))})}getRegistration(){return s(this,null,function*(){return JSON.parse(yield S("/api/user/get-device-registration"))})}getDateTime(){return s(this,null,function*(){return JSON.parse(yield S("/api/system/datetime"))})}claim(f){return s(this,arguments,function*({date:a="",comment:e="",code:t=""}){return JSON.parse(yield S("/api/document/claim",{date:a,comment:e,code:t}))})}addFundCluster(u){return s(this,arguments,function*({id:a="",code:e="",name:t="",desc:f="",acc_no:r="",update:i=!1,bank_code:d="",bank_name:c=""}){return JSON.parse(yield S(`/api/cashier/config-add-fund-cluster?update=${i?1:0}`,{id:a,code:e,name:t,desc:f,acc_no:r,bank_code:d,bank_name:c}))})}getFundCluster(a){return s(this,arguments,function*({}){return JSON.parse(yield S("/api/cashier/config-get-fund-cluster"))})}removFundCluster(e){return s(this,arguments,function*({id:a=""}){return JSON.parse(yield S("/api/cashier/config-remove-fund-cluster",{id:a}))})}saveNaturePayment(d){return s(this,arguments,function*({id:a,code:e,name:t,desc:f,clusterid:r,update:i=!1}){return JSON.parse(yield S(`/api/cashier/config-save-naturepayment?update=${i?1:0}`,{id:a,code:e,name:t,desc:f,clusterid:r}))})}getNaturePayments(a){return s(this,arguments,function*({}){return JSON.parse(yield S("/api/cashier/config-get-naturepayment"))})}removeNaturePayments(e){return s(this,arguments,function*({id:a=null}){return JSON.parse(yield S("/api/cashier/config-remove-naturepayment",{id:a}))})}addCheckAndDV(r){return s(this,arguments,function*({check_data:a="",dv_data:e="",is_update:t="0",sys_id:f=""}){return JSON.parse(yield S(`/api/cashier/check-add-full?u=${t}&sys_id=${f}`,{check_data:a,dv_data:e}))})}deleteCheckAndDv(e){return s(this,arguments,function*({check_id:a=""}){return JSON.parse(yield S("/api/cashier/check-dv-delete",{check_id:a}))})}getCheckAndDv(t){return s(this,arguments,function*({search:a="",account_id:e=""}){return JSON.parse(yield S("/api/cashier/get-dv-check",{search:a,account:e}))})}getCheckReport(r){return s(this,arguments,function*({fn:a=null,from:e="",to:t="",nature_id:f=""}){return JSON.parse(yield S("/api/cashier/get-check-report",{from:e,to:t,nature_id:f},a))})}getNextIdGenerated(e){return s(this,arguments,function*({nature_id:a=""}){return JSON.parse(yield S("/api/cashier/get-auto-id-generator",{nature_id:a}))})}getUserRoleAvailable(){return s(this,null,function*(){return JSON.parse(yield S("/api/user/get-available-user"))})}setUserRole(f){return s(this,arguments,function*({id:a="",role:e="",isAdd:t=!0}){return JSON.parse(yield S("/api/user/set-user-role",{id:a,role:e,isadd:t}))})}checkUsername(e){return s(this,arguments,function*({username:a=""}){return JSON.parse(yield S("/api/user/check-username",{username:a}))})}},y=we;var za=class extends R{constructor({title:a="",value:e=""}){super(),super.style({width:"100%",height:"100px",position:"relative",padding:"10px",borderRadius:"20px"}),super.add(new l(a,"gray").style({letterSpacing:"2px",fontSize:"11px"})),this.myvalue=new l(e,"blue").style({fontWeight:"bold",position:"absolute",width:"100px",height:"20px",bottom:"30px",left:"0",right:"0",margin:"auto",textAlign:"center",fontSize:"20px"}),super.add(this.myvalue)}updateValue(a){this.myvalue=a}},he=class o extends n{constructor(){super();let a=new O("light-gray");a.add(new n([new w("dashboard"),new p(5),new l("Dashboard")])),s(this,null,function*(){let{req_today:e,total_req:t,total_req_approved:f,total_user_active:r}=yield this.load(),i=new $;i.add(new n().add(new za({title:"Req. Today",value:e})).style({padding:"10px"}),["s6","m6","l3"]),i.add(new n().add(new za({title:"Total Requests(All)",value:t})).style({padding:"10px"}),["s6","m6","l3"]),i.add(new n().add(new za({title:"Total Requests(Approve)",value:f})).style({padding:"10px"}),["s6","m6","l3"]),i.add(new n().add(new za({title:"Total Users(Active)",value:r})).style({padding:"10px"}),["s6","m6","l3"]),q(o.prototype,this,"add").call(this,[a,new ia().add(i).style({marginTop:"10px"})])})}load(){return s(this,null,function*(){return(yield new y().getDashboard()).data})}},me=he;var be=class o extends G{constructor(){super(),super.round(),this.table=new I(["",""]),s(this,null,function*(){yield this.load(),q(o.prototype,this,"add").call(this,new B(this.table,0,5))})}load(){return s(this,null,function*(){let a=new F;q(o.prototype,this,"add").call(this,a);let e=yield new y().getUserInfo(localStorage.getItem("uid"));if(a.hide(),this.table.clearBody(),e.ok){let t=e.data;this.table.add(["Id:",t.id],[{style:{width:"150px"}}]),this.table.add(["Name:",t.name]),this.table.add(["Position:",t.position]),this.table.add(["Username:",t.uname]),this.table.add(["Role:",t.role=="1"?"Super Admin":"Normal User"]),this.table.add(["Status:",t.status=="1"?new l("Active","green"):new l("Inactive","red")])}else yield h("User not found!")})}},fe=class extends G{constructor(){super(),super.round();let a=new g("Current password","password","Enter Old password").border(),e=new g("New password","password","Enter New Password",!0).border(),t=new g("Re-type new password","password","Enter New Password",!0).border(),f=new b(new n([new w("key"),new p(5),new l("Change Password")]),"ios-blue").style({marginTop:"10px",borderRadius:"20px"}),r=new $;r.add(new M().add([a,e,t,f]),["m12","s12","l6"]),super.add(r);let i=()=>{e.getValue()!=t.getValue()?(e.error("dont match"),t.error("dont match")):(e.error(null),t.error(null))};e.addEventListener("keyup",()=>{i()}),t.addEventListener("keyup",()=>{i()}),f.addEventListener("click",()=>s(this,null,function*(){if(e.getValue()!=t.getValue())return yield h("Newpassword don't match! please confirm or retype the password!","red");if(e.getValue().length<6)return yield h("New password must atleast 6 characters! note: please use strong password!");let d=yield new y().changeMyPassword(e.getValue(),a.getValue());d.ok?yield h(d.data,"green"):yield h(d.data,"red")}))}};var Qe=be;var ge=class extends n{constructor(){super();let a=new O("light-gray");a.add(new n([new w("user"),new p(5),new l("Profile")])),super.add(a);let e=new la({bgColor:"blue",radius:10});e.add({title:'<i class="fa fa-user"></i> My Information',fn:t=>{t.add(new Qe)},active:!0}),e.add({title:'<i class="fa fa-lock"></i> Change Password',fn:t=>{t.add(new fe)}}),super.add(new ia().add(e).style({paddingTop:"10px"}))}},at=ge;var ye=class o extends L{constructor({from:a="",to:e="",nature_id:t=""}){super("Check Report Viewer","14in","blue"),this.from=a,this.to=e,this.nature_id=t,this.frame=new ya().style({width:"100%",height:"70vh"}),this.url=null;let f=new b(new n([new w("print"),new p(5),new l("Print")]),"blue").style({margin:"5px"}).size("small").round();s(this,null,function*(){let r=new da("green");q(o.prototype,this,"add").call(this,r);let i=yield this.load({fn:d=>{if(d.total>0){let c=Math.round(d.loaded/d.total*100);r.update(c,c)}}});if(r.delete(),i.ok){let c=new ka().getBlob({base64:i.data,type:"text/html"});this.url=URL.createObjectURL(c),this.frame.control.src=this.url,f.addEventListener("click",()=>{let u=window.open();u.document.write(atob(i.data)),setTimeout(()=>{u.print(),u.close()},500)})}q(o.prototype,this,"add").call(this,new ta([this.frame,f]))})}load(e){return s(this,arguments,function*({fn:a=null}){return yield new y().getCheckReport({fn:a,from:this.from,to:this.to,nature_id:this.nature_id})})}dispose(){URL.revokeObjectURL(this.url)}},xe=class o extends n{constructor(){super(),super.style({padding:"10px"});let a=new R().style({borderRadius:"5px"}),e=new $,t=new g("From","date").border().size("small"),f=new g("To","date").border().size("small"),r=new N().border(),i=["m3","l2"],d=new b("View Report","blue").style({marginTop:"22px"}).round();e.add(new ta(t,5),i),e.add(new ta(f,5),i),e.add(new ta(new H([new l("Accounts"),r]),5),i),e.add(new ta(d,5),i),a.add(e),s(this,null,function*(){let c=yield new y().getNaturePayments({});if(c.ok){r.add("","[ All Accounts ]");for(let u of c.data)r.add(u.id,`${u.name} - ${u.desc}`)}q(o.prototype,this,"add").call(this,new n().add([new U('<i class="fa fa-list"></i> Check Report'),new D,a])),d.addEventListener("click",()=>s(this,null,function*(){if(t.getValue().trim()=="")return yield h("from range is required!");if(f.getValue().trim()=="")return yield h("To range is required!");yield new ye({from:t.getValue(),to:f.getValue(),nature_id:r.getValue()}).show()}))})}},et=xe;var ve=class extends n{constructor(){super(),super.style({padding:"10px"}),super.add(new n().add([new U('<i class="fa fa-list"></i> Request Report'),new D]))}},tt=ve;var ke=class extends n{constructor(){super();let a=new O("light-gray");a.add(new n([new w("folder"),new p(5),new l("Reports")]));let e=new Ca({bgColor:"light-gray",size:"small",round:!0,roundContent:!0});e.add({title:new U('<i class="fa fa-list"></i> Check Report'),fn:t=>{t.add(new et)},active:!0}),e.add({title:new U('<i class="fa fa-user"></i> Request Report'),fn:t=>{t.add(new tt)}}),super.add([a,new n().add(e).style({padding:"10px"})])}},ft=ke;var qe=class extends n{constructor(){super(),super.style({padding:"10px"}),super.add([new U('<i class="fa fa-home"></i> Bank Information'),new D().dashed()]);let a=new b('<i class="fa fa-save"></i> Add New',"blue").size("small").round();super.add(a)}},rt=qe;var re=class extends L{constructor({data:a=null}){super(new n([new w("address-card"),new p(5),new l("Fund Cluster")]),"400px","green");let e=new g("Id","text").border().size("small"),t=new g("Code","text").border().size("small"),f=new g("Name","text").border().size("small"),r=new g("Account No","text").border().size("small"),i=new g("Description","text").border().size("small"),d=new g("Bank Code","text").border().size("small"),c=new g("Bank Name","text").border().size("small"),u=new b('<i class="fa fa-save"></i> Submit',"green").size("small").round().style({marginTop:"5px"}).ripple();super.add(new n().style({padding:"10px"}).add([e,t,f,i,d,c,r,u])),a!=null&&(e.disabled(),e.setValue(a.id),t.setValue(a.code),f.setValue(a.name),i.setValue(a.desc),r.setValue(a.acc_no),d.setValue(a.bank_code),c.setValue(a.bank_name)),u.addEventListener("click",()=>s(this,null,function*(){u.showLoader();let m=yield new y().addFundCluster({id:e.getValue(),code:t.getValue(),name:f.getValue(),desc:i.getValue(),acc_no:r.getValue(),update:a!=null,bank_code:d.getValue(),bank_name:c.getValue()});u.hideLoader(),m.ok?(yield h(m.data),this.hide(!0)):yield h(m.data)}))}},Ce=class o extends n{constructor(){super(),super.style({padding:"10px"}),super.add([new U('<i class="fa fa-outdent"></i> Fund Cluster'),new D().dashed()]);let a=new b('<i class="fa fa-save"></i> Add New',"blue").size("small").round();this.table=new I(["Account","ID","Code","Name","Desc","Action"]).style({marginTop:"10px"}),s(this,null,function*(){yield this.load(),q(o.prototype,this,"add").call(this,[a,new B(this.table)]),a.addEventListener("click",()=>s(this,null,function*(){(yield new re({}).show())&&(yield this.load())}))})}load(){return s(this,null,function*(){let a=new F;q(o.prototype,this,"add").call(this,a);let e=yield new y().getFundCluster({});if(a.hide(),!e.ok)return;this.table.clearBody();let t=e.data;for(let f of t){let r=new b("Edit","blue").size("small").round(),i=new b("Remove","red").size("small").round(),d=this.table.add([f.acc_no,f.id,f.code,f.name,f.desc,new n([r,new p(5),i])]);r.addEventListener("click",()=>s(this,null,function*(){(yield new re({data:{id:f.id,code:f.code,acc_no:f.acc_no,name:f.name,desc:f.desc,bank_code:f.bank_code,bank_name:f.bank_name}}).show())&&(yield this.load())})),i.addEventListener("click",()=>s(this,null,function*(){if(!(yield j("Are you sure?")))return;i.showLoader();let c=yield new y().removFundCluster({id:f.id});i.hideLoader(),c.ok?(yield h(c.data),d.remove()):yield h(c.data)}))}})}},ot=Ce;var oe=class o extends L{constructor({info:a=null}){super("Account","400px","blue");let e=new g("Id","text").border().size("small"),t=new g("Code","text").border().size("small"),f=new g("Name","text").border().size("small"),r=new g("Desc","text").border().size("small"),i=new N().border().size("small"),d=new b("Submit","blue").style({marginTop:"5px"}).round().size("small");s(this,null,function*(){let c=new F;q(o.prototype,this,"add").call(this,c);let u=yield this.loadCluster();if(c.hide(),a!=null){let{id:m,code:z,name:v,desc:k,clusterid:C}=a;e.setValue(m),t.setValue(z),f.setValue(v),r.setValue(k),i.setValue(C),e.disabled()}if(u!=null)for(let m of u)i.add(m.id,`${m.id} - ${m.code} - ${m.name}`);q(o.prototype,this,"add").call(this,new n().add([e,t,f,r,new l("Fund Cluster"),i,d]).style({padding:"10px"})),d.addEventListener("click",()=>s(this,null,function*(){let m=yield new y().saveNaturePayment({id:e.getValue(),code:t.getValue(),name:f.getValue(),clusterid:i.getValue(),desc:r.getValue(),update:a!=null});m.ok?(yield h(m.data,"green"),this.hide(!0)):yield h(m.data,"red")}))})}loadCluster(){return s(this,null,function*(){let a=yield new y().getFundCluster({});return a.ok?a.data:null})}},ze=class o extends n{constructor(){super(),super.style({padding:"10px"}),super.add([new U('<i class="fa fa-address-card"></i> Nature Of Payment'),new D().dashed()]);let a=new b('<i class="fa fa-save"></i> Add New',"blue").size("small").round();this.table=new I(["Account","ID","Code","Name","Desc","Action"],null,null,null,!0).style({marginTop:"10px"}),s(this,null,function*(){yield this.load(),q(o.prototype,this,"add").call(this,[a,new B(this.table,500)]),a.addEventListener("click",()=>s(this,null,function*(){(yield new oe({}).show())&&(yield this.load())}))})}load(){return s(this,null,function*(){let a=new F;q(o.prototype,this,"add").call(this,a);let e=yield new y().getNaturePayments({});if(a.hide(),e.ok){this.table.clearBody();for(let t of e.data){let f=new b("Edit","blue").size("small").round(),r=new b("Remove","red").size("small").round(),i=this.table.add([t.clusterid,t.id,t.code,t.name,t.desc,new n([f,new p(5),r])]);f.addEventListener("click",()=>s(this,null,function*(){(yield new oe({info:{id:t.id,code:t.code,desc:t.desc,name:t.name,clusterid:t.clusterid}}).show())&&(yield this.load())})),r.addEventListener("click",()=>s(this,null,function*(){if(!(yield j()))return;let d=yield new y().removeNaturePayments({id:t.id});d.ok?(yield h(d.data),i.delete()):yield h(d.data)}))}}})}},st=ze;var _e=class extends G{constructor(){super(),super.round(),super.style({padding:"5px"});let a=new Ca({bgColor:"green",round:!0,roundContent:!0});a.add({title:'<i class="fa fa-outdent"></i> Nature Of Payment',fn:e=>{e.add(new st)},active:!0}),a.add({title:'<i class="fa fa-address-card"></i> Fund Cluster',fn:e=>{e.add(new ot)}}),a.add({title:'<i class="fa fa-home"></i> Bank Account Info',fn:e=>{e.add(new rt)}}),a.add({title:'<i class="fa fa-list"></i> Receipt Info',fn:e=>{e.add(new l("Comming soon..."))}}),a.add({title:'<i class="fa fa-pen"></i> Signatory',fn:e=>{}}),super.add([a])}},nt=_e;var Ae=class o extends G{constructor(){super(),super.round(),super.style({padding:"10px"}),this.table=new I(["Action","Id","Code","Name"],"small",null,null,!0).striped().all().hover();let a=new b(new n([new w("plus-circle"),new p(5),new l("Create New Office")]),"green").size("small").style({marginBottom:"10px",borderRadius:"20px"}).ripple();s(this,null,function*(){yield this.load(),q(o.prototype,this,"add").call(this,[a,new B(this.table,500)])})}load(){return s(this,null,function*(){let a=new F(35);q(o.prototype,this,"add").call(this,a);let e=yield new y().getDepartment();this.table.clearBody(),a.hide();for(let t of e){let f=new b(new n([new w("search"),new p(5),new l("View")]),"green").size("tiny").style({borderRadius:"20px"}),r=new b(new n([new w("trash"),new p(5),new l("Remove")]),"red").size("tiny").style({borderRadius:"20px"}),i=new n([f,new p(5),r]).style({width:"200px"}).hide();r.addEventListener("click",()=>s(this,null,function*(){yield j("Are you sure to remove?")})),this.table.add([i,t.id,t.code,t.description])}})}},it=Ae;var se=class o extends L{constructor({update_id:a=""}){super(new n([new w("user"),new p(5),new l("User Form")]),"500px","blue"),this.update_id=a;let e=new g("Id","text","Enter your employee Id").border();this.update_id!=""&&e.disabled();let t=new g("Username","text","Create your username!").border(),f=new g("Fullname","text","Enter your fullname").border(),r=new g("Position","text","Enter your position").border(),i=new g("Password","password","Enter temporary password!").border(),d=new b(new n([new w("save"),new p(5),new l(this.update_id==""?"Create User":"Update User")]),"green").style({borderRadius:"20px",marginTop:"10px"});s(this,null,function*(){if(a!=""){let c=yield this.load();if(!c.ok){yield h("User not found!"),this.hide();return}e.setValue(a),t.setValue(c.data.uname),f.setValue(c.data.name),r.setValue(c.data.position)}q(o.prototype,this,"add").call(this,new n().add([e,f,r,t,i,d]).style({padding:"10px"})),d.addEventListener("click",()=>s(this,null,function*(){d.showLoader();let c=null;if(t.getValue().trim()=="")return d.hideLoader(),yield h("username is required!");if(r.getValue().trim()=="")return d.hideLoader(),yield h("position is required!");if(i.getValue().trim()=="")return d.hideLoader(),yield h("password is required!");if(f.getValue().trim()=="")return d.hideLoader(),yield h("name is required!");this.update_id==""?c=yield new y().registerUser(e.getValue(),f.getValue(),r.getValue(),t.getValue(),i.getValue()):c=yield new y().updateUser(this.update_id,f.getValue(),r.getValue(),t.getValue(),i.getValue()),d.hideLoader(),c.ok?(yield h(c.data,"green"),this.hide(!0)):yield h(c.data,"red")}))})}load(){return s(this,null,function*(){return yield new y().getUserInfo(this.update_id)})}},Se=class o extends L{constructor(a){super(new n([new w("user"),new p(5),new l("User Information")]),"480px","blue"),this.uid=a,this.table=new I(["",""],"small"),s(this,null,function*(){yield this.load(),q(o.prototype,this,"add").call(this,this.table);let e=new b(new n([new w("edit"),new p(5),new l("Edit")]),"blue").size("small").style({borderRadius:"20px"}).ripple(),t=new b(new n([new w("trash"),new p(5),new l("Remove")]),"red").size("small").style({borderRadius:"20px"}).ripple();q(o.prototype,this,"add").call(this,new n([e,new p(5),t]).style({padding:"20px"})),t.addEventListener("click",()=>s(this,null,function*(){if(yield j("Remove this user?","orange")){let f=yield new y().removeUser(this.uid);f.ok?(yield h(f.data,"green"),this.hide(!0)):yield h(f.data,"red")}})),e.addEventListener("click",()=>s(this,null,function*(){let r=yield new se({update_id:this.uid}).show()}))})}load(){return s(this,null,function*(){let a=new F;q(o.prototype,this,"add").call(this,a);let e=yield new y().getUserInfo(this.uid);if(a.hide(),this.table.clearBody(),e.ok){let t=e.data;this.table.add(["Id",t.id]),this.table.add(["Name",t.name]),this.table.add(["Position",t.position]),this.table.add(["Username",t.uname]),this.table.add(["Role",t.role=="1"?"Super Admin":"Normal User"]),this.table.add(["Status",t.status=="1"?"Active":"Inactive"])}else yield h("User not found!")})}},Re=class o extends L{constructor({name:a="",id:e=null,role_access:t=null}){super("User Access Information",null,"blue"),s(this,null,function*(){let f=new aa;q(o.prototype,this,"add").call(this,new ta([new l(`${a.toUpperCase()} Access Roles List`).style({fontWeight:"bold"}),new D,f],10));let r=new F;q(o.prototype,this,"add").call(this,r);let i=yield new y().getUserRoleAvailable();r.hide();for(let d in i.data){let c=i.data[d],u=new aa;for(let m of c){let z=new Ea({round:!0});if(u.add(new n([z,new p(5),new l(m)])),z.tf.addEventListener("change",()=>s(this,null,function*(){let v=yield new y().setUserRole({id:e,isAdd:z.getValue(),role:m})})),t!=null)for(let v of t)m==v.r&&z.setValue(!0)}f.add(new H([new n([new p(5),new l(d.toUpperCase()).style({fontWeight:"bold"})]),u]))}})}},Fe=class o extends G{constructor(){super(),super.round(),super.style({padding:"10px"}),this.table=new I(["Action","Id","Username","Name","Position","Role","Status"],"small").striped().all();let a=new b(new n([new w("plus-circle"),new p(5),new l("Create New User")]),"green").size("small").style({marginBottom:"10px",borderRadius:"20px"}).ripple();s(this,null,function*(){yield this.load(),q(o.prototype,this,"add").call(this,[a,new B(this.table)]),a.addEventListener("click",()=>s(this,null,function*(){(yield new se({}).show())&&(yield this.load())}))})}load(){return s(this,null,function*(){let a=new F(35);q(o.prototype,this,"add").call(this,a);let e=yield new y().getAllUsers();if(a.hide(),!e.ok)return;let t=e.data;this.table.clearBody();for(let f of t){let r=new b(new n([new w("search"),new p(5),new l("View")]),"ios-green").size("small").style({borderRadius:"20px"}),i=new b(new n([new w("key"),new p(5),new l("Access Role")]),"ios-blue").size("small").style({borderRadius:"20px"}),d=new n().add([r,i],[{style:{width:"150px"}}]);this.table.add([d,f.id,new Z(f.uname,"green"),f.name,f.position,f.role=="1"?new Z("Super Admin","orange"):new Z("Normal User","sand"),f.status=="1"?new Z("Active","green"):new Z("Inactive","red")]),r.addEventListener("click",()=>s(this,null,function*(){(yield new Se(f.id).show())&&(yield this.load())})),i.addEventListener("click",()=>s(this,null,function*(){let u=yield new Re({name:f.name,id:f.id,role_access:f.role_json}).show();yield this.load()}))}})}},lt=Fe;var Le=class extends n{constructor(){super();let a=new O("light-gray");a.add(new n([new w("cog"),new p(5),new l("Setting")])),super.add(a);let e=new la({bgColor:"sand"});e.add({title:"User",fn:t=>{t.add(new lt)},active:!0}),e.add({title:"Office",fn:t=>{t.add(new it)}}),e.add({title:"Cashier",fn:t=>{t.add(new nt)}}),e.add({title:"BackUp",fn:t=>{}}),super.add(new n().style({padding:"10px"}).add(e))}},dt=Le;var Te=class extends n{constructor(){super(),this.lists_input=[]}addItem(a=1,e=0){let t=new $,f=new N().size("small").border();for(let i=1;i<=100;i++)f.add(i,`${i<10?`0${i}`:i}%`);let r=new g(null).size("small").border();return t.add(f,["s3"]),t.add(r,["s9"]),f.setValue(a),r.setValue(e),super.add(t),this.lists_input.push({grid:t,key:f,value:r}),this}isExists(a){for(let e of this.lists_input)if(parseFloat(e.key.getValue())==parseFloat(a))return!0;return!1}removeAll(){return super.clear(),this.lists_input=[],this}updateItem(a,e){for(let t of this.lists_input)if(parseFloat(t.key.getValue())==parseFloat(a))return t.key.setValue(a),t.value.setValue(e),!0;return this}getValue(){let a=[];for(let e of this.lists_input)parseFloat(e.value.getValue())>0&&a.push({key:parseFloat(e.key.getValue()),value:parseFloat(e.value.getValue())});return a}},Ve=class o extends L{constructor({data:a=null}){super(new n([new w("card"),new p(5),new l("Check Information")]),null,"green"),this.sys_id="";let e=new R().style({padding:"10px",borderRadius:"10px"}),t=new g("ACIC. No","text").border().size("small"),f=new g("Date","date").border().size("small"),r=new g("Serial No.","text").border().size("small"),i=new b(new n([new w("eraser"),new p(5),new l("Clear")]),"red").round().size("tiny").style({marginTop:"10px"}).addEventListener("click",()=>{t.setValue(""),f.setValue(""),r.setValue("")});a!=null&&i.hide(),e.add(new n().add([new l("CHECK INFORMATION","gray").style({marginBottom:"10px",letterSpacing:"2px"}),t,f,r,i]));let d=new R().style({padding:"10px",borderRadius:"10px"}),c=new g("DV No.","text").border().size("small"),u=new g("ORS / BURS NO.","text").border().size("small"),m=new N().border().size("small"),z=new N().border().size("small"),v=new g("Responsibility Center Code").border().size("small").filter({network:!0,url:"/api/cashier/dv-search?q=center_code",token_value:localStorage.getItem("xauth")}),k=new g("Payee","text").border().size("small").filter({network:!0,url:"/api/cashier/dv-search?q=payee",token_value:localStorage.getItem("xauth")}),C=new g("UACS Object Code","text").border().size("small").filter({network:!0,url:"/api/cashier/dv-search?q=obj_code",token_value:localStorage.getItem("xauth")});d.add(new n().add([new l("DV INFORMATION","gray").style({marginBottom:"10px",letterSpacing:"2px"}),c,u,new l("Nature Of Payment").textColor(),m,new l("Fund|Charge|Cluster Fund").textColor(),z,v,k,C]));let E=new R().style({padding:"10px",borderRadius:"10px"}),T=new Te;T.addItem(1,0),T.addItem(2,0),T.addItem(3,0),T.addItem(4,0),T.addItem(5,0);let X=new n;X.add(T);let W=new $,K=new g("Retention","text").border().size("small"),Y=new g("VAT EXEMPT 1%","text").border().size("small");W.add(new n().add(K).style({paddingRight:"3px"}),["s4","m4"]),W.add(new n().add(Y).style({paddingRight:"3px"}),["s8","m8"]);let J=new g("Penalty","text").border().size("small"),P=new g("Liquidation & Damage","text").border().size("small"),fa=new g("Gross Amount","text").border().size("small"),Sa=new g("Net Amount","text").border().size("small");E.add(new n().add([new l("DV INFORMATION","gray").style({marginBottom:"10px",letterSpacing:"2px"}),X,new D,W,J,P,fa,Sa]));let ra=new $,ha=["m4","s12"];ra.add(new n().add(d).style({paddingRight:"5px"}),ha),ra.add(new n().add(E).style({paddingRight:"5px"}),ha),ra.add(new n().add(e),ha);let Ra=new b(new n([new w("save"),new p(5),new l("SAVE").style({letterSpacing:"2px"})]),"blue").style({borderRadius:"20px",marginTop:"10px"}).size("small"),Fa=new b(new n([new w("trash"),new p(5),new l("Delete").style({letterSpacing:"2px"})]),"red").style({borderRadius:"20px",marginTop:"10px",marginLeft:"10px"}).size("small").ripple();a==null?Fa.hide():Fa.addEventListener("click",()=>s(this,null,function*(){if(yield j("Are you sure to remove this check?","red")){let Q=yield new y().deleteCheckAndDv({check_id:a.check.sys_id});Q.ok?(yield h(Q.data),this.hide(!0)):yield h(Q.data)}})),this.cluster_list=null,s(this,null,function*(){let Q=({nature_id:V,nature_data:sa})=>{for(let Ta of sa)if(Ta.id==V){z.setValue(Ta.clusterid);break}},La=new F;q(o.prototype,this,"add").call(this,La);let ma=yield new y().getFundCluster({});if(ma.ok){for(let V of ma.data)z.add(V.id,`(${V.id}) ${V.code} - ${V.name}`);this.cluster_list=ma}let Na=yield new y().getNaturePayments({});if(Na.ok){for(let V of Na.data)m.add(V.id,`${V.code} - ${V.name}`);Q({nature_id:m.getValue(),nature_data:Na.data})}La.hide();let le=(V=null)=>{if(a==null){try{if(V!=null)if(V.ok){let sa=V.data;t.setValue(sa.acic_no),f.setValue(sa.date),r.setValue(sa.serial_no)}else t.setValue(""),f.setValue(""),r.setValue("")}catch(sa){}if(this.cluster_list){let sa=this.cluster_list.data;for(let Ta of sa)Ta.id==z.getValue()&&v.setValue(`${Ta.code}-`)}}};s(this,null,function*(){if(a!=null){this.sys_id=a.check.sys_id,t.setValue(a.check.id),f.setValue(a.check.date),r.setValue(a.check.serial_no),c.setValue(a.dv.dv_no),u.setValue(a.dv.bur_no),v.setValue(a.dv.center_code),k.setValue(a.dv.payee),m.setValue(a.dv.nature_id),C.setValue(a.dv.obj_code),fa.setValue(a.dv.gross),Sa.setValue(a.dv.net),K.setValue(a.dv.ded_json.retention),Y.setValue(a.dv.ded_json.vat_excemt),J.setValue(a.dv.ded_json.penalty),P.setValue(a.dv.ded_json.liq_n_dmg);for(let V of a.dv.ded_json.percent)T.isExists(V.key)?T.updateItem(V.key,V.value):T.addItem(V.key,V.value)}else{let V=yield new y().getNextIdGenerated({nature_id:m.getValue()});le(V)}m.addEventListener("change",()=>s(this,null,function*(){Q({nature_id:m.getValue(),nature_data:Na.data});let V=yield new y().getNextIdGenerated({nature_id:m.getValue()});le(V)})),z.addEventListener("change",()=>{le()}),q(o.prototype,this,"add").call(this,new n().add([ra,new n([Ra,Fa])]).style({padding:"5px"}))})}),Ra.addEventListener("click",()=>s(this,null,function*(){if(t.getValue().trim()=="")return yield h("Acic No Required!");if(f.getValue().trim()=="")return yield h("check date is required!");if(r.getValue().trim()=="")return yield h("Check Serial number is required!");if(!/^[0-9]{2}-[0-9]{2}-[0-9]{3,}$/.test(t.getValue()))return yield h("Acic No. Format invalid!");Ra.showLoader();let Q=yield new y().addCheckAndDV({sys_id:this.sys_id,is_update:a==null?"0":"1",check_data:JSON.stringify({id:t.getValue(),date:f.getValue(),serial_no:r.getValue()}),dv_data:JSON.stringify({dv_no:c.getValue(),bur_no:u.getValue(),center_code:v.getValue(),payee:k.getValue(),nature_id:m.getValue(),obj_code:C.getValue(),nature_json:{},ded_json:{percent:T.getValue(),retention:parseFloat(K.getValue()),vat_excemt:parseFloat(Y.getValue()),penalty:parseFloat(J.getValue()),liq_n_dmg:parseFloat(P.getValue())},gross:parseFloat(fa.getValue()),net:parseFloat(Sa.getValue()),createdby:"",createdby_json:{},datecreated:"",status:"",signatory_json:""})});Ra.hideLoader(),Q.ok?(yield h(Q.data),this.hide(!0)):yield h(Q.data)}))}},Ee=Ve;var Ue=class o extends G{constructor(){super(),super.round(),super.style({padding:"10px"});let a=new b(new n([new w("plus-circle"),new p(5),new l("Manual Capture Check")]),"green").style({borderRadius:"20px"}).size("small");this.table=new I(["Action","Date","Acic No.","Serial","Dv No.","BUR No.","Payee","Gross","Net","DT"],null,"blue",null,!0).border().style({marginTop:"10px"}).striped().border().hover();let e=new $(!0),t=new g("Search","text","Search...").border().size("small"),f=new N().border();this.search=t,this.account=f,e.add(t,["s6","m4","l3"]),e.add(new H([new l("Account"),f]),["s6","m4","l3"]),s(this,null,function*(){yield this.loadNature(),yield this.load(),q(o.prototype,this,"add").call(this,[a,new n().add(e).style({marginBottom:"5px"}),new B(this.table,window.innerHeight-200)]),a.addEventListener("click",()=>s(this,null,function*(){(yield new Ee({}).show())&&(yield this.load())})),this.search.addEventListener("keyup",()=>s(this,null,function*(){yield this.load()})),this.account.addEventListener("change",()=>s(this,null,function*(){yield this.load()}))})}loadNature(){return s(this,null,function*(){let a=yield new y().getNaturePayments({});if(this.account.add("","[ -- ALL -- ]"),!!a.ok)for(let e of a.data)this.account.add(e.id,`${e.code} ${e.name}`)})}load(){return s(this,null,function*(){let a=new F;q(o.prototype,this,"add").call(this,a);let e=yield new y().getCheckAndDv({search:this.search.getValue(),account_id:this.account.getValue()});if(a.hide(),this.table.clearBody(),e.ok&&e.data!=null)for(let t of e.data){let f=new b(new w("eye"),"ios-green").size("tiny"),r=new b(new w("edit"),"ios-blue").size("tiny");this.table.add([new Qa([f,r]).round(),t.check.date,t.check.id,t.check.serial_no,t.dv.dv_no,t.dv.bur_no,t.dv.payee,t.dv.gross,t.dv.net,t.check.datecreated],[{style:{width:"90px"}},{style:{width:"80px"}}],1),f.addEventListener("click",()=>{}),r.addEventListener("click",()=>s(this,null,function*(){(yield new Ee({data:t}).show())&&(yield this.load())}))}})}},ct=Ue;var ut={p:{name:"Pending",color:"orange"},a:{name:"Approved",color:"green"},da:{name:"Disapproved",color:"red"},cl:{name:"Claimed",color:"blue"}},Ie=class o extends G{constructor(){super(),super.round(),this.current_offset=1,this.table=new I(["Action","code","Document","Requestor","Office","Date Created","Status"],"small",null,null,!0).all().striped().border(),this.search=new g(null,"text","Search...").size("small"),this.status=new N().size("small"),this.status.add("","[All Status]"),this.status.add("p","Pending"),this.status.add("a","Approved"),this.status.add("da","Disapproved"),this.status.setValue("p"),this.date=new g(null,"date").size("small");let a=new b(new w("refresh")).size("small").style({borderRadius:"20px"}),e=new $,t=["m2","s6","l2"];e.add(new n().add(this.search).style({padding:"5px"}),t),e.add(new n().add(this.status).style({padding:"5px"}),t),e.add(new n().add(this.date).style({padding:"5px"}),t),e.add(new n().add(a).style({padding:"5px"}),t);let f=new R("green").style({padding:"10px"});f.add(new n().add(new l("Monitor Requests")).style({padding:"5px"})),f.add(e),this.page=new n().style({padding:"5px"}),super.add(new n().style({padding:"10px"}).add(new R().add([f,this.page,new B(this.table,window.innerHeight-300,10)]))),s(this,null,function*(){yield this.load(this.current_offset)}),a.addEventListener("click",()=>s(this,null,function*(){a.showLoader(),yield this.load(this.current_offset),a.hideLoader()})),this.status.addEventListener("change",()=>s(this,null,function*(){this.current_offset=1,yield this.load(this.current_offset)}));let r=null;this.search.addEventListener("keyup",()=>{clearTimeout(r),r=setTimeout(()=>s(this,null,function*(){yield this.load(this.current_offset)}),500)}),this.date.addEventListener("change",()=>s(this,null,function*(){yield this.load(this.current_offset)}))}load(a){return s(this,null,function*(){let e=new F(35).style({margin:"15px"});q(o.prototype,this,"add").call(this,e),this.table.clearBody();let t=yield new y().getAllDocument({offset:a,status:this.status.getValue(),search:this.search.getValue(),date:this.date.getValue()});e.hide();let f=t.data.limit,r=t.data.total,i=t.data.data;this.page.clear();let d=new ee(c=>s(this,null,function*(){this.current_offset=c,yield this.load(this.current_offset)}),"ios-blue","tiny");if(this.page.add(d),r>0){let c=r/f>parseInt(r/f)?parseInt(r/f)+1:parseInt(r/f);for(let u=1;u<=c;u++)this.current_offset==u?d.add(u,!0,!1):d.add(u)}if(i instanceof Array)for(let c of i){let u=new b(new n([new w("search"),new p(5),new l("View")]),"green").style({borderRadius:"20px"}).ripple().size("tiny"),m=new b(new n([new w("heart"),new p(5),new l("Claim")]),c.status=="a"&&c.claimed==null?"red":"gray").style({borderRadius:"20px"}).ripple().style({marginLeft:"2px"}).size("tiny"),z=new n().style({display:"inline-block"});c.status=="a"&&z.add(m);let v=c.requestor[0],k=`${v.pre} ${v.fname} ${v.mname.length>0?v.mname[0]+".":""} ${v.lname} ${v.ename} ${v.suf}`,C=this.table.add([new n().add([u,z]),c.code,c.doc_info.desc,new Z(k,"green"),new Z(c.doc_info.office,"blue"),c.datecreated,new Z(ut[c.status].name,ut[c.status].color)],[{style:{width:"200px"}},{style:{width:"150px"}},{style:{width:"250px"}},{style:{width:"200px"}},{style:{width:"150px"}}]);u.addEventListener("click",()=>s(this,null,function*(){yield new wa(c.code,!0).show(),yield this.load()})),m.addEventListener("click",()=>s(this,null,function*(){C.style({backgroundColor:"#64a0d7"});let T=yield new $e({code:c.code}).show();C.style({backgroundColor:""}),T&&(yield this.load(this.current_offset))}))}})}dispose(){}},$e=class o extends L{constructor({code:a=""}){super(new n([new w("heart"),new p(5),new l("Claim Form")]),"400px","red");let e=new g("Date Released","datetime-local").border(),t=new g("Comments","text").border(),f=new b(new n([new w("save"),new p(5),new l("Submit")]),"blue").style({marginTop:"5px",borderRadius:"20px"});s(this,null,function*(){let r=yield new y().getDateTime();r.ok&&e.setValue(r.data),q(o.prototype,this,"add").call(this,new n().add([e,t,f]).style({padding:"10px"})),f.addEventListener("click",()=>s(this,null,function*(){let i=yield new y().claim({date:e.getValue().replace("T"," "),comment:t.getValue(),code:a});i.ok?(yield h(i.data),this.hide(!0)):yield h(i.data)}))})}},pt=Ie;var Be=class extends n{constructor(){super(),this.current_offset=1;let a=new b(new n([new w("sign-out"),new p(5),new l("Sign Out")]),"red").style({borderRadius:"20px"}).size("tiny").addEventListener("click",()=>s(this,null,function*(){if(yield j("Logout now?","pink")){a.showLoader();let f=yield new y().removeAuth();a.hideLoader(),f.ok?(localStorage.setItem("xauth",null),yield h(f.data,"green"),ea.navigate(new _a)):yield h(f.data,"red")}})),e=new O("light-gray");e.add(new n([new w("clock"),new p(5),new l("Transaction")])),e.add(a,!0),super.add(e);let t=new la({bgColor:"green"});t.add({title:"Monitor Requests",fn:f=>{f.add(new pt)},active:!0}),t.add({title:"Check Transaction",fn:f=>{f.add(new ct)}}),super.add(new n().add(t).style({padding:"10px"}))}dispose(){}},ne=Be;var ua=class extends b{constructor(a,e,t){let f=null;super(new n([new w(t).style({width:"16px"}),new p(5),new l(a),f]),e),super.style({width:"100%",textAlign:"left",letterSpacing:"3px"}),super.size("small"),this.route=a,this.tag=f,this.time=null}},Ne=class extends n{constructor(a){super();let e=[new ua("Dashboard","light-gray","dashboard"),new ua("Profile","light-gray","user-circle"),new ua("Transaction","light-gray","clock"),new ua("Setting","light-gray","cog"),new ua("Reports","light-gray","folder"),new ua("About","light-gray","question-circle")];super.add(e);for(let t of e)t.addEventListener("click",()=>{for(let f of e)f.class("w3-light-gray"),f.removeClass("w3-green");t.removeClass("w3-light-gray"),t.class("w3-green"),a(t.route)})}},De=class extends n{constructor(){super();let a=new M().style({height:"90px",position:"relative",borderBottom:"1px solid #ddd"}),e=new ca().style({width:"50px",height:"50px"});e.path("res/user.png");let t=new n().style({width:"15px",height:"15px",borderRadius:"50%",position:"absolute",bottom:"1px",right:"1px"});a.add(new te().add(new n().add([e,t]).style({width:"50px",height:"50px",borderRadius:"50%",backgroundColor:"#ddd",position:"relative"}))),this.content=new n;let f=new R("light-gray").style({width:"200px",height:"100vh",position:"fixed",top:"0",left:"0",zIndex:"10"}).class("sider-01").add([a,new Ne(c=>{this.content.clear();let u=c.toLowerCase();u=="dashboard"?this.content.add(new me):u=="transaction"?this.content.add(new ne):u=="setting"?this.content.add(new dt):u=="about"?this.content.add(new Ze):u=="profile"?this.content.add(new at):u=="reports"&&this.content.add(new ft),f.hasClass("ractive")&&f.removeClass("ractive")})]),r=new b(new n([new w("bars")]),"blue").class("nbar").style({borderRadius:"20px",textAlign:"center"});r.addEventListener("click",()=>{f.hasClass("ractive")?f.removeClass("ractive"):f.class("ractive")}),this.content.add(new me),this.bell_icon=new b(new w("bell"),"red").style({width:"50px",height:"50px",borderRadius:"50%"}).ripple(),this.bell_text=new l("").style({position:"absolute",top:"-20px",left:"-10px",color:"blue",fontWeight:"bold",fontSize:"16pt"}),this.notif=new Ja,this.notif.attr("src","res/notif.wav"),this.list_msg=new aa().style({position:"fixed",bottom:"0px",right:"0px",width:"200px"}),this.chatbox=new Ia({}).style({position:"fixed",bottom:"5px",right:"5px"}),super.add(new n().style({paddingLeft:"200px"}).class("content-01").add([this.notif,r,f,this.content,new n().add([this.bell_icon,this.bell_text]).style({position:"fixed",bottom:"20px",left:"20px",zIndex:"20"}),this.chatbox]));let i=0;this.bell_icon.addEventListener("click",()=>{i=0,this.bell_text.text(""),this.content.clear(),this.content.add(new ne)}),this.ws=null;let d=()=>{let c=window.location.protocol==="https:"?"wss":"ws",u=window.location.port&&window.location.port!=="80"&&window.location.port!=="443"?`:${window.location.port}`:"",m=`${c}://${window.location.hostname}${u}/api/ws`,z=new URL(m);z.searchParams.set("token",btoa(localStorage.getItem("xauth"))),z.searchParams.set("device",localStorage.getItem("device")),this.ws=new WebSocket(z.toString()),this.ws.onopen=v=>{t.style({backgroundColor:"#07e107"}),this.chatbox.setSocket(this.ws)},this.ws.onmessage=v=>{try{let k=JSON.parse(v.data);if(k.type=="file"){this.notif.control.play(),i++,i>0&&this.bell_text.text(i);let C=new R("green").add(new l(`${k.data}`).style({padding:"10px",cursor:"pointer"}));C.addEventListener("click",()=>{C.delete()}),this.list_msg.add(C),s(this,null,function*(){(yield j(`${k.data}`,"green"))&&(this.content.clear(),this.content.add(new ne),i=0,this.bell_text.text(""))})}else if(k.type=="auth")this.chatbox.addMessage({name:"BOT",msg:k.data});else if(k.type!="online"){if(k.type!="online_user"){if(k.type=="send-message"){let C=JSON.parse(k.data);this.chatbox.addMessage({name:C.name,msg:C.msg,seen:C.seen,date:C.date})}}}}catch(k){}},this.ws.onclose=v=>s(this,null,function*(){this.chatbox.setSocket(null),t.style({backgroundColor:"red"}),v.wasClean||(yield h("You have been disconnected!","red"),d())}),this.ws.onerror=v=>{this.chatbox.setSocket(null),t.style({backgroundColor:"red"})}};d()}dispose(){this.ws.close()}},Ua=De;var ie=class extends x{constructor({parent:a}){super(),super.style({width:"100%",height:"100%"});let e=new na().attr({type:"text",placeholder:"Username",autofocus:""}).style({width:"100%",height:"40px",outline:"none",backgroundColor:"rgb(255 255 255 / 76%)",borderRadius:"20px",border:"none",padding:"10px",paddingLeft:"40px",paddingRight:"40px",color:"grey"}),t=new x,f=()=>s(this,null,function*(){t.clear(),t.add(new va().add(new F).style({padding:"10px"}));let r=yield new y().checkUsername({username:e.getValue()});if(!r.ok){t.clear(),t.add(new pa().add(new l("Account not found!").style({color:"#ff9c9c"})).style({paddingTop:"10px"}));return}a.container.clear(),a.container.add(new je({parent:a,username:e.getValue(),name:r.data}))});e.addEventListener("keyup",r=>{r.keyCode==13&&f()}),super.add([new x().add([new x().add(new l("FIS Portal").style({textAlign:"center",letterSpacing:"5px",marginBottom:"20px",color:"#cfcece",fontWeight:"bold"})).add(new D().style({marginBottom:"80px"})),new x().style({position:"relative"}).add(e).add(new w("circle-arrow-left").style({color:"rgb(50 50 50 / 47%)",position:"absolute",left:"10px",top:"9px",fontSize:"25px",cursor:"pointer"}).addEventListener("click",()=>{ea.navigate(new _a)})).add(new w("circle-arrow-right").style({color:"rgb(173 13 152 / 47%)",position:"absolute",right:"10px",top:"9px",fontSize:"25px",cursor:"pointer"}).addEventListener("click",()=>s(this,null,function*(){f()}))),t]).style({padding:"40px",paddingTop:"40px"})])}},je=class extends x{constructor({parent:a,username:e,name:t}){super(),super.style({width:"100%",height:"100%"});let f=new na().attr({type:"password",placeholder:"Password",autofocus:""}).style({width:"100%",height:"40px",outline:"none",backgroundColor:"rgb(255 255 255 / 76%)",borderRadius:"20px",border:"none",padding:"10px",paddingLeft:"40px",paddingRight:"40px",color:"grey"}),r=new x,i=()=>s(this,null,function*(){r.clear(),r.add(new va().add(new F).style({padding:"10px"}));let d=yield new y().getAuthV1(e,f.getValue());if(!d.ok){if(d.data=="a"){if(!d.ok){r.clear(),r.add(new pa().add(new l("There account already login in your device").style({color:"#ff9c9c"})).style({paddingTop:"10px"})),setTimeout(()=>{ea.navigate(new Ua)},1e3);return}}else if(!d.ok){r.clear(),r.add(new pa().add(new l("Invalid Information").style({color:"#ff9c9c"})).style({paddingTop:"10px"}));return}return}r.clear(),r.add(new pa().add(new l("Succesfully login!").style({color:"green"})).style({paddingTop:"10px"})),localStorage.setItem("xauth",d.data.token),localStorage.setItem("uid",d.data.id),setTimeout(()=>{ea.navigate(new Ua)},1e3)});f.addEventListener("keyup",d=>{d.keyCode==13&&i()}),super.add([new x().add([new x().add(new l("FIS Portal").style({textAlign:"center",letterSpacing:"5px",marginBottom:"20px",color:"#cfcece",fontWeight:"bold"})).add(new D).add(new va().add([new x().style({width:"80px",height:"80px",backgroundColor:"rgba(255, 255, 255, 0.3)",borderRadius:"50%",marginBottom:"10px"}),new l(`${t.toUpperCase()}`).style({marginBottom:"10px",letterSpacing:"2px",color:"white"})])),new x().style({position:"relative"}).add(f).add(new w("circle-arrow-left").style({color:"rgb(50 50 50 / 47%)",position:"absolute",left:"10px",top:"9px",fontSize:"25px",cursor:"pointer"}).addEventListener("click",()=>{a.container.clear(),a.container.add(new ie({parent:a}))})).add(new w("circle-arrow-right").style({color:"rgb(173 13 152 / 47%)",position:"absolute",right:"10px",top:"9px",fontSize:"25px",cursor:"pointer"}).addEventListener("click",()=>{i()})),r]).style({padding:"40px",paddingTop:"40px"})])}},Oe=class extends x{constructor(){super();Ke(this,"winResize",()=>{this.bg.style({width:`${window.innerWidth}px`,height:`${window.innerHeight}px`})});this.bg=new ca().path("res/login-bg.jpg").style({objectFit:"cover",width:`${window.innerWidth}px`,height:`${window.innerHeight}px`,position:"fixed",left:"0",top:"0",zIndex:"-1"}),this.container=new x().style({zIndex:"1",position:"fixed",left:"0px",top:"0px",bottom:"0px",right:"0px",margin:"auto",width:"350px",height:"350px",backgroundColor:"rgb(0 0 0 / 31%)",borderRadius:"15px"}),super.add([this.bg,this.container]),this.container.add(new ie({parent:this})),window.addEventListener("resize",this.winResize)}dispose(){window.removeEventListener("resize",this.winResize)}},wt=Oe;var Aa=class extends n{constructor(a=null,e=null,t=null){super(),super.style({width:"100%",padding:"10px"});let f=new R().style({height:"170px",width:"100%",backgroundColor:"#ffffffd4",position:"relative",borderRadius:"15px",cursor:"pointer"});f.class(t);let r=new ca().style({width:"100px",height:"100px",position:"absolute",bottom:"30px",left:0,right:0,margin:"auto"});r.path(`res/${t}`);let i=new l(a).style({margin:"10px",fontWeight:"bold",letterSpacing:"3px",color:"#6e6e6e"});this.text=new l("","gray").style({position:"absolute",bottom:"10px",left:"10px"}),f.add([i,r,this.text]),super.add(f)}updateText({text:a=""}){this.text.text(a)}},Pe=class extends L{constructor(){super("Requestor Information","480px","blue");let a=new g("Prefix title: (DR,Atty ...)").border(),e=new g("Firstname","text").border(),t=new g("Middlename","text").border(),f=new g("Lastname","text").border(),r=new g("Extension Name:(jr, sr)","text").border(),i=new g("Suffix Title: (CPA, MPA, LPT...)","text").border(),d=new g("Position","text").border(),c=new g("Contact No.","text").border(),u=new g("Email","text").border(),m=new b("Save","green").size("small").style({marginTop:"5px",marginBottom:"5px",borderRadius:"20px"});super.add(new M().add([a,e,t,f,r,i,d,c,u,m])),m.addEventListener("click",()=>s(this,null,function*(){if(e.getValue().trim()=="")return yield h("Firstname is required!","red");if(f.getValue().trim()=="")return yield h("Lastname is required!","red");if(d.getValue().trim()=="")return yield h("Position is required!","red");if(c.getValue().trim()!=""&&!/^(([6][3])|([0])|([+][6][3]))([9][0-9]{9})$/.test(c.getValue()))return yield h("Phone Number is invalid!","red");if(u.getValue().trim()!=""&&!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(u.getValue()))return yield h("Email is invalid format!","red");this.hide({pre:a.getValue().toUpperCase(),fname:e.getValue().toUpperCase(),mname:t.getValue().toUpperCase(),lname:f.getValue().toUpperCase(),ename:r.getValue().toUpperCase(),suf:i.getValue().toUpperCase(),pos:d.getValue().toUpperCase(),cp:c.getValue(),email:u.getValue()})}))}},Ge=class o extends L{constructor(){super(new n([new w("pencil"),new p(5),new l("Budget/Accounting Request Form")]),"640px","green");let a=new N().border();a.add("hc","Hard Copy (A physical document printed on paper, such as a printed letter, report, or book)"),a.add("cc","Certified Copy (A copy of a document that has been certified as authentic by a authorized person or organization, such as a notary public.)"),a.add("dc","Digital Copy (A copy of a document that exists only in digital form, such as a scanned document or a document created using a word processor.)"),a.add("sc","Soft Copy (A digital document stored on a computer, phone, or other electronic device, such as a Word document, PDF, or email.)");let e=new N().border(),t=new g("If Other Document, Please Specify","text","Enter specific document").border();t.style({display:"none"});let f=new g("Number of Copies","number",null,!0).border();f.setValue(1);let r=new b(new n([new w("plus-circle"),new p(5),new l("Add")]),"green").size("small").style({borderRadius:"20px"}),i=[],d=new aa().border().style({marginTop:"10px",marginBottom:"10px"});d.add(new n([new l("List of Requestor"),new p(10),r])),r.addEventListener("click",()=>s(this,null,function*(){if(i.length>=1)return yield h("Sorry multiple requestor is not yet available!","red");let v=yield new Pe().show();v!=null&&(i.push(v),d.add(new H([new n([new l(`${v.pre} ${v.fname} ${v.mname} ${v.lname} ${v.ename} ${v.suf}`,"black")]),new n([new l(`${v.pos}`,"gray")])])))}));let c=new N().border(),u=new g("Reason of Request","text","Enter your reason here!").border(),m=new b(new n([new w("save"),new p(10),new l("Submit")]),"blue").size("small").style({marginTop:"5px",borderRadius:"20px"}).ripple();s(this,null,function*(){let z=new F;q(o.prototype,this,"add").call(this,z);let v=new y,k=yield v.getDepartment();c.add("","[ Select Office/Department ]");for(let E of k)c.add(E.id,`${E.code}(${E.description})`);let C=yield v.getDocument();z.hide(),e.add("","[ Select Document ]");for(let E of C)e.add(E.code,`${E.name}`);e.add("-","Other"),e.addEventListener("change",()=>{e.getValue()=="-"?t.style({display:"block"}):(t.setValue(""),t.style({display:"none"}))}),q(o.prototype,this,"add").call(this,new ia().add([new l("Select Document"),e,t,new l("Type of Document"),a,f,new l("What is your Office/Department?"),c,u,d,m]).style({paddingTop:"20px",paddingBottom:"20px"})),m.addEventListener("click",()=>s(this,null,function*(){if(e.getValue().trim()=="")return yield h("Document is required!","red");if(e.getValue()=="-"&&t.getValue().trim()=="")return yield h("Please Specify other document name","red");if(c.getValue().trim()=="")return yield h("Please Select Office/Department");if(i.length==0)return yield h("Atleast one requestor!","red");if(u.getValue().trim()=="")return yield h("Please add reason for the request!");if(!(yield j("Do you want to submit?","orange")))return;let E={doc_type:a.getValue(),doc_name:e.getValue(),office:c.getValue(),reason:u.getValue(),numcopy:parseInt(f.getValue()),requestor:i,other:t.getValue(),device:localStorage.getItem("device")};m.showLoader();let T=yield new y().sendRequest(E);m.hideLoader(),T.ok?this.hide(T.data):yield h(T.data,"red")}))})}};var Je=class extends L{constructor(){super(new n([new w("search"),new p(5),new l("Track My Request")]),"720px","ios-green");let a=new g("Enter The Tracking Code","text","Enter Tracking Code").border().setIconSuffix({icon:"qrcode",color:"purple"}),e=new b(new n([new w("search"),new p(5),new l("Track Now")]),"ios-blue").style({marginTop:"5px",borderRadius:"20px"}).ripple();super.add(new M().add([a,e]).style({padding:"10px"})),e.addEventListener("click",()=>s(this,null,function*(){let t=a.getValue();e.showLoader();let f=yield new y().requestInfo(t);if(e.hideLoader(),!f.ok)return yield h("Request not found or Code is invalid!","red");this.hide(!0),(yield j("Your code is succefully verified! Do you want to continue!","green"))&&(yield new wa(t).show())}))}dispose(){}},$a=[{key:"",value:""},{key:"Approved",value:"The document has been reviewed and approved."},{key:"Approved with Attachment",value:"The document has been approved and attached for reference."},{key:"Approved and Ready for Collection",value:"The document is approved and can be collected as a hard copy from the office."},{key:"Approved and Sent via Email",value:"The document has been approved and sent electronically to the recipient."},{key:"Approved for Processing",value:"The document is approved and is now in the process of being finalized or executed."},{key:"Approved with Revisions Needed",value:"The document has been approved but requires some revisions or corrections before final use."},{key:"Conditionally Approved",value:"The document has been approved subject to certain conditions or further actions to be completed."},{key:"Approved with Additional Guidelines",value:"The document is approved, but additional guidelines or instructions are provided for implementation."},{key:"Approved for Immediate Use",value:"The document is approved and is ready to be used without any further action required."},{key:"Approved Pending Further Review",value:"The document has been approved for now but may be subject to further review at a later date."},{key:"Approved but Requires Supervisor\u2019s Signature",value:"The document has received approval but still requires a supervisor\u2019s signature to be finalized."},{key:"Approved with Feedback Provided",value:"The document has been approved, and feedback or comments have been given for future reference."},{key:"Approved for Electronic Submission",value:"The document is approved and is intended to be submitted electronically rather than as a hard copy."},{key:"Final Approval Granted",value:"The document has undergone all necessary reviews and has received final approval."}],Ba=[{key:"",value:""},{key:"Document Not Available",value:"The required document is missing or cannot be located."},{key:"Incomplete Information",value:"The document lacks necessary details or information for processing."},{key:"Incorrect Information",value:"There are discrepancies or inaccuracies in the provided information."},{key:"Expired Document",value:"The document has surpassed its validity period."},{key:"Unverified Signatures",value:"Signatures on the document are not authenticated or are missing."},{key:"Non-compliance with Requirements",value:"The document does not meet the specified regulatory or organizational standards."},{key:"Format Issues",value:"The document is in the wrong format or layout (e.g., not following prescribed templates)."},{key:"Illegible Content",value:"Text or images on the document are unclear or unreadable."},{key:"Improperly Filled Out",value:"Required fields are left blank or not completed as instructed."},{key:"Duplicate Submission",value:"The same document has been submitted multiple times."},{key:"Insufficient Supporting Documentation",value:"Lack of necessary accompanying documents to substantiate the main document."},{key:"Not Signed/Notarized",value:"Required signatures or notarization are missing."},{key:"Outdated Information",value:"Information provided is no longer current or relevant."},{key:"Invalid Document Type",value:"The document submitted is not the correct type for the request."},{key:"Unapproved Format",value:"The format of the document is not recognized or accepted."},{key:"Missing Acknowledgment/Receipt",value:"Lack of acknowledgment or receipt confirmation for the submission."},{key:"Applicable Fees Not Paid",value:"Required fees related to processing the document have not been paid."},{key:"Lack of Authorization",value:"The individual submitting the document does not have the proper authority or permissions."},{key:"Field Errors",value:"Mistakes in specific fields that affect overall validation."},{key:"Incompatibility with System",value:"Document format or type is incompatible with the electronic processing system in use."},{key:"Fraudulent Signs",value:"Indicators suggest the document may be forged or fraudulent."},{key:"Contradictory Information",value:"The document contradicts other information or documents provided."},{key:"Confidential/Restricted Content",value:"Contains information that cannot be shared or disclosed per policy."},{key:"Legal Issues",value:"Document raises legal concerns or does not comply with laws/regulations."},{key:"Failure to Follow Submission Guidelines",value:"Did not adhere to the specified submission protocol."},{key:"Incomplete Application",value:"Related application forms are not fully completed or submitted."},{key:"Technical Issues",value:"Problems encountered during the electronic submission process."},{key:"Policy Changes",value:"Recent updates to company or regulatory policies that affect document approval status."},{key:"Pending Investigation",value:"Document is under review due to a pending investigation or audit."}],Me=class o extends L{constructor(a){super("My Action","600px","green");let e=new g("Attach the File","file").border();e.tf.attr("multiple","");let t=new ae("Remark","Enter some remark!").border(),f=new N().border();f.add("a","Approved!"),f.add("da","Disapproved!");let r=new N().border(),i=()=>{switch(r.clear(),t.setValue(""),f.getValue()){case"a":for(let c=0;c<$a.length;c++){let u=$a[c];r.add(c,u.key)}break;case"da":for(let c=0;c<Ba.length;c++){let u=Ba[c];r.add(c,u.key)}break;default:}};i(),f.addEventListener("change",()=>{i()}),r.addEventListener("change",()=>{if(f.getValue()=="da"){let c=Ba[r.getValue()].key,u=Ba[r.getValue()].value;t.setValue(u)}else if(f.getValue()=="a"){let c=$a[r.getValue()].key,u=$a[r.getValue()].value;t.setValue(u)}});let d=new b(new n([new w("save"),new p(5),new l("Submit")]),"blue").style({marginTop:"5px",borderRadius:"20px"}).size("small");s(this,null,function*(){let c=new F(35);q(o.prototype,this,"add").call(this,c);let u=yield new y().requestInfo(a);if(c.hide(),!u.ok){yield h("Invalid Document","red"),this.hide(!1);return}let m=u.data,z=new n;q(o.prototype,this,"add").call(this,new R().style({padding:"10px"}).add(new n().add([new l("Mark As:"),f,new l("Remark"),r,t,m.doc_type=="dc"||m.doc_type=="sc"?e:new n,z,d]))),d.addEventListener("click",()=>s(this,null,function*(){let v=parseInt(r.getValue()),k=f.getValue(),C="",E="",T=null;k=="a"?T=$a[v]:k=="da"&&(T=Ba[v]),T!=null&&(C=T.key,E=T.value);let X=[];if((m.doc_type=="dc"||m.doc_type=="sc")&&k=="a"){let Y=e.tf.control.files,J=[];for(let fa of Y)J.push(fa);let P=J.length;if(P==0)return yield h("Attachment file is required!","red");z.clear(),z.add(new l(`Loading all ${P} file(s)`));for(let fa of J){let Sa=yield s(this,null,function*(){let ra=new FileReader;ra.readAsDataURL(fa);let ha=new da("green").style({marginTop:"5px",marginBottom:"5px"});return z.add(ha),new Promise((Fa,Q)=>{ra.onload=()=>{Fa(ra.result)},ra.onprogress=La=>{let ma=parseInt(La.loaded/La.total*100);ha.update(ma,`${fa.name} - ${ma}`)}})});X.push({filename:fa.name,data:Sa})}z.add(new l(`All ${P} File(s) loaded completed!`)),z.add(new l("Uploading to the server...please wait..."))}d.showLoader();let W=new da("blue").style({marginTop:"5px",marginBottom:"5px"});z.add(W);let K=yield new y().updateRequest({code:a,status:k,remark_key:C,remark_desc:E,file:X,fn:({loaded:Y,total:J})=>{if(J>0){let P=parseInt(Y/J*100);d.loaderText(`${P} %`),W.update(P,`uploading... - ${P}`)}}});d.hideLoader(),z.add(new l("File uploaded!","green")),K.ok?(yield h(K.data,"green"),this.hide(!0)):yield h(K.data,"red")}))})}},He=class o extends L{constructor(a){super("Request Form","1024px","orange"),this.code=a,this.frame=new ya().style({width:"100%",height:"70vh"}),this.obj_url=null,s(this,null,function*(){yield this.load(),q(o.prototype,this,"add").call(this,this.frame)})}load(){return s(this,null,function*(){let a=new da("green"),e=new n().style({padding:"20px"});e.add(a),q(o.prototype,this,"add").call(this,e);let t=yield new y().viewForm({code:this.code,fn:({loaded:f,total:r})=>{if(r>0){let i=parseInt(f/r*100);a.update(i,`${i}`)}}});if(e.delete(),t.ok){let r=new ka().getBlob({base64:t.data});this.obj_url=URL.createObjectURL(r),this.frame.control.src=this.obj_url}else yield h(t.data,"red")})}dispose(){this.obj_url!=null&&URL.revokeObjectURL(this.obj_url)}},wa=class o extends L{info(a,e){let t=new I(["",""]);t.add(["Code:",new l(a.code,"red").style({fontWeight:"bold"})],[{style:{width:"100px"}}]),t.add(["Request:",new l(a.doc_info.desc)],[{style:{width:"100px"}}]),t.add(["Type:",new l(a.doc_info.type)],[{style:{width:"100px"}}]),t.add(["Office:",new l(a.doc_info.office)],[{style:{width:"100px"}}]),t.add(["Reason:",new l(a.reason)],[{style:{width:"100px"}}]),t.add(["Date Applied:",new l(a.datecreated)],[{style:{width:"100px"}}]),t.add(["Requestor:",new l(`${a.requestor[0].pre} ${a.requestor[0].fname} ${a.requestor[0].mname.length>0?a.requestor[0].mname[0]+".":""} ${a.requestor[0].lname} ${a.requestor[0].ename} ${a.requestor[0].suf}`).style({fontWeight:"bold",color:"#ff6767"})],[{style:{width:"100px"}}]),t.add(["Position:",new l(`${a.requestor[0].pos}`)],[{style:{width:"100px"}}]);let f=null,r=new b(new n([new w("info-circle"),new p(5),new l("ACTION").style({letterSpacing:"2px"})]),"blue").size("small").style({borderRadius:"20px"}).ripple();return f=new b(new n([new w("search"),new p(5),new l("View Form")]),"pink").style({borderRadius:"20px"}).size("small"),t.add(["",new n([r,new p(5),f])]),r.addEventListener("click",()=>s(this,null,function*(){let d=yield new Me(a.code).show();if(d!=null&&d){this.track_panel.clear();let c=yield new y().requestInfo(this.code);if(!c.ok){yield h("Invalid Document","red"),this.hide(!1);return}this.track_panel.add(this.track(c.data,e))}})),f.addEventListener("click",()=>s(this,null,function*(){let d=yield new He(a.code).show()})),e||r.hide(),new R().style({padding:"2px",borderRadius:"10px"}).add(new n().add([new n([new w("info-circle"),new p(5),new l("Information")]).style({padding:"10px",fontWeight:"bold"}),new B(t)]))}track(a,e){let t=new aa;t.add(new n([new w("history"),new p(5),new l("Tracking History")]),"green");let f={c:{icon:"info-circle",color:"green"},a:{icon:"thumbs-up",color:"blue"},da:{icon:"thumbs-down",color:"red"},cl:{icon:"check-circle",color:"green"}};for(let d of a.remark_list){let c=d.f,u=null;try{let m=JSON.parse(c),z=new $;for(let v of m){let k=new b(new n([new w("download"),new p(10),new l(v.name)]),"ios-green").style({borderRadius:"20px",width:"100%"});z.add(new M().add(k).style({padding:"2px"}),["s12","m12","l4"]),k.addEventListener("click",()=>s(this,null,function*(){k.showLoader();let C=yield new y().downloadFile({code:a.code,id:v.id,fn:X=>{if(X.total>0){let W=Math.round(X.loaded/X.total*100);k.loaderText(W+"%")}}});if(!C.ok)return k.hideLoader(),yield h(C.data,"red");function E(X){var W=X,K=W.split(",")[1],Y=T(K),J=URL.createObjectURL(Y),P=document.createElement("a");P.href=J,P.download=v.name,document.body.appendChild(P),P.click(),window.URL.revokeObjectURL(J)}function T(X){for(var W=atob(X),K=new Array(W.length),Y=0;Y<W.length;Y++)K[Y]=W.charCodeAt(Y);var J=new Uint8Array(K);return new Blob([J],{type:"image/jpeg"})}E(C.data),k.hideLoader()}))}u=new H([new l("List of Files (Downloadable)","orange").style({fontWeight:"bold"}),z])}catch(m){}t.add(new H([new n([new w(f[d.k].icon,f[d.k].color),new p(5),new l(d.v)]),new l(d.d,"gray").style({fontSize:"8pt",textIndent:"11px"}),u!=null?u:new l("")]))}let r=new aa,i=0;return a.seen_json!=null&&(i=JSON.parse(a.seen_json).length),r.add(new n([new w("eye"),new p(2),new l("Seen By: "),new l(`${i} user(s)`)])),new H([new R().style({padding:"2px"}).add(t),r])}constructor(a,e=!1){super(new n([new w("search"),new p(5),new l("Tracking Viewer")]),"1280px","blue"),this.code=a;let t=new $;this.track_panel=new n,s(this,null,function*(){let f=new F;q(o.prototype,this,"add").call(this,f);let r=yield new y().requestInfo(this.code);if(!r.ok){yield h("Invalid Document","red"),this.hide(!1);return}e&&(yield new y().seenDocument({id:a})),f.hide();let i=r.data;this.track_panel.add(this.track(i,e)),t.add(new M().add(this.info(i,e)).style({padding:"4px"}),["m4"]),t.add(new M().add(this.track_panel).style({padding:"4px"}),["m8"]),q(o.prototype,this,"add").call(this,t)})}},We=class o extends L{constructor(){super("Please Register to join Global Chat!","500px","green");let a=new g("Employee No.","text","Enter your employee ID or Biometric ID").border(),e=new g("Fullname","text","Enter your fullname include title").border(),t=new g("Position","text","Enter your position title").border(),f=new b(new n([new w("save"),new p(5),new l("Save")]),"blue").style({marginTop:"5px",borderRadius:"20px"}).size("small").ripple();s(this,null,function*(){q(o.prototype,this,"add").call(this,new n().style({padding:"10px"}).add([a,e,t,f])),f.addEventListener("click",()=>s(this,null,function*(){if(a.getValue().trim()=="")return yield h("Employee no is required!");if(e.getValue().trim()=="")return yield h("Fullname is required");if(t.getValue().trim()=="")return yield h("position is required!");localStorage.setItem("____",btoa(JSON.stringify({emp_id:a.getValue(),name:e.getValue(),position:t.getValue()}))),yield h("Successfully registered!"),this.hide()}))})}},Ia=class extends R{constructor({width:a=300,height:e=300}){super(),super.style({width:`${a}px`,height:`${e}px`,backgroundColor:"white",position:"relative",borderRadius:"10px"}),this.ws=null;let t=new O("blue").style({height:"40px",borderRadius:"10px 10px 0 0"}),f=new b("X","red").size("tiny").style({position:"absolute",top:"5px",right:"5px",borderRadius:"5px"}),r=new b("-","pink").size("tiny").style({position:"absolute",top:"5px",right:"45px",borderRadius:"5px"}),i=!0,d=null;r.addEventListener("click",()=>{d==null&&(d=super.control().style.bottom),i?super.style({bottom:"-260px"}):super.style({bottom:d}),i=!i}),f.addEventListener("click",()=>s(this,null,function*(){(yield j("Sign Out?"))&&(localStorage.removeItem("____"),this.name="",this.position=""),yield h("Succefully Sign Out")})),t.add(new n([new w("message"),new p(10),new l("GLOBAL").style({letterSpacing:"3px"}),r,f])),this.msg=new R().style({height:`${e-90}px`,overflowY:"auto",padding:"5px"}),this.msg.add(new U(`
            <center><h2>Realtime ChatBox</h2></center>
            <center style="text-align: justify;font-size: 12px;"><p>Note: <span style="color: red;"> This chatbox is temporary, and there is no need for storage, so if there are no online users active, your message will not be read. If you send a message, check if there are active users, to ensure that your message will be read by the user. Because this chatbox is in real-time, it will be temporarily removed if the device is closed.</span></p></center>
        `));let c=new O("sand").style({position:"absolute",bottom:"0px",left:"0px",height:"50px",borderRadius:"0 0 10px 10px"}),u=new g(null,"text","Type to chat...").size("small").style({width:`${a-77}px`}),m=new b(new w("paper-plane"),"blue").size("small");c.add(new n([u,m])),super.add([t,this.msg,c]),this.name="",this.position="",s(this,null,function*(){let z=yield new y().getUserInfo(localStorage.getItem("uid"));if(z.ok)this.name=z.data.name,this.position=z.data.position;else try{let k=JSON.parse(atob(localStorage.getItem("____")));this.name=k.name,this.position=k.position}catch(k){}let v=k=>s(this,null,function*(){if(this.name=="")try{let C=JSON.parse(atob(localStorage.getItem("____")));this.name=C.name,this.position=C.position}catch(C){}if(this.name.trim()==""){yield new We().show();return}this.ws!=null?k.trim()!=""&&this.ws.send(JSON.stringify({type:"send-message",data:JSON.stringify({name:this.name,position:this.position,uid:"",msg:k,seen:0,date:""})})):yield h("You cant send message!")});m.addEventListener("click",()=>s(this,null,function*(){let k=u.getValue();u.setValue(""),v(k)})),u.addEventListener("keydown",k=>s(this,null,function*(){if(k.keyCode==13){let C=u.getValue();u.setValue(""),v(C)}}))})}setSocket(a){return this.ws=a,this}addMessage({icon:a=null,uid:e=null,name:t="",position:f="",msg:r="",receive:i=!1,seen:d=0,date:c=""}){let u=new R("sand").style({marginBottom:"5px",padding:"5px"});u.add([new n([new w("user-circle"),new p(5),new l(t.toUpperCase())]).style({fontSize:"11px",color:"gray"}),new l(r).style({textAlign:"justify",textIndent:"10px"}),new n([new n([new w("eye"),new p(5),new l(`${d}`),new p(10),new w("calendar"),new p(5),new l(c)]).style({fontSize:"8px",color:"rgb(175, 175, 175)"})])]),this.msg.add(u),this.msg.control.scrollTop=this.msg.control.scrollHeight}load(){}loadPrev(){}},Ye=class extends n{constructor(){super(),super.class("intro-bg");let a=new $,e=new Aa("New Request","green","request-icon.png"),t=new Aa("Track Request ","blue","track-icon.png"),f=new Aa("Online","blue","user.png"),r=new Aa("Online User","blue","online.png");a.add(e,["m4","s6","l3"]),a.add(t,["m4","s6","l3"]),a.add(f,["m4","s6","l3"]),a.add(r,["m4","s6","l3"]);let i=new O("blue");i.add("Finance Information System (DEDVMH) FIS App");let d=new b(new n([new w("sign-in"),new p(10),new l("Sign In")]),"ios-blue").size("small").ripple().style({borderRadius:"20px"});i.add(d,!0),this.table=new I(["Action","Code"]).border().striped().all().hide(),this.chatbox=new Ia({}).style({position:"fixed",bottom:"5px",right:"5px"}),super.add([i,a,new n().style({padding:"10px",width:"100%"}).add([new l("Recent Request").style({fontWeight:"italic"}),new R().add(new B(this.table))]),this.chatbox]),e.addEventListener("click",()=>s(this,null,function*(){let m=yield new Ge().show();if(m){if(localStorage.getItem("data")==null)localStorage.setItem("data",JSON.stringify([m]));else{let k=JSON.parse(localStorage.getItem("data"));k.push(m),localStorage.setItem("data",JSON.stringify(k))}this.reload(),yield h(`Request successfully submitted!
                    <hr />
                    Note: Remember the tracking code to monitor your request: 
                    <hr />
                    <h5><b>Tracking Code: </b><b style="color:red;"> ${m}</b> </h5> 
                `,"yellow");let v=yield new wa(m).show()}})),t.addEventListener("click",()=>s(this,null,function*(){let m=yield new Je().show()})),d.addEventListener("click",()=>s(this,null,function*(){if(yield new y().isBrowserAuth()){ea.navigate(new Ua);return}ea.navigate(new wt)})),this.reload(),this.ws=null;let c=()=>{let u=window.location.protocol==="https:"?"wss":"ws",m=window.location.port&&window.location.port!=="80"&&window.location.port!=="443"?`:${window.location.port}`:"",z=`${u}://${window.location.hostname}${m}/api/ws`,v=new URL(z);v.searchParams.set("token",btoa(localStorage.getItem("xauth"))),v.searchParams.set("device",localStorage.getItem("device")),this.ws=new WebSocket(v.toString()),this.ws.onopen=k=>{this.chatbox.setSocket(this.ws)},this.ws.onmessage=k=>{try{let C=JSON.parse(k.data);if(C.type=="online")f.updateText({text:"Device/Tab Connected: "+C.data});else if(C.type=="file")s(this,null,function*(){yield h(`${C.data}`,"green")});else if(C.type=="request")s(this,null,function*(){C.ok?yield h(C.data,"green"):yield h(C.data,"red")});else if(C.type=="online_user")r.updateText({text:"User/Tab Active: "+C.data});else if(C.type=="send-message"){let E=JSON.parse(C.data);this.chatbox.addMessage({name:E.name,msg:E.msg,seen:E.seen,date:E.date})}}catch(C){}},this.ws.onclose=k=>s(this,null,function*(){this.chatbox.setSocket(null),k.wasClean||(yield h("You have been disconnected!"),c())}),this.ws.onerror=k=>{this.chatbox.setSocket(null)}};s(this,null,function*(){yield this.registerDevice(),c()})}registerDevice(){return s(this,null,function*(){if(localStorage.getItem("device")==null){let a=yield new y().getRegistration();localStorage.setItem("device",a.data)}else if(localStorage.getItem("device").length!=10){let a=yield new y().getRegistration();localStorage.setItem("device",a.data)}})}truncateString(a,e){return a.length<=e?a:a.slice(0,e)+"..."}reload(){let a=localStorage.getItem("data");if(a==null)return;this.table.removeAttr("style"),this.table.clearBody();let e=JSON.parse(a),t=e.length;for(let f=t-1;f>=0;f--){let r=e[f],i=new b(new n([new w("search"),new p(10),new l("Track")]),"blue").size("small").style({borderRadius:"20px"}),d=new b(new n([new w("trash"),new p(10),new l("Remove")]),"red").size("small").style({borderRadius:"20px"}),c=this.table.add([new M().add(new n([i,new p(10),d])),new l(this.truncateString(r,10))],[{style:{width:"100px"}}]);i.addEventListener("click",()=>s(this,null,function*(){i.showLoader();let m=yield new wa(r).show();i.hideLoader()})),d.addEventListener("click",()=>s(this,null,function*(){let u=localStorage.getItem("data");if(u==null)return;let m=JSON.parse(u),z=m.length,v=f;(yield j("Are you sure to remove this item? This will only remove in your machine; note: Remember your Tracking code before removing this item."))&&(m.splice(v,1),localStorage.setItem("data",JSON.stringify(m)),c.delete())}))}}dispose(){this.ws.close()}},_a=Ye;var Xe=new Za;Xe.navigate(new _a);Xe.run();var ea=Xe;})();
